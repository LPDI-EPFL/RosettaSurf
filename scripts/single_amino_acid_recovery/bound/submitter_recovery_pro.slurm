#!/bin/bash
#SBATCH --nodes 1
#SBATCH --ntasks-per-node 1
#SBATCH --cpus-per-task 1
#SBATCH --mem 8192
#SBATCH --time 24:00:00
#SBATCH --partition serial
#SBATCH --output=./pro.%A_%a.out
#SBATCH --error=./pro.%A_%a.err

pdb_id=("3OKY_A_B" "5DO2_CD_B" "5CUS_HL_A" "1CBW_ABC_D" "1GCQ_B_C" "3IA3_A_D" "1MQ8_A_B" "4QRP_K_L" "4EIG_A_B" "4H8W_HL_G" "2V6X_A_B" "1EAW_A_B" "2PSM_A_F" "1DPJ_A_B" "1DP5_A_B" "4YH7_A_B" "4L0P_A_B" "3DXD_A_B" "3WSQ_HL_A" "4UV7_HL_A" "5FVK_A_C" "4QCI_HL_C" "4JPV_HL_G" "1Y64_A_B" "5DO2_CD_B" "6B08_CB_A" "4MJS_A_B" "3UX9_A_B" "2MV7_A_B" "3G6J_E_F" "1TDQ_A_B" "2VH5_HL_R" "4C5G_A_B" "3SKU_A_D" "3U82_A_B" "1SYQ_A_B" "2YVJ_A_B" "4UYQ_A_B" "5J8H_A_B" "3BK3_A_C" "4Z80_A_C" "2DD8_H_L" "2Z8W_A_D" "3U30_CB_A" "5INB_A_B" "3BSZ_NM_E" "2K2S_A_B" "5UEA_HL_D" "1H0D_BA_C" "3AON_A_B" "4AFZ_A_C" "2J8X_A_B" "2FTM_A_B" "3GC3_A_B" "3RPG_B_C" "5OCC_HL_A" "4DID_A_B" "2KWV_A_B" "5UG0_DC_A" "1NVU_Q_S" "4KVN_HL_A" "4WEN_A_B" "4J4P_HL_A" "1PVH_A_B" "4JW3_A_C" "2VLO_A_B" "5J3H_CD_E" "2Y8S_A_B" "3FPU_A_B" "3CX6_A_B" "4J6G_A_C" "2MLX_B_A" "1F6M_A_C" "3BLH_A_B" "5D5M_A_B" "1KXP_A_D" "4RE1_A_D" "1SYQ_A_B" "1P2C_AB_C" "3REB_A_B" "5J4A_A_B" "4AYI_A_D" "3OAK_A_D" "2FDB_M_P" "5F3X_A_B" "3OKY_A_B" "1PXV_A_C" "2MEJ_A_B" "5UEM_HL_G" "3WSQ_HL_A" "1IRA_Y_X" "4UU9_AB_C" "1YDI_A_B" "1HIA_AB_I" "4NM3_A_B" "3ZEU_D_E" "4U4C_A_B" "1NF3_A_C" "2NZ1_X_Y" "4Y5O_A_B" "3ONA_A_B" "2OMX_A_B" "1D6R_A_I" "1KKL_ABC_H" "3KZ1_A_F" "2QXV_A_B" "5HVF_A_B" "4RX4_HL_G" "2QC1_A_B" "4ZQU_A_B" "5F96_HL_G" "5J28_A_C" "3FHC_A_B" "4PJ2_A_D" "4U4C_A_B" "3ZJY_E_D" "3E1Z_A_B" "3S9D_B_A" "4TTD_HL_A" "4UI1_D_A" "1I2M_A_B" "5VAG_CB_A" "1QFW_IM_AB" "1OGY_A_B" "5MVZ_HL_U" "2OMW_A_B" "3V7A_EH_A" "1P2C_AB_C" "4K9E_HL_C" "2ARP_A_F" "5H35_FG_E" "3Q9N_A_C" "3FPU_A_B" "2DSP_B_I" "4HX3_BD_A" "5HI5_CD_A" "5VLP_HL_A" "1UUG_A_B" "3KLS_A_X" "4OL0_A_B" "2F9Z_A_C" "5BK2_CD_B" "2X9A_D_C" "4BQD_A_C" "6CMG_CB_A" "5W5Z_HL_A" "3FXD_A_B" "5AYR_A_B" "3IFQ_A_C" "5BW7_A_B" "3OXU_B_F" "2KT5_A_B" "3GXU_A_B" "5HPK_A_B" "3BX7_A_C" "2HLE_A_B" "1AXI_A_B" "4KJY_A_B" "1Z3G_IM_B" "3L89_ABC_M" "3T6G_A_B" "1OC0_A_B" "4P59_HL_A" "1WQ1_R_G" "4U30_A_X" "3EGG_A_C" "2WG4_A_B" "4WEU_D_B" "1LX5_A_B" "4RE1_A_D" "5BN5_A_B" "4HJ0_PQ_A" "4RWY_HL_A" "1UUZ_A_D" "5FR1_A_B" "4M5F_A_B" "3V6B_A_R" "4QT8_A_C" "4D9Q_ED_B" "1NVU_Q_S" "4EKC_A_B" "1Y8N_A_B" "2KWJ_B_A" "2WP3_T_O" "2Y8T_A_B" "5LWY_HL_A" "5IOH_A_B" "3UYO_A_D" "4V0N_D_C" "4JS0_A_B" "3CX6_A_B" "2ZJS_HL_Y" "2V52_B_M" "5AYR_A_B" "4EIG_A_B" "1QFW_IM_AB" "5AYS_A_C" "1YQV_HL_Y" "4K1R_A_B" "1USV_A_B")
chains1=("A" "B" "A" "D" "B" "D" "A" "L" "A" "G" "B" "B" "F" "A" "A" "A" "A" "B" "A" "A" "C" "C" "H,L" "A" "B" "C,B" "A" "A" "B" "F" "A" "R" "A" "D" "B" "A" "B" "B" "A" "A" "C" "H" "A" "A" "B" "E" "B" "D" "C" "B" "A" "A" "B" "A" "C" "A" "A" "A" "A" "S" "H,L" "A" "A" "B" "A" "B" "E" "A" "A" "A" "A" "A" "C" "A" "A" "D" "A" "A" "C" "B" "B" "D" "A" "P" "B" "A" "C" "A" "H,L" "A" "Y" "C" "A" "I" "A" "D" "A" "A" "X" "A" "A" "B" "I" "A,B,C" "A" "A" "A" "H,L" "B" "B" "H,L" "C" "A" "A" "B" "D" "A" "B" "H,L" "A" "A" "C,B" "I,M" "B" "U" "B" "A" "C" "C" "A" "E" "A" "A" "B" "B,D" "A" "A" "A" "X" "A" "A" "C,D" "D" "C" "A" "A" "B" "A" "C" "A" "F" "B" "A" "B" "C" "A" "A" "B" "B" "M" "A" "A" "A" "R" "X" "C" "B" "D" "A" "D" "A" "A" "H,L" "A" "A" "B" "A" "C" "B" "S" "A" "B" "A" "T" "A" "A" "A" "A" "D" "B" "B" "Y" "B" "A" "A" "A,B" "A" "Y" "A" "B")
chains2=("B" "C,D" "H,L" "A,B,C" "C" "A" "B" "K" "B" "H,L" "A" "A" "A" "B" "B" "B" "B" "A" "H,L" "H,L" "A" "H,L" "G" "B" "C,D" "A" "B" "B" "A" "E" "B" "H,L" "B" "A" "A" "B" "A" "A" "B" "C" "A" "L" "D" "C,B" "A" "N,M" "A" "H,L" "B,A" "A" "C" "B" "A" "B" "B" "H,L" "B" "B" "D,C" "Q" "A" "B" "H,L" "A" "C" "A" "C,D" "B" "B" "B" "C" "B" "A" "B" "B" "A" "D" "B" "A,B" "A" "A" "A" "D" "M" "A" "B" "A" "B" "G" "H,L" "X" "A,B" "B" "A,B" "B" "E" "B" "C" "Y" "B" "B" "A" "A" "H" "F" "B" "B" "G" "A" "A" "G" "A" "B" "D" "A" "E" "B" "A" "A" "D" "B" "A" "A,B" "A" "H,L" "A" "E,H" "A,B" "H,L" "F" "F,G" "C" "B" "I" "A" "C,D" "H,L" "B" "A" "B" "C" "B" "C" "A" "C,B" "H,L" "A" "B" "A" "B" "B" "A" "B" "A" "A" "B" "B" "A" "I,M" "A,B,C" "B" "B" "H,L" "G" "A" "A" "A" "B" "B" "A" "B" "P,Q" "A" "D" "B" "A" "R" "A" "E,D" "Q" "B" "A" "B" "O" "B" "H,L" "B" "D" "C" "A" "A" "H,L" "M" "B" "B" "I,M" "C" "H,L" "B" "A")
mut_res=("96A" "531B" "458A" "13D" "206B" "95D" "36A" "115L" "21A" "79G" "206B" "13B" "68F" "292A" "292A" "194A" "64A" "685B" "363A" "361A" "189C" "82C" "60H" "367A" "394B" "55B" "67A" "26A" "884B" "167F" "177A" "34R" "672A" "130D" "130B" "43A" "81B" "33B" "43A" "35A" "1309C" "123H" "185A" "37A" "413B" "146E" "11B" "63D" "91C" "16B" "26A" "110A" "13B" "178A" "28C" "179A" "73A" "509A" "185A" "621S" "107H" "59A" "365A" "17B" "49A" "73B" "242E" "339A" "13A" "202A" "174A" "381A" "34C" "11A" "232A" "316D" "342A" "15A" "679C" "94B" "14B" "182D" "227A" "2170P" "353B" "397A" "102C" "119A" "30H" "356A" "113Y" "45C" "38A" "47I" "294A" "40D" "953A" "73A" "356X" "358A" "313A" "6B" "20I" "196A" "1054A" "199A" "68A" "95L" "197B" "66B" "57H" "533C" "352A" "44A" "24B" "172D" "92A" "49B" "97H" "332A" "102A" "100C" "305I" "4B" "23U" "-2B" "435A" "670C" "317C" "88A" "57E" "111A" "24A" "68B" "5B" "91A" "540A" "87A" "135X" "49A" "56A" "105C" "415D" "5C" "488A" "43A" "44B" "165A" "668C" "395A" "1166F" "113B" "38A" "8B" "103C" "151A" "48A" "35B" "63B" "38M" "470A" "111A" "274A" "34R" "13X" "427C" "421B" "905D" "59A" "98D" "382A" "89A" "95L" "42A" "108A" "62B" "40A" "681C" "132B" "684S" "185A" "142B" "354A" "11T" "143A" "130A" "24A" "150A" "419D" "280B" "311B" "242Y" "332B" "271A" "53A" "73B" "111A" "70Y" "308A" "96B")

for i in {0..200}
do
    srun /PATH_TO_ROSETTA/source/bin/rosetta_scripts.default.linuxiccrelease -parser:protocol recovery.xml -ignore_unrecognized_res -out:file:score_only recover_pro.sc -s ${pdb_id[$i]}.pdb -parser:script_vars c1=${chains1[$i]} c2=${chains2[$i]} r=${mut_res[$i]} -out:no_nstruct_label -mute core.scoring.sc.ShapeIdentityCalculator -in:file:native ${pdb_id[$i]}.pdb
done
    
