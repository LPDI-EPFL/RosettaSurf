#!/bin/bash
#SBATCH --nodes 1
#SBATCH --ntasks-per-node 1
#SBATCH --cpus-per-task 1
#SBATCH --mem 8192
#SBATCH --time 24:00:00
#SBATCH --partition serial
#SBATCH --output=./met.%A_%a.out
#SBATCH --error=./met.%A_%a.err

pdb_id=("5F4E_A_B" "5JKE_A_B" "4BRU_A_B" "1EZU_C_AB" "3SRI_A_B" "3MA9_HL_A" "5D1Q_CD_E" "4DID_A_B" "3MJ7_A_B" "2XHE_A_B" "4O9H_HL_A" "3FII_A_B" "4U4C_A_B" "3MZG_A_B" "2M55_A_B" "4A1S_B_E" "5CZF_A_D" "4ZSO_BA_E" "1XD3_A_B" "1AK4_A_D" "1XJ7_A_B" "2KWK_B_A" "1T63_A_B" "4DOQ_A_B" "4HF5_HL_A" "3U82_A_B" "5TAR_A_B" "3KYI_A_B" "4XVT_HL_G" "3KJ1_A_B" "1HCF_AB_X" "2WO3_A_B" "5XWD_HD_A" "1EWY_A_C" "4JB9_HL_G" "1UDI_E_I" "5GLH_A_B" "3HCT_A_B" "4BWQ_E_F" "4ETW_A_B" "3DXD_A_B" "2CFH_A_C" "4K9E_HL_C" "1SQ0_A_B" "2C1M_A_B" "2G2U_A_B" "3BRT_A_B" "1DPJ_A_B" "1OGY_A_B" "2WWX_A_B" "2WJV_A_D" "2Q8B_HL_A" "1LFD_B_A" "5IJ9_A_B" "1Y3B_E_I" "4GXU_MN_ABEFCD" "5HPY_A_B" "4RJF_A_B" "5ABV_A_B" "3W8I_A_B" "2WFX_A_B" "4XNY_HL_G" "4MRT_C_A" "4MXV_FE_B" "1DHK_A_B" "3DOE_A_B" "2Q5D_A_C" "2EFH_A_B" "5BN5_A_B" "2XA0_A_C" "4CT0_A_B" "5XMH_DC_B" "2HLE_A_B" "3AU4_A_B" "3DAW_A_B" "1F34_A_B" "4Y5O_A_B" "1BGX_HL_T" "3KBT_A_D" "2VE7_A_C" "2HMI_CD_AB" "4D0G_A_C" "5EB1_A_B" "3TL8_A_B" "3MA2_D_C" "4OYD_A_B" "4YIZ_A_B" "1J7V_L_R" "4YBQ_FE_A" "4M1L_A_B" "4Y5O_A_B" "1BJ1_HL_VW" "3ZWZ_A_B" "1US7_A_B" "1MXE_A_E" "1BJ1_HL_VW" "4YOC_A_C" "5AGW_B_C" "3H8K_A_B" "1DE4_AB_CF" "3UX9_A_B" "2V3B_A_B" "4HCP_A_B" "2QNA_A_B" "4UEM_A_B" "2MZD_A_B" "3BX1_A_C" "2J8X_A_B" "1MZW_A_B" "4DGE_A_C" "4U32_X_A" "4G59_A_C" "5BV7_HL_A" "4ETP_A_B" "1MXE_A_E" "1ZJD_A_B" "1UUG_A_B" "2JEL_HL_P" "4U4C_A_B" "4Q96_D_E" "2IY1_A_B" "4XVP_A_D" "2Y8T_A_B" "5BOZ_A_G" "2F31_A_B" "2MLX_B_A" "4Q96_D_E" "4YPI_C_G" "1DP5_A_B" "2WEL_A_D" "4MJS_A_B" "2A1A_B_A" "5B76_A_B" "5JG6_A_B" "3TKL_A_B" "2WG4_A_B" "3HCU_A_B" "5B77_A_B" "2LQC_A_B" "4Y61_A_B" "3WO3_A_B" "1G0V_A_B" "2BQZ_A_B" "5KVD_HL_E" "2C1M_A_B" "3S9D_B_A" "2OOR_AB_C" "4YH7_A_B" "4BOH_B_A" "1SV0_A_C" "5DOB_A_B" "1RKE_A_B" "2HQW_A_B" "3G6D_LH_A" "4YH7_A_B" "1ACB_E_I" "3PGF_HL_A" "1VYT_A_E" "3DOE_A_B" "5ET1_A_C" "3TG1_A_B" "5EP6_A_B" "1GCQ_B_C" "3ZYI_A_B" "4YIZ_A_B" "4ONS_A_B" "4QRP_K_L" "1YRU_A_B" "4F48_A_B" "5IXD_A_B" "4AWX_A_B" "3G9V_A_B" "4V0N_D_C" "4JEG_A_B" "1R8S_A_E" "2LY4_A_B" "3D1M_A_D" "3UKZ_B_C" "4YDJ_HL_G" "2WY3_B_A" "1TMQ_A_B" "2Z8W_A_D" "4RWT_A_D" "3DVM_A_B" "3RGF_A_B" "5SZH_A_B" "4C9B_A_B" "4Q5U_A_C" "4ETW_A_B" "2G2W_A_B" "3I50_HL_E" "4NZW_A_B" "4CDK_A_E" "3PVM_A_B" "2LKM_A_B" "2WEL_A_D" "4CT0_A_B" "2B42_B_A" "3GMW_A_B" "4KV5_C_D")
chains1=("B" "B" "B" "A,B" "B" "A" "E" "A" "A" "B" "A" "B" "A" "B" "A" "E" "A" "E" "A" "A" "A" "A" "A" "B" "H,L" "B" "B" "B" "H,L" "A" "X" "A" "H,D" "A" "H,L" "I" "A" "B" "E" "B" "B" "C" "C" "B" "B" "A" "A" "A" "B" "B" "D" "A" "A" "B" "I" "M,N" "A" "B" "A" "A" "B" "H,L" "C" "F,E" "B" "A" "A" "B" "A" "C" "A" "B" "A" "A" "B" "B" "B" "T" "D" "C" "A,B" "C" "B" "B" "C" "B" "A" "L" "A" "A" "B" "V,W" "A" "A" "A" "V,W" "C" "B" "A" "A,B" "A" "A" "A" "A" "A" "B" "C" "B" "A" "A" "X" "C" "A" "A" "A" "A" "B" "H,L" "A" "E" "A" "D" "A" "G" "A" "A" "D" "G" "A" "D" "A" "A" "A" "A" "B" "B" "B" "A" "A" "B" "A" "B" "A" "E" "B" "A" "A,B" "A" "A" "C" "A" "B" "A" "L,H" "A" "E" "A" "A" "B" "A" "B" "B" "C" "A" "A" "B" "K" "B" "A" "B" "B" "B" "D" "A" "E" "B" "D" "C" "G" "B" "B" "A" "D" "A" "A" "B" "A" "A" "A" "A" "E" "A" "A" "B" "B" "D" "B" "A" "A" "D")
chains2=("A" "A" "A" "C" "A" "H,L" "C,D" "B" "B" "A" "H,L" "A" "B" "A" "B" "B" "D" "B,A" "B" "D" "B" "B" "B" "A" "A" "A" "A" "A" "G" "B" "A,B" "B" "A" "C" "G" "E" "B" "A" "F" "A" "A" "A" "H,L" "A" "A" "B" "B" "B" "A" "A" "A" "H,L" "B" "A" "E" "A,B,E,F,C,D" "B" "A" "B" "B" "A" "G" "A" "B" "A" "B" "C" "A" "B" "A" "B" "D,C" "B" "B" "A" "A" "A" "H,L" "A" "A" "C,D" "A" "A" "A" "D" "A" "B" "R" "F,E" "B" "A" "H,L" "B" "B" "E" "H,L" "A" "C" "B" "C,F" "B" "B" "B" "B" "B" "A" "A" "A" "B" "C" "A" "A" "H,L" "B" "E" "B" "A" "P" "B" "D" "B" "A" "B" "A" "B" "B" "E" "C" "B" "A" "B" "B" "B" "B" "A" "A" "A" "B" "B" "A" "B" "A" "B" "H,L" "A" "B" "C" "B" "B" "A" "B" "A" "B" "A" "B" "I" "H,L" "E" "A" "C" "A" "A" "B" "B" "B" "A" "L" "A" "B" "A" "A" "A" "C" "B" "A" "A" "A" "B" "H,L" "A" "A" "D" "A" "B" "B" "A" "B" "C" "B" "B" "H,L" "B" "E" "A" "A" "A" "A" "B" "B" "C")
mut_res=("83B" "83B" "113B" "285B" "2042B" "51A" "342E" "45A" "108A" "246B" "184A" "46B" "1016A" "71B" "36A" "14E" "56A" "203E" "213A" "61A" "734A" "343A" "734A" "73B" "28H" "85B" "118B" "14B" "74H" "231A" "354X" "60A" "102H" "140A" "53H" "24I" "245A" "64B" "91E" "543B" "677B" "14C" "318C" "239B" "1B" "272A" "735A" "289A" "119B" "439B" "1121D" "224A" "30A" "323B" "59I" "98M" "367A" "147B" "73A" "83A" "379B" "30H" "49C" "97F" "40B" "10A" "630A" "78B" "257A" "74C" "484A" "252B" "185A" "2033A" "259B" "73B" "86B" "747T" "918D" "74C" "230B" "629C" "59B" "274B" "366C" "55B" "233A" "39L" "244A" "125A" "11B" "81W" "273A" "116A" "36A" "94W" "761C" "115B" "42A" "75A" "31A" "63A" "152A" "630A" "296A" "10B" "35C" "56B" "177A" "61A" "18X" "32C" "257A" "359A" "124A" "96A" "24B" "96H" "400A" "129E" "552A" "28D" "233A" "0G" "216A" "194A" "129D" "34G" "289A" "110D" "74A" "29A" "300A" "57A" "402B" "382B" "64B" "300A" "72A" "209B" "33A" "24B" "272A" "374E" "35B" "16A" "162A" "137A" "531A" "149C" "58A" "1022B" "72A" "92L" "312A" "192E" "321A" "196A" "90B" "216A" "181B" "690B" "594C" "250A" "204A" "98B" "176K" "109B" "51A" "263B" "5B" "172B" "417D" "171A" "216E" "40B" "919D" "1C" "373G" "116B" "510B" "190A" "310D" "36A" "61A" "1B" "403A" "51A" "149A" "129A" "77E" "175A" "192A" "506B" "228B" "52D" "1151B" "318A" "69A" "104D")

for i in {0..200}
do
    srun /PATH_TO_ROSETTA/source/bin/rosetta_scripts.default.linuxiccrelease -parser:protocol recovery.xml -ignore_unrecognized_res -out:file:score_only recover_met.sc -s ${pdb_id[$i]}.pdb -parser:script_vars c1=${chains1[$i]} c2=${chains2[$i]} r=${mut_res[$i]} -out:no_nstruct_label -mute core.scoring.sc.ShapeIdentityCalculator -in:file:native ${pdb_id[$i]}.pdb
done
    
