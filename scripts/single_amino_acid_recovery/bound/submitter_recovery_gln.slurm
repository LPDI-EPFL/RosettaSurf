#!/bin/bash
#SBATCH --nodes 1
#SBATCH --ntasks-per-node 1
#SBATCH --cpus-per-task 1
#SBATCH --mem 8192
#SBATCH --time 24:00:00
#SBATCH --partition serial
#SBATCH --output=./gln.%A_%a.out
#SBATCH --error=./gln.%A_%a.err

pdb_id=("2IY1_A_B" "3GB8_A_B" "1BVN_P_T" "3AU4_A_B" "2MLZ_B_A" "1P6A_A_B" "3V4Y_A_B" "3N4I_A_B" "2VIS_AB_C" "3GRW_HL_A" "1I4D_D_AB" "3C4M_A_C" "1TM7_E_I" "5E95_B_A" "2HLE_A_B" "4LAD_A_B" "4CT0_A_B" "5DUR_HL_C" "4OD2_BA_S" "3WO3_A_B" "4LLO_A_B" "2P47_A_B" "5T5F_HL_A" "5W1K_DC_E" "3P71_T_C" "4U4C_A_B" "3N06_A_B" "2VSM_A_B" "3W9E_AB_C" "5UEA_HL_D" "2M5A_A_B" "1T01_A_B" "3B08_A_B" "2XNS_B_D" "3G6J_E_F" "3O40_A_B" "1SHZ_A_C" "3O40_A_B" "2P8Q_A_B" "2FTL_E_I" "3ZJY_E_D" "2XQY_GL_A" "4KT3_A_B" "3ONW_A_C" "5TUD_CB_A" "1WQ1_R_G" "5D7L_A_B" "5FZT_A_B" "4MP0_A_B" "5XWD_HD_A" "3F1P_A_B" "1H0T_A_B" "1OGY_A_B" "1QFW_IM_AB" "2Z7F_E_I" "5JQ6_HL_A" "3JZA_A_B" "3ZJY_E_D" "4DZU_A_B" "5B78_A_B" "4DH2_A_B" "4QLP_A_B" "3BRV_A_B" "4JEU_A_B" "5TH9_HL_A" "3O43_A_B" "1I4D_D_AB" "5W6D_HL_G" "2KXW_A_B" "4QLP_A_B" "3GNI_A_B" "1GCQ_B_C" "1DHK_A_B" "1Y1K_E_I" "3F50_A_B" "3G7A_A_B" "3D5R_A_C" "4YFL_FI_E" "1P2C_AB_C" "2RU4_A_B" "3C9A_B_D" "3G3B_A_B" "3O43_A_B" "5B76_A_B" "5BJZ_CL_A" "1W1W_B_F" "4U0Q_A_B" "3ZWL_B_E" "1R6Q_A_C" "5JMC_A_B" "2NR6_FE_B" "4HCP_A_B" "3UKZ_B_C" "5D1L_A_B" "4AYE_A_D" "1H9D_A_B" "2I3T_A_B" "2ARP_A_F" "4PQT_A_B" "4EUK_A_B" "3E2K_A_D" "2AYO_A_B" "4KUC_FE_I" "6FAX_HL_R" "4K24_A_U" "4CVW_A_C" "4NNP_HL_A" "5F3X_A_B" "2Z3Q_A_B" "3GQI_A_B" "5J4A_A_B" "3GS2_A_B" "5GGS_AB_Z" "5VIG_AB_G" "3CH5_A_B" "1BRS_A_D" "1IJK_A_BC" "1FJ1_DC_E" "2L14_A_B" "4AOQ_A_D" "4S1S_HL_G" "3KW5_A_B" "1DE4_AB_CF" "2AW2_A_B" "5D72_MN_B" "2NZ8_A_B" "1F34_A_B" "1RKE_A_B" "1TDQ_A_B" "4A94_A_D" "4CNI_HL_C" "4H3P_A_B" "2Y5B_A_B" "4NIQ_A_C" "2Z0E_A_B" "5DFV_EF_B" "2VSM_A_B" "4Q96_D_E" "1TM3_E_I" "3ZYJ_A_B" "3K6G_A_D" "3IXE_A_B" "2OMV_A_B" "3GB8_A_B" "3OJ2_A_C" "2OUL_A_B" "3B08_A_B" "4CJ0_A_B" "5TUD_CB_A" "2G45_A_B" "1PPE_E_I" "2MLX_B_A" "4Y61_A_B" "4DS8_A_B" "2PSM_A_F" "5LI1_A_B" "4LU5_IM_A" "5F3H_AB_J" "3CX8_A_B" "5BK2_CD_B" "3BN9_FE_A" "3WN7_A_B" "2X89_F_G" "1WDW_BD_A" "4CMM_A_B" "1WPX_A_B" "1PKQ_GF_J" "2GAF_D_A" "4F2M_CD_F" "3WKM_IM_B" "2J7P_A_D" "4DM8_A_C" "2YVJ_A_B" "1FFW_A_B" "4L0P_A_B" "4NOO_A_B" "2Y5B_A_B" "3HMX_LH_AB" "4NOO_A_B" "1Y64_A_B" "1U0S_Y_A" "5UTZ_JK_I" "5HVF_A_B" "4BRU_A_B" "4CT0_A_B" "3HMX_LH_AB" "2KNB_A_B" "3SO3_CB_A" "3WQB_A_B" "3E2U_A_E" "1GP2_A_BG" "3T6G_A_B" "1DQJ_AB_C" "2W8B_A_H" "1BJ1_HL_VW" "4ZS7_HL_A" "4CNI_HL_C" "4PBW_B_E" "1T5Z_A_B" "3TGK_E_I")
chains1=("B" "A" "T" "B" "A" "A" "A" "A" "C" "A" "A,B" "A" "I" "A" "B" "B" "B" "C" "S" "A" "B" "A" "A" "E" "T" "A" "A" "B" "C" "H,L" "A" "A" "A" "D" "E" "A" "A" "B" "A" "E" "D" "G,L" "B" "C" "A" "G" "A" "B" "A" "A" "B" "A" "A" "A,B" "I" "A" "A" "E" "A" "B" "A" "B" "A" "B" "A" "A" "D" "G" "B" "B" "B" "B" "B" "E" "A" "A" "C" "F,I" "C" "A" "B" "A" "B" "B" "C,L" "F" "B" "B" "A" "B" "F,E" "B" "C" "B" "D" "B" "A" "F" "B" "A" "A" "B" "I" "R" "A" "A" "A" "B" "A" "A" "A" "B" "Z" "G" "B" "A" "A" "D,C" "A" "A" "H,L" "B" "A,B" "A" "B" "A" "B" "B" "B" "D" "C" "A" "B" "A" "B" "B" "A" "E" "I" "A" "D" "B" "A" "A" "C" "A" "B" "B" "A" "B" "E" "B" "B" "B" "A" "B" "A" "J" "A" "B" "A" "B" "G" "A" "A" "B" "J" "D" "F" "I,M" "D" "A" "A" "A" "B" "B" "B" "L,H" "A" "A" "Y" "I" "A" "B" "A" "A,B" "A" "A" "A" "A" "B,G" "B" "A,B" "A" "V,W" "A" "H,L" "B" "A" "E")
chains2=("A" "B" "P" "A" "B" "B" "B" "B" "A,B" "H,L" "D" "C" "E" "B" "A" "A" "A" "H,L" "B,A" "B" "A" "B" "H,L" "D,C" "C" "B" "B" "A" "A,B" "D" "B" "B" "B" "B" "F" "B" "C" "A" "B" "I" "E" "A" "A" "A" "C,B" "R" "B" "A" "B" "H,D" "A" "B" "B" "I,M" "E" "H,L" "B" "D" "B" "A" "B" "A" "B" "A" "H,L" "B" "A,B" "H,L" "A" "A" "A" "C" "A" "I" "B" "B" "A" "E" "A,B" "B" "D" "B" "A" "A" "A" "B" "A" "E" "C" "A" "B" "A" "B" "A" "A" "A" "B" "A" "A" "B" "D" "A" "F,E" "H,L" "U" "C" "H,L" "A" "B" "B" "B" "A" "A,B" "A,B" "A" "D" "B,C" "E" "B" "D" "G" "A" "C,F" "B" "M,N" "B" "A" "A" "A" "A" "H,L" "B" "A" "C" "A" "E,F" "B" "D" "E" "B" "A" "A" "B" "B" "A" "B" "A" "A" "C,B" "A" "I" "A" "A" "A" "F" "A" "I,M" "A,B" "B" "C,D" "F,E" "A" "F" "B,D" "B" "A" "G,F" "A" "C,D" "B" "A" "C" "B" "B" "A" "A" "A" "A,B" "B" "B" "A" "J,K" "B" "A" "B" "L,H" "B" "C,B" "B" "E" "A" "A" "C" "H" "H,L" "H,L" "C" "E" "B" "I")
mut_res=("89B" "663A" "852T" "1438B" "430A" "496A" "198A" "100A" "132C" "282A" "49B" "37A" "78I" "150A" "109B" "579B" "1175B" "138C" "48S" "103A" "36B" "69A" "87A" "146E" "310T" "460A" "73A" "130B" "132C" "92L" "32A" "19A" "49A" "508D" "160E" "180A" "226A" "27B" "774A" "192E" "82D" "1G" "70B" "515C" "359A" "938G" "93A" "480B" "294A" "384A" "421B" "9A" "773A" "50A" "70I" "428A" "60A" "53E" "194A" "5B" "98A" "722B" "730A" "119B" "199A" "180A" "74D" "328G" "1913B" "762B" "116B" "162B" "19B" "103E" "7A" "22A" "62C" "64F" "641C" "16A" "357B" "81A" "28B" "5B" "28L" "544F" "164B" "304B" "119A" "558B" "102F" "40B" "14C" "245B" "103D" "67B" "195A" "154F" "40B" "799A" "128A" "2B" "112I" "36R" "40A" "574A" "239A" "361B" "48A" "764A" "253A" "238B" "75Z" "350G" "733B" "104A" "668A" "55C" "2096A" "197A" "56H" "40B" "64A" "37A" "20B" "61A" "1B" "994B" "55B" "39D" "154C" "132A" "125B" "15A" "116B" "129B" "559A" "68E" "78I" "252A" "310D" "40B" "190A" "581A" "285C" "19A" "196B" "35B" "355A" "40B" "192E" "274B" "140B" "386B" "48A" "11B" "173A" "92J" "169A" "49B" "174A" "26B" "89G" "52A" "52A" "564B" "2J" "259D" "530F" "100I" "148D" "259A" "295A" "100A" "119B" "43B" "116B" "103H" "942A" "360A" "86Y" "74I" "292A" "108B" "317A" "56A" "74A" "192A" "152A" "91A" "75B" "802B" "53A" "335A" "89W" "175A" "57H" "255B" "738A" "192E")

for i in {0..200}
do
    srun /PATH_TO_ROSETTA/source/bin/rosetta_scripts.default.linuxiccrelease -parser:protocol recovery.xml -ignore_unrecognized_res -out:file:score_only recover_gln.sc -s ${pdb_id[$i]}.pdb -parser:script_vars c1=${chains1[$i]} c2=${chains2[$i]} r=${mut_res[$i]} -out:no_nstruct_label -mute core.scoring.sc.ShapeIdentityCalculator -in:file:native ${pdb_id[$i]}.pdb
done
    
