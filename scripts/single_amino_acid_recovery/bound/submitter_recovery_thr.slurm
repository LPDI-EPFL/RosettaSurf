#!/bin/bash
#SBATCH --nodes 1
#SBATCH --ntasks-per-node 1
#SBATCH --cpus-per-task 1
#SBATCH --mem 8192
#SBATCH --time 24:00:00
#SBATCH --partition serial
#SBATCH --output=./thr.%A_%a.out
#SBATCH --error=./thr.%A_%a.err

pdb_id=("2XWT_AB_C" "2VIR_AB_C" "3V4Y_A_B" "1BGX_HL_T" "1M10_A_B" "4DX8_A_J" "3HMX_LH_AB" "1WRD_A_B" "3FPU_A_B" "3OAK_A_D" "3WO3_A_B" "5VYF_HL_F" "3KYI_A_B" "2GWW_A_B" "4PJ2_A_D" "4RS1_B_A" "5EE5_A_B" "6AQ7_HL_A" "6AQ7_HL_A" "4CT0_A_B" "2J0T_A_D" "3LEV_L_H" "5VIG_AB_G" "1FBI_HL_X" "3BX7_A_C" "1TQB_BC_A" "4S1S_HL_G" "4MHJ_L_H" "3MZG_A_B" "4FQJ_HL_A" "1TE1_A_B" "1R0R_E_I" "5W08_OP_E" "3U7Y_HL_G" "5UTZ_JK_I" "3H11_BC_A" "3IDB_A_B" "5TUD_CB_A" "4MYW_A_B" "6CH7_QR_G" "2JKI_A_S" "4GEH_A_B" "4K1R_A_B" "4DJ9_A_B" "1NCB_HL_N" "3S35_HL_X" "2Z58_A_B" "4D9Q_ED_B" "4CMM_A_B" "4ZGM_A_B" "1Y6N_L_R" "3SRI_A_B" "4LGR_A_B" "4BQD_A_C" "2V52_B_M" "5F3B_AB_C" "2P43_A_B" "3GQI_A_B" "1YRT_A_B" "3E1Z_A_B" "2P45_A_B" "1R6Q_A_C" "5DC4_A_B" "4AYI_A_D" "1HEZ_BA_E" "2AEP_HL_A" "5T33_HL_G" "1E96_A_B" "1NSN_HL_S" "2XHE_A_B" "3TAC_A_B" "4FQ0_B_C" "3ZWL_B_E" "3QML_A_C" "2W9E_HL_A" "5CZX_HL_A" "1ZV5_L_A" "3AON_A_B" "5VEB_AB_X" "1QFU_HL_A" "4LEO_AB_C" "2R56_HL_A" "3UZ0_A_B" "4H03_A_B" "2V6X_A_B" "3T6G_A_B" "3V96_A_B" "2RF9_A_C" "3G6D_LH_A" "4F9L_A_B" "3V6Z_AB_F" "2N1D_A_B" "4FFV_DC_B" "3WWN_A_B" "4I18_HL_C" "2OMZ_A_B" "1BVK_DE_F" "4UV7_HL_A" "2P49_A_B" "5BN5_A_B" "3JZA_A_B" "1DE4_AB_CF" "2P4A_A_B" "4NQW_A_B" "4ZI2_A_C" "2C0L_A_B" "2HD5_A_B" "4PQT_A_B" "1MLC_AB_E" "2OT3_B_A" "2WJV_A_D" "2NYZ_AB_D" "3N4I_A_B" "3TNF_A_B" "1P2C_AB_C" "2JJT_A_C" "2OZA_B_A" "3I50_HL_E" "1EER_A_BC" "2V5Q_A_D" "3ZET_A_B" "4XNY_HL_G" "3SGK_A_B" "2LD7_A_B" "5JQ6_HL_A" "3G9W_A_D" "2W9E_HL_A" "3ZEU_D_E" "3P30_HL_A" "1PJN_A_B" "3R1G_HL_B" "1T44_G_A" "1JK9_B_A" "4PBW_B_E" "5O4G_BA_C" "4KVN_HL_A" "3KW5_A_B" "5VIG_AB_G" "4WNN_A_B" "3AON_A_B" "4P59_HL_A" "4E42_A_B" "4JEG_A_B" "1NMB_HL_N" "3V4Y_A_B" "3WDG_A_B" "4LU5_IM_A" "5TAR_A_B" "2X9A_D_C" "5TH9_HL_A" "2ONL_A_C" "4HF5_HL_A" "3RGV_A_B" "3MA2_D_C" "4H6J_A_B" "5D5M_A_B" "3G3B_A_B" "5E6P_A_B" "4LGP_A_B" "4XHU_C_D" "4I6L_A_B" "1TO1_E_I" "4UYQ_A_B" "3C4P_A_B" "4G6J_HL_A" "6BP2_HL_A" "1X1W_A_D" "3ZYJ_A_B" "4LSU_HL_G" "4YN0_A_B" "4C2B_A_B" "5VLP_HL_A" "4X33_A_B" "2OMY_A_B" "3IDC_A_B" "4JCV_ADBC_E" "1DEE_A_B" "5USH_HL_X" "3P9W_A_B" "3CQG_A_B" "4J6R_HL_G" "2B4J_AB_C" "1L4D_A_B" "5SV3_A_B" "3UZ0_A_B" "3CH5_A_B" "2OMW_A_B" "1GL1_A_I" "4PS4_HL_A" "5TE7_HL_G" "1YNT_DC_G" "1ORQ_BA_C" "4DG4_A_E" "4AG2_A_C" "2GAF_D_A" "3PC8_A_C" "5TZ2_HL_C" "4N7Z_A_B" "3SRI_A_B" "2Y8S_A_B")
chains1=("A,B" "C" "B" "H,L" "B" "J" "A,B" "A" "B" "A" "B" "H,L" "A" "A" "A" "B" "A" "A" "H,L" "A" "D" "L" "A,B" "H,L" "A" "A" "G" "L" "B" "H,L" "B" "I" "E" "G" "J,K" "A" "A" "A" "A" "Q,R" "S" "A" "B" "B" "H,L" "X" "A" "E,D" "B" "A" "L" "A" "A" "A" "B" "A,B" "B" "B" "A" "A" "B" "A" "B" "D" "B,A" "H,L" "H,L" "A" "H,L" "B" "B" "C" "B" "C" "A" "H,L" "L" "B" "A,B" "H,L" "A,B" "A" "B" "B" "B" "B" "B" "C" "A" "A" "F" "B" "B" "A" "C" "A" "F" "H,L" "B" "B" "A" "A,B" "B" "A" "C" "A" "A" "A" "E" "B" "D" "A,B" "A" "A" "A,B" "C" "B" "E" "A" "A" "B" "G" "B" "A" "A" "A" "H,L" "E" "H,L" "B" "B" "A" "A" "B" "B,A" "A" "A" "G" "B" "B" "H,L" "A" "A" "N" "A" "B" "I,M" "A" "C" "H,L" "C" "A" "A" "C" "B" "A" "A" "A" "A" "D" "B" "E" "A" "B" "H,L" "A" "D" "B" "H,L" "A" "B" "A" "B" "A" "A" "E" "B" "X" "A" "B" "H,L" "A,B" "B" "B" "A" "A" "A" "I" "A" "H,L" "D,C" "B,A" "E" "A" "D" "A" "C" "A" "B" "B")
chains2=("C" "A,B" "A" "T" "A" "A" "L,H" "B" "A" "D" "A" "F" "B" "B" "D" "A" "B" "H,L" "A" "B" "A" "H" "G" "X" "C" "B,C" "H,L" "H" "A" "A" "A" "E" "O,P" "H,L" "I" "B,C" "B" "C,B" "B" "G" "A" "B" "A" "A" "N" "H,L" "B" "B" "A" "B" "R" "B" "B" "C" "M" "C" "A" "A" "B" "B" "A" "C" "A" "A" "E" "A" "G" "B" "S" "A" "A" "B" "E" "A" "H,L" "A" "A" "A" "X" "A" "C" "H,L" "A" "A" "A" "A" "A" "A" "L,H" "B" "A,B" "A" "D,C" "B" "H,L" "B" "D,E" "A" "A" "A" "B" "C,F" "A" "B" "A" "B" "B" "B" "A,B" "A" "A" "D" "B" "B" "C" "A" "A" "H,L" "B,C" "D" "A" "H,L" "A" "B" "H,L" "D" "A" "D" "A" "A" "H,L" "G" "B" "E" "C" "H,L" "B" "A,B" "A" "A" "A" "B" "B" "H,L" "B" "A" "A" "B" "D" "A" "A" "H,L" "B" "D" "A" "B" "B" "B" "B" "C" "A" "I" "B" "A" "A" "H,L" "A" "A" "G" "B" "A" "H,L" "A" "B" "B" "A,D,B,C" "A" "H,L" "B" "A" "G" "C" "A" "A" "B" "B" "B" "A" "H,L" "G" "G" "C" "A" "C" "A" "C" "H,L" "B" "A" "A")
mut_res=("30A" "131C" "179B" "93L" "240B" "188J" "54A" "239A" "10B" "253A" "299B" "28H" "52A" "8A" "47A" "168B" "7A" "198A" "33L" "149A" "98D" "164L" "28B" "104H" "79A" "191A" "455G" "180L" "141B" "30H" "130B" "17I" "135E" "455G" "59J" "407A" "201A" "356A" "230A" "30R" "166S" "43A" "9B" "2098B" "54H" "293X" "323A" "30E" "49B" "29A" "35L" "171A" "156A" "14A" "148B" "31B" "107B" "590B" "255A" "32A" "107B" "26A" "71B" "185D" "5A" "31L" "30L" "24A" "56H" "131B" "983B" "141C" "209B" "201C" "199A" "94L" "47L" "82B" "28A" "30H" "55A" "18A" "98B" "277B" "199B" "798B" "231B" "349C" "21A" "203A" "138F" "231B" "92B" "56A" "19C" "345A" "118F" "105H" "107B" "60B" "40A" "77A" "106B" "131A" "107C" "606A" "460A" "336A" "43E" "33B" "1175D" "357A" "167A" "36A" "330B" "102C" "226B" "76E" "107A" "320A" "324B" "283G" "394B" "196A" "465A" "370A" "30H" "324E" "28H" "311B" "375B" "203A" "152A" "256B" "30B" "334A" "205A" "351G" "51B" "2B" "28H" "135A" "205A" "401N" "193A" "53B" "97M" "183A" "16C" "94L" "357C" "155A" "31A" "302C" "460B" "91A" "104A" "1840A" "116A" "83D" "9B" "220E" "76A" "55B" "28H" "121A" "42D" "222B" "62H" "74A" "240B" "538A" "156B" "345A" "201A" "18E" "605B" "168X" "71A" "969B" "97L" "124B" "108B" "116B" "194A" "42A" "148A" "9I" "8A" "30H" "1553D" "71B" "11E" "22A" "377D" "565A" "99C" "606A" "2040B" "1315B")

for i in {0..200}
do
    srun /PATH_TO_ROSETTA/source/bin/rosetta_scripts.default.linuxiccrelease -parser:protocol recovery.xml -ignore_unrecognized_res -out:file:score_only recover_thr.sc -s ${pdb_id[$i]}.pdb -parser:script_vars c1=${chains1[$i]} c2=${chains2[$i]} r=${mut_res[$i]} -out:no_nstruct_label -mute core.scoring.sc.ShapeIdentityCalculator -in:file:native ${pdb_id[$i]}.pdb
done
    
