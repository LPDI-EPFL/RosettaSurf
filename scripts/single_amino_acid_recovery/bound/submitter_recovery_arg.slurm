#!/bin/bash
#SBATCH --nodes 1
#SBATCH --ntasks-per-node 1
#SBATCH --cpus-per-task 1
#SBATCH --mem 8192
#SBATCH --time 24:00:00
#SBATCH --partition serial
#SBATCH --output=./arg.%A_%a.out
#SBATCH --error=./arg.%A_%a.err

pdb_id=("5CMN_A_E" "2XHE_A_B" "1RI8_A_B" "2N1D_A_B" "3OLM_A_D" "1I2M_A_B" "1FLE_E_I" "5ANM_BA_G" "4V0N_D_C" "3ULA_A_D" "3UKZ_B_C" "3K8P_C_D" "6FAX_HL_R" "1K5D_AB_C" "1ORS_BA_C" "2R0L_HL_A" "3S9D_B_A" "5IJ9_A_B" "3EJH_A_E" "2FTM_A_B" "3UKX_B_C" "1L4D_A_B" "3FIE_A_C" "2P43_A_B" "4B4S_A_B" "3GS2_A_B" "1Z0K_A_B" "2I9B_E_A" "4OD2_BA_S" "3FSH_B_C" "3CX7_A_B" "2Y8T_A_B" "2MLX_B_A" "2V5Q_A_D" "2MLX_B_A" "3OUW_A_B" "2OOR_AB_C" "4BRU_A_B" "4YL8_A_B" "3P0Y_HL_A" "1YRT_A_B" "5XXY_HL_A" "1OSP_HL_O" "1OGY_A_B" "4AG2_A_C" "1YRU_A_B" "2Y9M_A_B" "5D71_HL_A" "4UYQ_A_B" "3PNR_A_B" "4NQW_A_B" "4HRL_C_A" "2OIN_A_C" "2N2H_A_B" "3QBV_A_B" "3VPJ_A_E" "3LAQ_A_U" "5CZF_A_D" "2HMI_CD_AB" "1K93_A_D" "4U2X_A_D" "5UTZ_JK_I" "1ATN_A_D" "2IH3_AB_C" "3IFQ_A_C" "5D72_MN_B" "4DX8_A_J" "3TT3_HL_A" "5IJ9_A_B" "5AGW_B_C" "5ET1_A_C" "3AAA_AB_C" "4AYD_A_D" "5D1L_A_B" "3SRI_A_B" "1HIA_AB_I" "3UKZ_B_C" "2ONL_A_C" "3WO3_A_B" "4APF_A_B" "5FR1_A_B" "1E6E_A_B" "4GNK_A_B" "4TQ0_A_B" "2NYZ_AB_D" "4WFF_ED_A" "1E6E_A_B" "4D0N_A_B" "1HE1_C_A" "3MCA_A_B" "5BO1_IM_A" "4AYI_A_D" "1Y6M_L_R" "1TDQ_A_B" "3BP8_AB_C" "1FAK_HL_T" "5BNQ_A_R" "4NE9_A_P" "4YC7_A_B" "4A1U_A_B" "1SYX_A_B" "1JK9_B_A" "4XNY_HL_G" "4MI8_A_C" "3QLU_A_C" "3WQB_A_B" "2DX5_A_B" "3TU3_A_B" "2XBB_A_C" "5AGX_A_D" "2IH3_AB_C" "1E6E_A_B" "4KJY_A_B" "5MHR_KJ_C" "3FSH_B_C" "4C7N_A_B" "4GIQ_A_R" "4G80_EF_T" "1HCF_AB_X" "1AZS_AB_C" "1ID5_H_L" "3UL1_B_A" "3BEG_A_B" "3RT0_A_C" "3OJ2_A_C" "5OCC_HL_A" "3HTU_A_B" "3ZEU_D_E" "5B64_A_B" "1SHY_A_B" "4FZV_A_B" "4AN7_A_B" "1GRN_A_B" "4W6W_A_B" "4IC7_A_B" "1Z5Y_D_E" "1P27_A_B" "3FSH_B_C" "4FZV_A_B" "4O9H_HL_A" "4MRT_C_A" "5INB_A_B" "5NMV_HL_K" "2O3B_A_B" "2ZUQ_CB_A" "5JHL_HL_A" "3RPG_B_C" "2HQW_A_B" "3C4P_A_B" "6CH7_QR_G" "5IMT_A_D" "5LI1_A_B" "4Y5Y_DE_F" "2O3B_A_B" "1AZS_AB_C" "5JMC_A_B" "3TT1_HL_B" "4RGM_HL_S" "3EAB_A_G" "2Q5D_A_C" "1BGX_HL_T" "4ZS7_HL_A" "4GN4_B_A" "4EOZ_A_B" "2OMU_A_B" "4DBG_A_B" "5EB1_A_B" "3VLB_A_B" "3P71_T_C" "2OMX_A_B" "3V6B_A_R" "3OED_A_C" "5JZE_B_A" "1AVA_A_C" "1PKQ_GF_J" "2OZ4_HL_A" "1VRK_A_B" "2BYK_A_B" "3O5T_A_B" "2C7N_A_B" "5LI1_A_B" "5LRW_A_B" "2WWX_A_B" "1OGY_A_B" "5JZ7_CD_A" "4PVZ_A_C" "5W1K_DC_E" "3AON_A_B" "2OMU_A_B" "4AYE_A_D" "4Z5R_BA_N" "5ABV_A_B" "1UAD_A_C" "4WV1_BA_C" "2PMS_A_C" "5YY5_HL_A" "3P9W_A_B" "4MJS_A_B" "3FII_A_B" "4PVZ_A_C")
chains1=("A" "B" "A" "B" "D" "A" "E" "G" "D" "D" "C" "C" "H,L" "A,B" "C" "H,L" "A" "A" "E" "B" "C" "A" "C" "B" "A" "B" "A" "E" "S" "C" "A" "A" "B" "A" "A" "A" "A,B" "A" "B" "H,L" "A" "H,L" "H,L" "A" "A" "B" "B" "A" "B" "B" "A" "A" "A" "B" "B" "A" "A" "D" "A,B" "D" "A" "I" "A" "C" "C" "B" "J" "H,L" "B" "C" "A" "A,B" "A" "B" "A" "I" "B" "C" "B" "A" "A" "B" "A" "A" "D" "A" "A" "B" "A" "B" "A" "A" "L" "A" "C" "T" "A" "A" "B" "A" "B" "A" "H,L" "C" "A" "A" "A" "B" "C" "D" "A,B" "A" "B" "K,J" "C" "A" "A" "E,F" "A,B" "C" "L" "B" "B" "A" "C" "A" "A" "E" "B" "A" "B" "B" "B" "A" "B" "E" "B" "C" "B" "A" "A" "A" "K" "B" "C,B" "H,L" "B" "B" "B" "G" "A" "B" "D,E" "A" "C" "A" "B" "S" "A" "C" "T" "A" "A" "B" "A" "B" "B" "A" "T" "A" "R" "C" "B" "C" "G,F" "A" "A" "B" "A" "A" "B" "B" "B" "B" "A" "C" "D,C" "A" "A" "D" "N" "B" "C" "C" "A" "H,L" "A" "B" "A" "C")
chains2=("E" "A" "B" "A" "A" "B" "I" "B,A" "C" "A" "B" "D" "R" "C" "B,A" "A" "B" "B" "A" "A" "B" "B" "A" "A" "B" "A" "B" "A" "B,A" "B" "B" "B" "A" "D" "B" "B" "C" "B" "A" "A" "B" "A" "O" "B" "C" "A" "A" "H,L" "A" "A" "B" "C" "C" "A" "A" "E" "U" "A" "C,D" "A" "D" "J,K" "D" "A,B" "A" "M,N" "A" "A" "A" "B" "C" "C" "D" "A" "B" "A,B" "C" "A" "A" "B" "B" "A" "B" "B" "A,B" "E,D" "B" "A" "C" "A" "I,M" "D" "R" "B" "A,B" "H,L" "R" "P" "A" "B" "A" "B" "G" "A" "C" "B" "B" "A" "A" "A" "C" "B" "A" "C" "B" "B" "R" "T" "X" "A,B" "H" "A" "A" "C" "A" "H,L" "B" "D" "A" "B" "A" "A" "A" "B" "A" "D" "A" "B" "A" "H,L" "C" "B" "H,L" "A" "A" "A" "C" "A" "A" "Q,R" "D" "A" "F" "B" "A,B" "B" "H,L" "H,L" "G" "A" "H,L" "H,L" "B" "A" "B" "A" "A" "B" "C" "B" "A" "A" "A" "A" "J" "H,L" "B" "A" "B" "B" "A" "A" "A" "A" "C,D" "A" "E" "B" "B" "A" "B,A" "A" "A" "B,A" "C" "A" "B" "A" "B" "A")
mut_res=("36A" "249B" "56A" "269B" "72D" "106A" "61E" "431G" "399D" "90D" "18C" "352C" "104H" "76A" "120C" "98H" "149A" "221A" "967E" "17B" "10C" "561A" "56C" "106B" "85A" "247B" "69A" "137E" "65S" "594C" "279A" "111A" "289B" "136A" "344A" "386A" "130B" "268A" "2144B" "97H" "338A" "99H" "99H" "50A" "200A" "90B" "130B" "24A" "14B" "336B" "43A" "23A" "88A" "672B" "1384B" "132A" "31A" "37D" "199B" "90D" "140A" "83I" "62A" "52C" "646C" "24B" "179J" "74H" "251B" "8C" "68A" "266A" "404A" "238B" "143A" "32I" "315B" "386C" "210B" "141A" "68A" "115B" "213A" "15A" "43D" "74A" "370A" "2140B" "146A" "169B" "203A" "342A" "27L" "260A" "36C" "131T" "284A" "303A" "69B" "100A" "79B" "115A" "62H" "115C" "160A" "524A" "130A" "63B" "72C" "20D" "57A" "211A" "69B" "51J" "585C" "37A" "222A" "105E" "34B" "232C" "4L" "238B" "204B" "389A" "251C" "151A" "171A" "96E" "781B" "695A" "322B" "66B" "346B" "75A" "42B" "84E" "109B" "580C" "273B" "30A" "121A" "261A" "65K" "69B" "53B" "104H" "3B" "893B" "160B" "327G" "451A" "17B" "101D" "156A" "231C" "1294A" "438B" "110S" "173A" "27C" "536T" "179A" "61A" "128B" "212A" "616B" "160B" "298A" "247T" "85A" "275R" "28C" "151B" "106C" "54G" "374A" "74A" "39B" "103A" "47A" "10B" "74B" "453B" "83B" "69A" "105C" "56D" "51A" "85A" "195D" "149N" "614B" "27C" "207C" "4A" "55L" "82A" "21B" "171A" "128C")

for i in {0..200}
do
    srun /PATH_TO_ROSETTA/source/bin/rosetta_scripts.default.linuxiccrelease -parser:protocol recovery.xml -ignore_unrecognized_res -out:file:score_only recover_arg.sc -s ${pdb_id[$i]}.pdb -parser:script_vars c1=${chains1[$i]} c2=${chains2[$i]} r=${mut_res[$i]} -out:no_nstruct_label -mute core.scoring.sc.ShapeIdentityCalculator -in:file:native ${pdb_id[$i]}.pdb
done
    
