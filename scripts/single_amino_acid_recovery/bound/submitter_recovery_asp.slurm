#!/bin/bash
#SBATCH --nodes 1
#SBATCH --ntasks-per-node 1
#SBATCH --cpus-per-task 1
#SBATCH --mem 8192
#SBATCH --time 24:00:00
#SBATCH --partition serial
#SBATCH --output=./asp.%A_%a.out
#SBATCH --error=./asp.%A_%a.err

pdb_id=("4G01_A_B" "1K93_A_D" "1DJS_A_B" "4F9L_A_B" "4KT3_A_B" "5KVE_HL_E" "6AZZ_CB_A" "2B7C_A_B" "3GNI_A_B" "4RT6_A_B" "5WB9_HL_G" "4XLW_A_B" "4K9E_HL_C" "6CMG_CB_A" "2C1T_A_C" "2X1X_E_R" "3RZW_D_A" "3GRW_HL_A" "3GXU_A_B" "5GMQ_BC_A" "5GGS_AB_Z" "4C9B_A_B" "2ONL_A_C" "2O3B_A_B" "3VLB_A_B" "1DFJ_E_I" "4XP4_HL_A" "3UX9_A_B" "5DFW_A_H" "2H9G_BA_R" "5B75_A_B" "5IMT_A_D" "3UZQ_A_B" "3EAB_A_G" "2XGY_A_B" "3CQC_A_B" "1T6B_X_Y" "2XNS_B_D" "4IJ3_CB_A" "1EO8_HL_A" "1RY7_A_B" "3PNR_A_B" "5AJJ_A_B" "4KV5_C_D" "1OGY_A_B" "4JDT_HL_G" "5TZ2_HL_C" "1EER_A_BC" "1EER_A_BC" "1BVK_DE_F" "1SQ0_A_B" "1NF3_A_C" "5XBM_BA_C" "4HKX_AB_E" "3SE9_HL_G" "4C2A_A_B" "5HBT_DC_B" "1OFU_XY_A" "5DFV_EF_B" "1WQ1_R_G" "1ZJD_A_B" "5F3X_A_B" "4DBG_A_B" "4QRP_K_L" "3TG1_A_B" "2VOI_A_B" "4JPW_HL_G" "4C9B_A_B" "4IJ3_CB_A" "5AJJ_A_B" "2NBV_A_B" "1PVH_A_B" "1FBI_HL_X" "5KVF_HL_E" "3U9Z_A_C" "5USH_HL_X" "5GS0_FE_B" "4YC7_A_B" "3CQC_A_B" "4WWI_A_D" "4TQ0_A_B" "2EFH_A_B" "2IH3_AB_C" "2R0K_HL_A" "4ZS6_CD_B" "4QRP_K_L" "2MNU_A_B" "4DG4_A_E" "3UKW_B_C" "3FIE_A_C" "5TE7_HL_G" "3IFQ_A_C" "5INB_A_B" "3SOB_HL_B" "3JZA_A_B" "1JTG_B_A" "4XL1_A_B" "3GB8_A_B" "3S35_HL_X" "5W2B_HL_A" "6AYZ_RC_M" "1P6A_A_B" "1XQH_A_B" "1JWH_CD_A" "2Y9M_A_B" "2Z58_A_B" "1R8S_A_E" "3R85_A_E" "1TM4_E_I" "3P71_T_C" "3WO3_A_B" "4G6V_A_B" "3K9M_A_C" "3RT0_A_C" "4DTG_HL_K" "4XP4_HL_A" "4U6H_AB_E" "3KLS_A_X" "2UYZ_A_B" "1OFU_XY_A" "5EN2_AB_C" "1EWY_A_C" "4LSU_HL_G" "4CNI_HL_C" "3L95_HL_Y" "2KT5_A_B" "1L4D_A_B" "3UKZ_B_C" "1B6C_A_B" "1SQ0_A_B" "2VE7_A_C" "3QHT_A_C" "4YE4_HL_G" "5UTZ_JK_I" "4JPV_HL_G" "3QWO_AB_C" "3KUD_A_B" "3AB0_BC_A" "3KR3_HL_D" "2WPT_A_B" "1QA9_A_B" "4DXA_A_B" "3L89_ABC_M" "4K1R_A_B" "4Q96_D_E" "1V18_A_B" "1KXP_A_D" "3LIZ_HL_A" "4CVW_A_C" "2I9B_E_A" "4J2L_A_C" "4HCR_HL_A" "4CVW_A_C" "1PJM_A_B" "4GIQ_A_R" "2J7P_A_D" "1GP2_A_BG" "3OUX_A_B" "5DFV_EF_B" "3IDC_A_B" "1V18_A_B" "4ILW_A_D" "1OPH_A_B" "6BDZ_HL_A" "1IB1_AB_E" "1ADQ_HL_A" "3IA3_A_D" "6BIT_JL_G" "2VLQ_A_B" "3C66_A_C" "1FJ1_DC_E" "5XHV_PQ_A" "2Y8S_A_B" "2Z8V_A_D" "2A1A_B_A" "2FD6_HL_U" "1B2S_A_D" "2Z8V_A_D" "6BPE_EF_D" "3CX5_JK_E" "1GXD_A_C" "1DEE_A_B" "5YY5_HL_A" "3N85_HL_A" "5BK1_CD_B" "2WWX_A_B" "5MHR_KJ_C" "3G6D_LH_A" "3ZKM_CD_B" "4BQD_A_C" "4F15_HI_G" "2ARP_A_F" "4FFV_DC_B" "4H3P_A_B" "2Z0E_A_B" "3U8X_A_B" "1DJS_A_B" "4RX4_HL_G" "3RO2_A_B" "4ZS6_CD_B")
chains1=("A" "D" "A" "B" "B" "E" "C,B" "A" "B" "A" "G" "B" "C" "A" "A" "R" "A" "H,L" "A" "B,C" "A,B" "A" "A" "A" "A" "E" "A" "A" "A" "R" "A" "A" "A" "G" "A" "A" "Y" "D" "C,B" "A" "A" "A" "B" "C" "A" "G" "C" "B,C" "A" "F" "B" "A" "C" "A,B" "G" "B" "D,C" "A" "E,F" "R" "B" "B" "A" "L" "A" "B" "G" "A" "C,B" "A" "A" "B" "H,L" "H,L" "A" "X" "F,E" "A" "A" "A" "A" "A" "A,B" "A" "B" "L" "A" "A" "B" "A" "G" "C" "A" "B" "A" "B" "A" "A" "X" "A" "M" "B" "A" "A" "B" "B" "A" "E" "E" "C" "A" "A" "A" "C" "H,L" "A" "E" "X" "B" "A" "A,B" "C" "G" "H,L" "H,L" "A" "B" "B" "A" "A" "A" "C" "H,L" "I" "H,L" "A,B" "A" "A" "D" "A" "B" "A" "M" "A" "D" "A" "A" "A" "A" "E" "A" "H,L" "A" "B" "R" "D" "B,G" "A" "E,F" "A" "B" "D" "B" "H,L" "E" "H,L" "A" "G" "A" "C" "D,C" "P,Q" "A" "D" "A" "H,L" "D" "D" "D" "E" "A" "B" "H,L" "A" "B" "A" "C" "L,H" "B" "A" "H,I" "F" "B" "A" "A" "A" "A" "G" "B" "C,D")
chains2=("B" "A" "B" "A" "A" "H,L" "A" "B" "A" "B" "H,L" "A" "H,L" "C,B" "C" "E" "D" "A" "B" "A" "Z" "B" "C" "B" "B" "I" "H,L" "B" "H" "B,A" "B" "D" "B" "A" "B" "B" "X" "B" "A" "H,L" "B" "B" "A" "D" "B" "H,L" "H,L" "A" "B,C" "D,E" "A" "C" "B,A" "E" "H,L" "A" "B" "X,Y" "B" "G" "A" "A" "B" "K" "B" "A" "H,L" "B" "A" "B" "B" "A" "X" "E" "C" "H,L" "B" "B" "B" "D" "B" "B" "C" "H,L" "C,D" "K" "B" "E" "C" "C" "H,L" "A" "B" "H,L" "B" "A" "B" "B" "H,L" "H,L" "R,C" "A" "B" "C,D" "A" "A" "E" "A" "I" "T" "B" "B" "C" "A" "K" "H,L" "A,B" "A" "A" "X,Y" "C" "A" "H,L" "C" "Y" "B" "A" "C" "B" "B" "C" "A" "G" "J,K" "G" "C" "B" "B,C" "H,L" "B" "A" "B" "A,B,C" "B" "E" "B" "D" "H,L" "C" "A" "C" "A" "C" "A" "A" "A" "A" "B" "B" "B" "A" "A" "A" "A" "A,B" "A" "D" "J,L" "B" "A" "E" "A" "B" "A" "B" "U" "A" "A" "E,F" "J,K" "C" "A" "A" "H,L" "C,D" "B" "K,J" "A" "C,D" "C" "G" "A" "D,C" "B" "B" "B" "B" "H,L" "A" "B")
mut_res=("185A" "93D" "247A" "120B" "154B" "384E" "54C" "91A" "140B" "551A" "457G" "193B" "332C" "302A" "286A" "257R" "77A" "100H" "33A" "102B" "97B" "273A" "125A" "95A" "354A" "38E" "599A" "35A" "137A" "37R" "282A" "502A" "32A" "186G" "90A" "917A" "152Y" "530D" "98C" "63A" "155A" "234A" "98B" "27C" "68A" "457G" "46C" "61B" "96A" "119F" "175B" "38A" "394C" "107A" "368G" "175B" "54D" "270A" "394E" "92R" "46B" "420B" "63A" "113L" "161A" "95B" "457G" "266A" "54C" "122A" "78A" "120B" "52H" "98H" "25A" "112X" "92E" "62A" "879A" "37A" "10A" "125A" "102A" "100A" "539B" "186L" "72A" "194A" "270B" "17A" "368G" "674C" "286A" "98B" "16A" "49B" "469A" "624A" "295X" "682A" "52M" "56B" "338A" "37A" "119B" "63B" "26A" "170E" "99E" "306C" "23A" "214A" "22A" "78C" "33L" "509A" "62E" "195X" "86B" "210A" "56A" "67C" "457G" "28L" "28L" "62A" "106B" "280B" "37A" "560A" "190A" "80C" "109H" "20I" "98H" "54A" "38A" "122A" "15D" "62A" "33B" "33A" "27M" "354A" "97D" "390A" "286A" "257A" "621A" "140E" "612A" "33L" "698A" "280B" "45R" "258D" "186B" "390A" "290E" "241A" "1486B" "169D" "194B" "77H" "44E" "31H" "36A" "100G" "51A" "95C" "101D" "31P" "106A" "26D" "83A" "55H" "36D" "33D" "220D" "149E" "579A" "562B" "53H" "395A" "41B" "16A" "365C" "91L" "272B" "13A" "61H" "153F" "98B" "321A" "314A" "25A" "321A" "368G" "1999B" "92D")

for i in {0..200}
do
    srun /PATH_TO_ROSETTA/source/bin/rosetta_scripts.default.linuxiccrelease -parser:protocol recovery.xml -ignore_unrecognized_res -out:file:score_only recover_asp.sc -s ${pdb_id[$i]}.pdb -parser:script_vars c1=${chains1[$i]} c2=${chains2[$i]} r=${mut_res[$i]} -out:no_nstruct_label -mute core.scoring.sc.ShapeIdentityCalculator -in:file:native ${pdb_id[$i]}.pdb
done
    
