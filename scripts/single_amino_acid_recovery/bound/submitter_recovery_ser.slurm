#!/bin/bash
#SBATCH --nodes 1
#SBATCH --ntasks-per-node 1
#SBATCH --cpus-per-task 1
#SBATCH --mem 8192
#SBATCH --time 24:00:00
#SBATCH --partition serial
#SBATCH --output=./ser.%A_%a.out
#SBATCH --error=./ser.%A_%a.err

pdb_id=("6AQ7_HL_A" "3V96_A_B" "1T01_A_B" "4RS1_B_A" "5XMH_DC_B" "2W80_A_D" "3MZW_A_B" "5GGV_HL_Y" "4AYE_A_D" "2OMV_A_B" "4OQT_HL_A" "5FR2_A_B" "4EIZ_A_D" "4DAG_HL_A" "3BX7_A_C" "2YC1_AB_C" "5D1X_CD_E" "3BKY_H_L" "1ZM4_A_B" "2VLN_A_B" "5JZE_B_A" "1Y64_A_B" "2XTJ_DB_A" "6BPE_EF_D" "1ZTX_HL_E" "2J6E_HL_A" "4YWG_IM_Q" "2I25_N_L" "3OUX_A_B" "3K8P_C_D" "1ZTX_HL_E" "4HGM_B_A" "4I77_HL_Z" "4TTD_HL_A" "4Y5Y_DE_F" "1FY8_E_I" "4KT1_A_E" "2A6D_L_H" "3SGK_A_B" "3DVM_A_B" "2XHE_A_B" "3HI6_XY_B" "1EWY_A_C" "5J8H_A_B" "5TIH_HL_A" "3W8I_A_B" "1HE1_C_A" "5W6G_HL_A" "4X7S_H_L" "1DZB_A_X" "2XWT_AB_C" "3EO1_AB_CF" "3RGF_A_B" "1YC0_A_I" "2LP0_A_B" "4G6V_A_B" "3ZO0_A_B" "6AOD_BA_C" "4AOR_A_D" "5TIH_HL_A" "1Y4A_E_I" "2JIX_HL_E" "2YVJ_A_B" "2OOR_AB_C" "1JTG_B_A" "4NOO_A_B" "2NR6_FE_B" "1RY7_A_B" "5J56_A_B" "1OPH_A_B" "5J28_A_C" "5B77_A_B" "4YPG_BA_C" "5H35_FG_E" "2MRO_A_B" "4M6B_A_C" "4ETP_A_B" "4FFV_DC_B" "4ZGQ_A_B" "3P9W_A_B" "4HGM_B_A" "4XVP_A_D" "3U82_A_B" "2R29_HL_A" "4M6B_A_C" "4XTR_EF_A" "4Q6I_ED_J" "5WI9_HL_A" "4HCP_A_B" "2BYK_A_B" "4YPI_C_G" "1TM3_E_I" "4RGO_HL_S" "2NYY_DC_A" "1M1E_A_B" "5ANM_BA_G" "2FJH_BA_W" "5DO2_CD_B" "5IUS_A_C" "3D9A_HL_C" "1A22_A_B" "5WI9_HL_A" "4FQ0_B_C" "6BPA_BC_A" "3QWQ_A_B" "1YCS_A_B" "1HCF_AB_X" "5F3B_AB_C" "3TGK_E_I" "5C8J_AB_I" "5DMI_HL_A" "4W6Y_A_B" "3LD8_CB_A" "2XPX_A_B" "3ZKQ_A_D" "3BKY_H_L" "4PER_A_B" "2A6D_L_H" "2A6D_L_H" "5DUP_HL_A" "5W08_OP_E" "5D1Q_CD_E" "2J8X_A_B" "3WKM_IM_B" "4BQD_A_C" "1FJ1_DC_E" "3BX1_A_C" "5JZ7_CD_A" "3VG9_CB_A" "2A6K_A_B" "3V6Z_AB_F" "1CGI_E_I" "3IDC_A_B" "1G6V_A_K" "4C2B_A_B" "3N85_HL_A" "5DC4_A_B" "3K2U_HL_A" "3SZK_DE_F" "2GOX_A_B" "4EIZ_A_D" "5VEB_AB_X" "5W0D_BC_A" "2VLO_A_B" "3LD8_CB_A" "3VRL_HL_C" "3U82_A_B" "1Z92_A_B" "1FQ1_A_B" "1XDT_T_R" "4HFU_HL_A" "3QML_A_C" "3GMW_A_B" "1IB1_AB_E" "3BN3_A_B" "3N4I_A_B" "3OUW_A_B" "2OMW_A_B" "4F38_A_B" "2W81_A_D" "1EER_A_BC" "3WN7_A_B" "2YPV_HL_A" "4LZX_A_B" "3U9P_KM_C" "4DKF_HL_A" "3SJV_D_E" "3SKU_A_D" "3B2U_QR_P" "1G0V_A_B" "4YH7_A_B" "1TM5_E_I" "4YPG_BA_C" "3MA2_D_C" "4F15_HI_G" "5VEB_AB_X" "5W1K_DC_E" "1BVN_P_T" "3N85_HL_A" "4KFZ_A_C" "1MCV_A_I" "2F9Z_A_C" "4RDQ_GF_E" "2J12_A_B" "3H6G_A_B" "1RJC_A_B" "5FR1_A_B" "1EAW_A_B" "3QWO_AB_C" "4EKC_A_B" "5JQ6_HL_A" "2ABZ_B_E" "1FQJ_A_B" "4OQT_HL_A" "2W8B_A_H" "4C2A_A_B" "5GS0_FE_B" "5D7L_A_B" "3WQB_A_B" "1M1E_A_B")
chains1=("H,L" "A" "A" "A" "D,C" "A" "A" "H,L" "A" "A" "H,L" "A" "A" "H,L" "C" "A,B" "C,D" "L" "A" "A" "A" "A" "A" "E,F" "H,L" "A" "I,M" "N" "A" "D" "H,L" "B" "H,L" "H,L" "F" "E" "E" "L" "B" "B" "A" "X,Y" "C" "B" "H,L" "A" "A" "A" "L" "X" "A,B" "A,B" "B" "A" "B" "B" "A" "C" "A" "H,L" "E" "H,L" "B" "A,B" "A" "A" "F,E" "A" "B" "B" "A" "A" "B,A" "E" "B" "C" "B" "B" "B" "A" "B" "A" "B" "A" "C" "E,F" "E,D" "H,L" "A" "B" "G" "E" "H,L" "D,C" "B" "B,A" "B,A" "C,D" "C" "H,L" "B" "H,L" "B" "B,C" "A" "A" "X" "A,B" "E" "A,B" "H,L" "A" "C,B" "A" "D" "H" "B" "L" "H" "A" "E" "C,D" "A" "I,M" "C" "E" "A" "A" "A" "B" "A,B" "E" "A" "A" "A" "H,L" "A" "A" "F" "A" "D" "A,B" "A" "A" "C,B" "H,L" "B" "B" "B" "T" "A" "A" "B" "A,B" "A" "B" "A" "A" "A" "D" "A" "A" "A" "A" "C" "H,L" "D" "A" "Q,R" "A" "B" "E" "B,A" "D" "H,I" "X" "D,C" "T" "H,L" "C" "A" "A" "G,F" "A" "B" "B" "B" "A" "C" "A" "H,L" "B" "A" "A" "A" "B" "F,E" "A" "B" "A")
chains2=("A" "B" "B" "B" "B" "D" "B" "Y" "D" "B" "A" "B" "D" "A" "A" "C" "E" "H" "B" "B" "B" "B" "D,B" "D" "E" "H,L" "Q" "L" "B" "C" "E" "A" "Z" "A" "D,E" "I" "A" "H" "A" "A" "B" "B" "A" "A" "A" "B" "C" "H,L" "H" "A" "C" "C,F" "A" "I" "A" "A" "B" "B,A" "D" "A" "I" "E" "A" "C" "B" "B" "B" "B" "A" "A" "C" "B" "C" "F,G" "A" "A" "A" "D,C" "A" "B" "A" "D" "A" "H,L" "A" "A" "J" "A" "B" "A" "C" "I" "S" "A" "A" "G" "W" "B" "A" "C" "A" "A" "C" "A" "B" "B" "A,B" "C" "I" "I" "A" "B" "A" "B" "A" "L" "A" "H" "L" "H,L" "O,P" "E" "B" "B" "A" "D,C" "C" "C,D" "C,B" "A" "F" "I" "B" "K" "B" "A" "B" "H,L" "D,E" "B" "A" "X" "B,C" "B" "A" "C" "A" "A" "A" "R" "H,L" "C" "A" "E" "B" "A" "B" "B" "B" "A" "B,C" "B" "H,L" "B" "K,M" "A" "E" "D" "P" "B" "A" "I" "C" "C" "G" "A,B" "E" "P" "A" "A" "I" "C" "E" "B" "A" "A" "A" "B" "A,B" "B" "A" "E" "B" "H,L" "H" "A" "B" "B" "A" "B")
mut_res=("95L" "68A" "112A" "44A" "29C" "367A" "429A" "93L" "354A" "257A" "30L" "73A" "150A" "103H" "27C" "226B" "30D" "161L" "525A" "48A" "105A" "350A" "376A" "91F" "30L" "440A" "65M" "91N" "389A" "674D" "97H" "270B" "30H" "56H" "152F" "195E" "78E" "176L" "364B" "1978B" "44A" "53Y" "61C" "74B" "56L" "39A" "147A" "126A" "125L" "100X" "56B" "30B" "9B" "494A" "189B" "46B" "426A" "459C" "215A" "31H" "221E" "76L" "64B" "213B" "70A" "847A" "67E" "62A" "56B" "190B" "292A" "210A" "68A" "110E" "424B" "598C" "361B" "91B" "489B" "95A" "232B" "175A" "88B" "363A" "620C" "51F" "28D" "95L" "129A" "26B" "30G" "130E" "56L" "71C" "72B" "75B" "94A" "52C" "117C" "356H" "419B" "56H" "147B" "120B" "26A" "241A" "327X" "52A" "214E" "57A" "28L" "91A" "32B" "97A" "212D" "188H" "44B" "56L" "188H" "129A" "228E" "30D" "221A" "60M" "3C" "207E" "103A" "17A" "223A" "136B" "30A" "217E" "212A" "50A" "1325A" "28H" "222A" "95A" "154F" "1097A" "105D" "102A" "136A" "50A" "28B" "52H" "74B" "41B" "239B" "506T" "159A" "324A" "40B" "64A" "141A" "39B" "250A" "369A" "73A" "286D" "9A" "363A" "221A" "39A" "6C" "93L" "138D" "235A" "93R" "279A" "123B" "33E" "30A" "189D" "29I" "535X" "32D" "817T" "52H" "57C" "195A" "161A" "31F" "193A" "162B" "50B" "124B" "195A" "32C" "211A" "100L" "199B" "202A" "149A" "394A" "11B" "57F" "233A" "57B" "425A")

for i in {0..200}
do
    srun /PATH_TO_ROSETTA/source/bin/rosetta_scripts.default.linuxiccrelease -parser:protocol recovery.xml -ignore_unrecognized_res -out:file:score_only recover_ser.sc -s ${pdb_id[$i]}.pdb -parser:script_vars c1=${chains1[$i]} c2=${chains2[$i]} r=${mut_res[$i]} -out:no_nstruct_label -mute core.scoring.sc.ShapeIdentityCalculator -in:file:native ${pdb_id[$i]}.pdb
done
    
