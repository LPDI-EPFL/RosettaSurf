#!/bin/bash
#SBATCH --nodes 1
#SBATCH --ntasks-per-node 1
#SBATCH --cpus-per-task 1
#SBATCH --mem 8192
#SBATCH --time 24:00:00
#SBATCH --partition serial
#SBATCH --output=./trp.%A_%a.out
#SBATCH --error=./trp.%A_%a.err

pdb_id=("2FTM_A_B" "4Y5V_DE_F" "2R0K_HL_A" "5UEA_HL_D" "1PJN_A_B" "5KVF_HL_E" "4OII_HL_A" "2OUL_A_B" "1B2S_A_D" "3KJ2_A_B" "4CJ2_B_C" "4YK4_CB_A" "3L33_A_E" "4PVZ_A_C" "1BJ1_HL_VW" "4XXB_A_B" "3LIZ_HL_A" "5F3B_AB_C" "4L0P_A_B" "4LMQ_HL_D" "4WEM_A_B" "5JSB_A_B" "4LSU_HL_G" "2HLE_A_B" "4A1S_B_E" "1BGX_HL_T" "4J2L_A_C" "5AAM_A_C" "2Y8T_A_B" "1X1U_A_D" "1Z0K_A_B" "4ENE_EF_B" "4AFZ_A_C" "1LX5_A_B" "4YL8_A_B" "4OLZ_HL_G" "3UYO_A_D" "4MXV_FE_B" "4ZS6_CD_B" "3OPZ_JN_C" "5TE7_HL_G" "1RPQ_A_W" "1FY8_E_I" "2HD5_A_B" "2O8V_A_B" "1TAW_A_B" "2XGY_A_B" "1FQJ_A_B" "4JEG_A_B" "4XL5_A_C" "1FBI_HL_X" "5J7C_A_C" "1ACB_E_I" "1RPQ_A_W" "4HGM_B_A" "3H11_BC_A" "4LSP_HL_G" "4EXP_A_X" "5TUD_CB_A" "4NOO_A_B" "5DJU_B_A" "4GH7_A_B" "2XNS_B_D" "3REA_A_B" "3H6S_A_E" "1SMF_E_I" "2WO3_A_B" "3D85_BA_C" "4RDQ_GF_E" "4U30_A_X" "4G6U_A_B" "2EIZ_BA_C" "2FTL_E_I" "3KJ1_A_B" "5SY8_HL_O" "3WKM_IM_B" "2YQ7_A_B" "4Q6I_ED_J" "1Z3G_IM_B" "3V3K_A_B" "2Q5D_A_C" "2I3T_A_B" "1BGX_HL_T" "4AFZ_A_C" "3PNR_A_B" "3G7A_A_B" "4CVW_A_C" "2KWI_A_B" "3D5R_A_C" "2OZ4_HL_A" "4PER_A_B" "4KA2_A_R" "2FJH_BA_W" "5T33_HL_G" "1G9M_HL_G" "2R9P_A_E" "5IJ9_A_B" "3DA7_A_D" "3RT0_A_C" "1CZ8_YX_V" "2WJV_A_D" "2GOX_A_B" "4YN0_A_B" "3LMS_A_B" "2OT8_A_C" "4GN4_B_A" "5D72_MN_B" "4PBZ_A_B" "5SY8_HL_O" "1LDT_T_L" "1KXQ_H_A" "1YVB_A_I" "1ZJD_A_B" "1A22_A_B" "4GN5_A_D" "2B4J_AB_C" "3PGF_HL_A" "5VCN_FE_A" "3FP6_E_I" "2WH6_A_B" "2XPX_A_B" "2M04_A_B" "4K5B_D_A" "4V2C_A_B" "2Z8W_A_D" "4LST_HL_G" "5JSN_A_B" "5AAM_A_C" "3E1Z_A_B" "2I25_N_L" "2VER_A_N" "3UKW_B_C" "4ZRJ_A_B" "4X7S_H_L" "5XHV_PQ_A" "3RKD_DC_B" "3LEV_L_H" "4K3J_HL_B" "1X1U_A_D" "5DCQ_C_F" "3MZG_A_B" "4KFZ_A_C" "3RBB_A_B" "1PJM_A_B" "1ZMY_A_L" "6AYZ_RC_M" "4BZ1_HL_A" "3RDZ_A_C" "5T29_HL_O" "1ZR0_A_B" "4ZSO_BA_E" "1G9I_E_I" "3O40_A_B" "1DHK_A_B" "1F5R_A_I" "5D1X_CD_E" "5F9O_HL_G" "3K2U_HL_A" "3H3G_A_B" "1DFJ_E_I" "4NSO_A_B" "4LST_HL_G" "3D9A_HL_C" "5DJT_A_B" "4RWS_A_C" "3NCC_A_B" "5BK2_CD_B" "4IDJ_HL_A" "1K4C_AB_C" "1SY6_HL_A" "6BDZ_HL_A" "2VE7_A_C" "5OCC_HL_A" "1MLC_AB_E" "3N06_A_B" "3UL1_B_A" "3R1G_HL_B" "5WB9_HL_G" "3N85_HL_A" "5D1Q_CD_E" "4AG4_HL_A" "5B75_A_B" "4U6V_HL_A" "4AOR_A_D" "4DAG_HL_A" "2R0L_HL_A" "3UKX_B_C" "4OD2_BA_S" "1OPH_A_B" "4HEP_A_G" "4PEQ_A_B" "2EFH_A_B" "2G2W_A_B" "5AGW_B_C" "1E4K_AB_C" "3REB_A_B" "4QVF_A_B" "2I26_N_L" "3KJ1_A_B" "3CQC_A_B")
chains1=("A" "D,E" "A" "H,L" "B" "H,L" "H,L" "A" "D" "B" "C" "A" "A" "A" "H,L" "B" "H,L" "C" "B" "H,L" "B" "A" "H,L" "B" "E" "H,L" "C" "C" "A" "D" "B" "E,F" "C" "B" "A" "H,L" "D" "F,E" "C,D" "J,N" "H,L" "A" "E" "A" "B" "A" "B" "B" "B" "C" "X" "C" "E" "A" "A" "A" "H,L" "A" "C,B" "A" "B" "A" "D" "B" "A" "E" "B" "B,A" "G,F" "A" "B" "B,A" "E" "B" "O" "B" "A" "E,D" "I,M" "A" "A" "A" "T" "C" "A" "B" "A" "B" "A" "A" "A" "A" "B,A" "H,L" "H,L" "A" "B" "D" "A" "Y,X" "A" "A" "B" "B" "A" "A" "M,N" "A" "O" "T" "A" "A" "A" "B" "D" "A,B" "H,L" "F,E" "E" "B" "A" "B" "A" "B" "D" "H,L" "A" "A" "A" "L" "A" "B" "B" "H" "P,Q" "D,C" "H" "H,L" "D" "C" "B" "C" "B" "B" "L" "R,C" "H,L" "A" "O" "A" "E" "E" "B" "B" "A" "C,D" "G" "A" "A" "I" "A" "H,L" "H,L" "B" "A" "B" "C,D" "A" "A,B" "H,L" "H,L" "C" "H,L" "A,B" "B" "B" "H,L" "H,L" "H,L" "C,D" "H,L" "A" "A" "A" "A" "H,L" "B" "B,A" "B" "G" "B" "B" "B" "B" "C" "B" "A" "L" "A" "B")
chains2=("B" "F" "H,L" "D" "A" "E" "A" "B" "A" "A" "B" "C,B" "E" "C" "V,W" "A" "A" "A,B" "A" "D" "A" "B" "G" "A" "B" "T" "A" "A" "B" "A" "A" "B" "A" "A" "B" "G" "A" "B" "B" "C" "G" "W" "I" "B" "A" "B" "A" "A" "A" "A" "H,L" "A" "I" "W" "B" "B,C" "G" "X" "A" "B" "A" "B" "B" "A" "E" "I" "A" "C" "E" "X" "A" "C" "I" "A" "H,L" "I,M" "B" "J" "B" "B" "C" "B" "H,L" "A" "B" "A" "C" "A" "C" "H,L" "B" "R" "W" "G" "G" "E" "A" "A" "C" "V" "D" "B" "A" "A" "C" "B" "B" "B" "H,L" "L" "H" "I" "B" "A" "A" "C" "A" "A" "I" "A" "B" "A" "D" "A" "A" "G" "B" "C" "B" "N" "N" "C" "A" "L" "A" "B" "L" "B" "A" "F" "A" "A" "A" "A" "A" "M" "A" "C" "H,L" "B" "B,A" "I" "A" "A" "I" "E" "H,L" "H,L" "B" "E" "B" "G" "C" "A" "C" "A" "B" "H,L" "C" "A" "A" "A" "A" "E" "A" "A" "B" "G" "A" "E" "A" "B" "H,L" "D" "H,L" "A" "C" "S" "A" "A" "A" "A" "A" "C" "A,B" "A" "B" "N" "B" "A")
mut_res=("215A" "33D" "215A" "93L" "399B" "33H" "33H" "26A" "39D" "5B" "22C" "153A" "215A" "279A" "50H" "329B" "105H" "31C" "100B" "92L" "900B" "261A" "50H" "125B" "19E" "100H" "37C" "391C" "253A" "44D" "443B" "106E" "16C" "60B" "43A" "54H" "85D" "100F" "104C" "90N" "50H" "156A" "215E" "348A" "31B" "215A" "121B" "362B" "46B" "122C" "62X" "28C" "172E" "110A" "91A" "466A" "61H" "27A" "33C" "989A" "24B" "81A" "534D" "92B" "194A" "215E" "112B" "100B" "33G" "215A" "132B" "94A" "215E" "5B" "120O" "242B" "137A" "100E" "100I" "340A" "342A" "120A" "398T" "37C" "206A" "3B" "512A" "430B" "45A" "395A" "259A" "427A" "106B" "32L" "94L" "215A" "344B" "39D" "385A" "108Y" "241A" "1034A" "338B" "73B" "730A" "62A" "91N" "24A" "128O" "215T" "59A" "26A" "215A" "304B" "62D" "131B" "97H" "52F" "215E" "57B" "104A" "71B" "122A" "89B" "2D" "47H" "144A" "192A" "93A" "108L" "92A" "399B" "585B" "111H" "50Q" "92C" "103H" "33H" "38D" "66C" "139B" "114C" "95B" "184B" "108L" "93C" "33H" "211A" "128O" "215A" "67E" "215E" "3B" "188B" "215A" "100C" "96G" "237A" "164A" "259I" "989A" "50H" "94L" "24B" "94A" "72B" "107C" "274A" "94B" "90L" "71H" "1151C" "93L" "94A" "72B" "357B" "100H" "50H" "94L" "100C" "33H" "305A" "187A" "216A" "284A" "96H" "184B" "106B" "215B" "108G" "259B" "64B" "162B" "144B" "87C" "114B" "137A" "63L" "261A" "937B")

for i in {0..200}
do
    srun /PATH_TO_ROSETTA/source/bin/rosetta_scripts.default.linuxiccrelease -parser:protocol recovery.xml -ignore_unrecognized_res -out:file:score_only recover_trp.sc -s ${pdb_id[$i]}.pdb -parser:script_vars c1=${chains1[$i]} c2=${chains2[$i]} r=${mut_res[$i]} -out:no_nstruct_label -mute core.scoring.sc.ShapeIdentityCalculator -in:file:native ${pdb_id[$i]}.pdb
done
    
