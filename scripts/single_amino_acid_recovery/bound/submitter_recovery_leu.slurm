#!/bin/bash
#SBATCH --nodes 1
#SBATCH --ntasks-per-node 1
#SBATCH --cpus-per-task 1
#SBATCH --mem 8192
#SBATCH --time 24:00:00
#SBATCH --partition serial
#SBATCH --output=./leu.%A_%a.out
#SBATCH --error=./leu.%A_%a.err

pdb_id=("4A1U_A_B" "5F3B_AB_C" "5K8Q_A_B" "3S9D_B_A" "2OZA_B_A" "3FSH_B_C" "1C9P_A_B" "4TNW_IO_D" "2MLZ_B_A" "2GWW_A_B" "3ZU7_A_B" "3CQC_A_B" "5J28_A_C" "4RAU_ED_F" "4CT0_A_B" "2RF9_A_C" "4PBV_A_C" "5XMH_DC_B" "3P71_T_C" "3CQG_A_B" "1Y3D_E_I" "3KLS_A_X" "2IH3_AB_C" "2HSQ_A_B" "4V0N_D_C" "4V2C_A_B" "3P71_T_C" "3ZET_A_B" "2V3B_A_B" "1H9D_A_B" "3OL2_A_B" "1T01_A_B" "1AFV_KM_B" "4NQW_A_B" "3LIZ_HL_A" "1TMQ_A_B" "3Q9U_A_C" "3TU3_A_B" "3VLB_A_B" "4RAU_ED_F" "2A6D_L_H" "5EE5_A_B" "3MJ7_A_B" "3H8K_A_B" "4MHJ_L_H" "5INB_A_B" "2I3S_A_B" "5SZH_A_B" "4WEN_A_B" "5F3X_A_B" "4DOQ_A_B" "4XOI_A_B" "4BKX_A_B" "5TH9_HL_A" "2VLP_A_B" "5HPS_A_B" "2MZD_A_B" "2CMR_HL_A" "2Y5B_A_B" "5F3X_A_B" "5D1L_A_B" "2I32_A_E" "4PAS_A_B" "2NZ1_X_Y" "3KW5_A_B" "4MI8_A_C" "4C5G_A_B" "1R0R_E_I" "2MNU_A_B" "3VEP_X_D" "1FMO_E_I" "2EFH_A_B" "3BP8_AB_C" "4BD9_A_B" "1PJM_A_B" "2WG3_A_C" "2KWO_B_A" "4DH2_A_B" "1ZHI_A_B" "5FB8_BA_C" "1HCF_AB_X" "3K6G_A_D" "4YOC_A_C" "4M6B_A_C" "4Q5U_A_C" "4NM3_A_B" "3TNF_A_B" "3DVU_A_C" "1SYQ_A_B" "4B1Y_B_M" "1YQV_HL_Y" "2MJ5_A_B" "1F5R_A_I" "3UYP_A_B" "4JZJ_HL_C" "1XQH_A_B" "4DJ9_A_B" "3N00_A_B" "3OJM_A_B" "5XMH_DC_B" "4I6L_A_B" "2A5T_A_B" "4NZW_A_B" "3QBV_A_B" "2O8V_A_B" "1SHZ_A_C" "4MWF_HL_C" "4C7N_A_B" "1GL0_E_I" "2I9B_E_A" "1OGY_A_B" "4V0M_F_E" "5EB1_A_B" "4HFF_A_B" "3C66_A_C" "3K1R_A_B" "2FJU_B_A" "5DJT_A_B" "3WDG_A_B" "2V52_B_M" "4Z5R_BA_N" "3P57_IJ_P" "2MBB_A_B" "3U9P_KM_C" "3DI3_A_B" "3ZYJ_A_B" "2Z3R_A_B" "4AG2_A_C" "3V6Z_AB_F" "4YPI_C_G" "4PC0_A_C" "3TAC_A_B" "3WRY_A_C" "4FQ0_B_C" "2VOG_A_B" "3G9W_A_D" "4OFY_A_D" "1J7V_L_R" "3PNR_A_B" "2F31_A_B" "3DOE_A_B" "3TL8_A_B" "2WP3_T_O" "3MCA_A_B" "3R85_A_E" "3O40_A_B" "3MA9_HL_A" "2MJ5_A_B" "2AST_A_B" "4M6B_A_C" "5DJT_A_B" "3PVM_A_B" "4OFY_A_D" "4ZGQ_A_B" "5CZF_A_D" "5GLH_A_B" "3OAK_A_D" "2J7P_A_D" "3LEV_L_H" "3DVU_A_C" "4G6J_HL_A" "2W8B_A_H" "1PPE_E_I" "5JSB_A_B" "2LUH_A_B" "1P2C_AB_C" "3W9E_AB_C" "2N2H_A_B" "3DXC_A_B" "5LRW_A_B" "2AW2_A_B" "5DJU_B_A" "2QNA_A_B" "5G1X_A_B" "2MV7_A_B" "4ZGM_A_B" "4CU4_A_B" "1UUG_A_B" "2C1M_A_B" "4QRP_K_L" "2Z8V_A_D" "2OZA_B_A" "3GC3_A_B" "4PQT_A_B" "3WQB_A_B" "4LAD_A_B" "4APF_A_B" "1USU_A_B" "3F1P_A_B" "5D1Q_CD_E" "2W8B_A_H" "4APF_A_B" "4GAF_B_A" "3OJM_A_B" "5J8H_A_B" "2H7V_A_C" "3R9A_AC_B" "2A7U_A_B" "3LEV_L_H" "4YIQ_A_B")
chains1=("B" "C" "B" "A" "A" "C" "A" "I,O" "A" "A" "B" "B" "C" "E,D" "B" "A" "A" "D,C" "T" "B" "E" "X" "C" "B" "D" "A" "T" "A" "A" "B" "B" "A" "B" "A" "H,L" "A" "C" "A" "A" "E,D" "H" "A" "B" "B" "H" "B" "A" "A" "A" "A" "B" "A" "B" "H,L" "A" "A" "A" "A" "A" "B" "B" "A" "B" "X" "A" "C" "A" "E" "A" "X" "E" "B" "A,B" "B" "A" "A" "A" "B" "B" "C" "A,B" "D" "C" "C" "C" "B" "B" "C" "B" "M" "H,L" "A" "A" "A" "H,L" "B" "B" "A" "A" "B" "B" "B" "B" "B" "A" "C" "H,L" "B" "I" "E" "B" "E" "B" "B" "A" "A" "A" "B" "A" "B" "N" "I,J" "A" "K,M" "A" "B" "A" "C" "F" "C" "A" "B" "C" "B" "A" "A" "D" "L" "B" "B" "B" "B" "T" "A" "A" "B" "A" "B" "B" "C" "A" "B" "D" "A" "D" "B" "D" "D" "H" "A" "H,L" "H" "I" "A" "A" "A,B" "C" "A" "A" "B" "A" "A" "B" "B" "B" "B" "A" "B" "A" "L" "D" "A" "B" "B" "A" "B" "B" "B" "A" "E" "A" "A" "A" "A" "A" "A" "B" "B" "L" "A")
chains2=("A" "A,B" "A" "B" "B" "B" "B" "D" "B" "B" "A" "A" "A" "F" "A" "C" "C" "B" "C" "A" "I" "A" "A,B" "A" "C" "B" "C" "B" "B" "A" "A" "B" "K,M" "B" "A" "B" "A" "B" "B" "F" "L" "B" "A" "A" "L" "A" "B" "B" "B" "B" "A" "B" "A" "A" "B" "B" "B" "H,L" "B" "A" "A" "E" "A" "Y" "B" "A" "B" "I" "B" "D" "I" "A" "C" "A" "B" "C" "B" "A" "A" "B,A" "X" "A" "A" "A" "A" "A" "A" "A" "A" "B" "Y" "B" "I" "B" "C" "A" "A" "B" "B" "D,C" "A" "A" "A" "A" "B" "A" "C" "A" "E" "A" "A" "F" "A" "A" "C" "B" "B" "A" "B" "M" "B,A" "P" "B" "C" "B" "A" "B" "A" "A,B" "G" "C" "A" "A" "C" "B" "D" "A" "R" "A" "A" "A" "A" "O" "B" "E" "A" "H,L" "A" "A" "A" "B" "A" "A" "B" "A" "A" "A" "A" "L" "C" "A" "A" "E" "B" "B" "C" "A,B" "B" "B" "A" "B" "B" "A" "A" "A" "A" "B" "A" "B" "K" "A" "B" "A" "A" "B" "A" "A" "A" "B" "C,D" "H" "B" "B" "B" "B" "C" "A,C" "A" "H" "B")
mut_res=("94B" "85C" "613B" "15A" "72A" "589C" "99A" "50I" "226A" "123A" "119B" "938B" "512C" "104E" "1164B" "909A" "53A" "53D" "245T" "976B" "126E" "146X" "49C" "577B" "41D" "215A" "307T" "53A" "373A" "64B" "80B" "108A" "83B" "177A" "94L" "150A" "36C" "23A" "323A" "103E" "132H" "149A" "39B" "589B" "143H" "399B" "102A" "667A" "62A" "153A" "74B" "69A" "161B" "30H" "33A" "720A" "63A" "203A" "429A" "418B" "139B" "61A" "816B" "273X" "32A" "122C" "665A" "96E" "67A" "43X" "198E" "28B" "146A" "6B" "876A" "44A" "331A" "65B" "504B" "53C" "33B" "308D" "853C" "601C" "413C" "396B" "428B" "116C" "615B" "519M" "52H" "73A" "99A" "4A" "101H" "369B" "2080B" "606A" "150A" "314B" "8B" "264B" "91B" "1337B" "241A" "35C" "53H" "28B" "29I" "40E" "21B" "100E" "87B" "70B" "507A" "100A" "67A" "10B" "184A" "171B" "153N" "66I" "78A" "94M" "89A" "193B" "52A" "30C" "126F" "255C" "31A" "956B" "1098C" "132B" "52A" "356A" "62D" "46L" "309B" "9B" "119B" "342B" "22T" "512A" "130A" "20B" "35A" "954B" "2104B" "615C" "404A" "404B" "107D" "136A" "5D" "6B" "259D" "46D" "141H" "78A" "100H" "156H" "17I" "235A" "82A" "352B" "25C" "223A" "612A" "8B" "123A" "422A" "47B" "61B" "879B" "32B" "560A" "25B" "489A" "190L" "89D" "382A" "13B" "73B" "515A" "589B" "66B" "66B" "239A" "345E" "268A" "125A" "6A" "18A" "48A" "67A" "609B" "75B" "135L" "96A")

for i in {0..200}
do
    srun /PATH_TO_ROSETTA/source/bin/rosetta_scripts.default.linuxiccrelease -parser:protocol recovery.xml -ignore_unrecognized_res -out:file:score_only recover_leu.sc -s ${pdb_id[$i]}.pdb -parser:script_vars c1=${chains1[$i]} c2=${chains2[$i]} r=${mut_res[$i]} -out:no_nstruct_label -mute core.scoring.sc.ShapeIdentityCalculator -in:file:native ${pdb_id[$i]}.pdb
done
    
