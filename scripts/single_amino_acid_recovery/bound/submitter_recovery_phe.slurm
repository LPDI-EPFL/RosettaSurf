#!/bin/bash
#SBATCH --nodes 1
#SBATCH --ntasks-per-node 1
#SBATCH --cpus-per-task 1
#SBATCH --mem 8192
#SBATCH --time 24:00:00
#SBATCH --partition serial
#SBATCH --output=./phe.%A_%a.out
#SBATCH --error=./phe.%A_%a.err

pdb_id=("1PXV_A_C" "4K24_A_U" "2M04_A_B" "5I9Q_BC_A" "5L0Q_FE_D" "1FSK_BC_A" "3GS2_A_B" "2M0G_A_B" "3MJH_A_B" "2OMU_A_B" "4UEM_A_B" "2RF9_A_C" "1ZHI_A_B" "3D7U_A_B" "5LXQ_B_A" "4EKC_A_B" "3EOA_LH_I" "3GNI_A_B" "3QBR_A_B" "4PS4_HL_A" "1FY8_E_I" "2G2U_A_B" "3IFQ_A_C" "2ASS_A_B" "4GN5_A_D" "3C4P_A_B" "3Q3G_HF_I" "1WPX_A_B" "4ZGM_A_B" "2VOG_A_B" "3LB6_A_C" "2EFD_A_B" "2JKI_A_S" "3KR3_HL_D" "5BK1_CD_B" "5XMH_DC_B" "3W8I_A_B" "4FFY_HL_A" "1AK4_A_D" "2XTT_A_B" "4D0G_A_C" "1RV6_VW_X" "4QVF_A_B" "1XG2_A_B" "4ZGY_A_B" "3T2N_IM_B" "4BKX_A_B" "5VAG_CB_A" "4NL9_A_C" "1WQJ_B_I" "3TNF_A_B" "2PTC_E_I" "4KGG_C_A" "2H9G_BA_R" "4YOC_A_C" "4MHJ_L_H" "4BYF_C_D" "2OMV_A_B" "1TH1_A_C" "2RA3_A_C" "4YWG_IM_Q" "2UZI_HL_R" "2NBV_A_B" "2VOH_A_B" "5JHL_HL_A" "2XZE_B_R" "3MAC_HL_A" "3DAW_A_B" "4G35_A_B" "3QBT_A_B" "2Z8W_A_D" "5INB_A_B" "3R1G_HL_B" "1AFV_KM_B" "2MLZ_B_A" "3G6J_E_F" "3W9E_AB_C" "4M6B_A_C" "4MHJ_L_H" "3KZ0_A_C" "4BYF_C_D" "3LBX_A_B" "5FR1_A_B" "3LEV_L_H" "4XAK_HL_A" "4CVW_A_C" "2VAY_A_B" "4MRT_C_A" "2R0L_HL_A" "4J32_A_B" "4F9L_A_B" "2YQ7_A_B" "5E6P_A_B" "2LKM_A_B" "3IDC_A_B" "3H2U_A_B" "3MA2_D_C" "2A5T_A_B" "3GI9_HL_C" "2A1A_B_A" "2MRO_A_B" "2NZ8_A_B" "1L4D_A_B" "3RGV_A_B" "4M6B_A_C" "1G0V_A_B" "2XBB_A_C" "4AP2_A_B" "3PVM_A_B" "1UUZ_A_D" "4REY_A_B" "3AJB_A_B" "1ZR0_A_B" "2QUR_A_B" "4DBG_A_B" "5BW7_A_B" "2C1T_A_C" "4HFU_HL_A" "3RT0_A_C" "3RBB_A_B" "2MZD_A_B" "4DT1_A_B" "1JTG_B_A" "4DT1_A_B" "1UUZ_A_D" "1RJL_BA_C" "1AXI_A_B" "4BRW_A_B" "1H59_A_B" "4U2X_A_D" "5DUM_HL_A" "4NQW_A_B" "4LSU_HL_G" "4PLO_B_A" "5XHV_PQ_A" "3TL8_A_B" "5LXM_A_D" "3DXD_A_B" "2WPT_A_B" "4M62_HL_S" "4APF_A_B" "1MZW_A_B" "2VH5_HL_R" "1M10_A_B" "4YDJ_HL_G" "2Z58_A_B" "5GGT_HL_A" "5B71_BA_E" "5LXM_A_D" "4P5T_A_B" "3V4Y_A_B" "1FAK_HL_T" "2GNG_A_I" "2AST_A_B" "1A14_HL_N" "4RE1_A_D" "4QLP_A_B" "4YYP_A_B" "3VYR_A_B" "4NE9_A_P" "4P5T_A_B" "4EIG_A_B" "2MV7_A_B" "4C2A_A_B" "3P95_A_E" "4Q96_D_E" "5SX5_HL_N" "2I32_A_E" "2OMZ_A_B" "1XQS_A_C" "4U0Q_A_B" "2C1M_A_B" "3H6S_A_E" "3N4I_A_B" "1ZC4_A_D" "4C2B_A_B" "5BW7_A_B" "4AEI_HL_A" "4APF_A_B" "1AN1_E_I" "1ES0_A_B" "5USL_BC_A" "5LSP_ST_P" "1FC2_C_D" "4LAD_A_B" "2A7U_A_B" "2LVO_A_C" "4LGP_A_B" "1WQJ_B_I" "5AYR_A_B" "5DMJ_A_B" "5HPS_A_B" "5UEA_HL_D" "3FJU_A_B" "4F9L_A_B" "2Z0E_A_B" "5J28_A_C" "3G9V_A_B" "1T44_G_A" "3ALZ_A_B")
chains1=("A" "A" "A" "B,C" "D" "B,C" "B" "B" "B" "A" "B" "C" "A" "A" "A" "B" "L,H" "A" "A" "A" "E" "B" "A" "A" "A" "B" "I" "A" "B" "A" "A" "B" "S" "D" "C,D" "D,C" "B" "H,L" "A" "B" "A" "X" "A" "A" "B" "B" "A" "C,B" "A" "I" "A" "E" "C" "R" "C" "L" "C" "B" "A" "A" "Q" "H,L" "A" "A" "A" "B" "H,L" "A" "A" "B" "D" "B" "B" "K,M" "B" "F" "A,B" "A" "L" "A" "D" "A" "B" "L" "H,L" "A" "B" "C" "A" "A" "A" "A" "B" "A" "A" "A" "D" "A" "C" "B" "B" "B" "B" "B" "C" "B" "A" "A" "A" "D" "B" "A" "A" "A" "B" "A" "A" "H,L" "C" "A" "B" "B" "B" "B" "A" "B,A" "A" "B" "A" "D" "H,L" "A" "H,L" "A" "A" "A" "A" "B" "B" "H,L" "B" "B" "H,L" "B" "H,L" "B" "A" "E" "D" "A" "B" "T" "A" "A" "H,L" "A" "B" "A" "B" "P" "B" "A" "A" "B" "A" "D" "H,L" "A" "A" "A" "A" "A" "A" "B" "D" "A" "B" "A" "A" "E" "A" "B,C" "S,T" "C" "A" "B" "C" "A" "I" "B" "B" "B" "D" "B" "B" "B" "C" "B" "G" "A")
chains2=("C" "U" "B" "A" "F,E" "A" "A" "A" "A" "B" "A" "A" "B" "B" "B" "A" "I" "B" "B" "H,L" "I" "A" "C" "B" "D" "A" "H,F" "B" "A" "B" "C" "A" "A" "H,L" "B" "B" "A" "A" "D" "A" "C" "V,W" "B" "B" "A" "I,M" "B" "A" "C" "B" "B" "I" "A" "B,A" "A" "H" "D" "A" "C" "C" "I,M" "R" "B" "B" "H,L" "R" "A" "B" "B" "A" "A" "A" "H,L" "B" "A" "E" "C" "C" "H" "C" "C" "B" "A" "H" "A" "C" "A" "A" "H,L" "B" "B" "B" "A" "B" "B" "B" "C" "B" "H,L" "A" "A" "A" "A" "A" "A" "A" "C" "B" "B" "A" "A" "B" "B" "B" "A" "B" "C" "A" "A" "B" "A" "A" "A" "A" "D" "C" "B" "A" "B" "A" "A" "B" "G" "B" "P,Q" "B" "D" "A" "A" "S" "A" "A" "R" "A" "G" "A" "H,L" "B,A" "A" "B" "A" "H,L" "I" "B" "N" "D" "A" "B" "A" "A" "A" "B" "B" "A" "E" "E" "N" "E" "B" "C" "B" "B" "E" "A" "A" "B" "A" "H,L" "B" "I" "B" "A" "P" "D" "B" "A" "A" "B" "B" "A" "A" "A" "H,L" "A" "A" "A" "A" "A" "A" "B")
mut_res=("285A" "25A" "146A" "90C" "642D" "34B" "244B" "454B" "41B" "368A" "359B" "352C" "94A" "382A" "560A" "152B" "102H" "92A" "95A" "107A" "41E" "36B" "284A" "1101A" "64A" "142B" "246I" "308A" "28B" "95A" "107A" "47B" "168S" "48D" "30C" "54D" "407B" "100H" "113A" "41B" "48A" "172X" "97A" "80A" "192B" "327B" "307A" "55C" "53A" "23I" "37A" "41E" "81C" "59R" "867C" "98L" "173C" "17B" "660A" "41A" "176Q" "32H" "98A" "148A" "108A" "70B" "99H" "352A" "270A" "668B" "86D" "395B" "318B" "36M" "461B" "166F" "55A" "68A" "32L" "270A" "90D" "38A" "158B" "209L" "54H" "514A" "1533B" "69C" "97A" "150A" "212A" "146A" "59B" "210A" "187A" "885A" "204D" "246A" "318C" "489B" "403B" "1236B" "118B" "88B" "623C" "30B" "707A" "246A" "420A" "34D" "975B" "298A" "41A" "129A" "620B" "405A" "487A" "29H" "58C" "94A" "20B" "184B" "36B" "180B" "7A" "94A" "25A" "54B" "16A" "395D" "104H" "26A" "91L" "57A" "200A" "492A" "157A" "690B" "86B" "54H" "54B" "121B" "32H" "199B" "100H" "33B" "19A" "50E" "19D" "89A" "203B" "50T" "54A" "1101A" "92L" "350A" "727B" "962A" "228B" "150P" "124B" "31A" "545A" "199B" "41A" "121D" "91L" "72A" "150A" "252A" "350A" "496A" "146A" "36B" "247D" "1366A" "405B" "15A" "130A" "41E" "48A" "31C" "94T" "132C" "51A" "17B" "468C" "117A" "16I" "69B" "99B" "70B" "71D" "39B" "212B" "80B" "517C" "57B" "49G" "483A")

for i in {0..200}
do
    srun /PATH_TO_ROSETTA/source/bin/rosetta_scripts.default.linuxiccrelease -parser:protocol recovery.xml -ignore_unrecognized_res -out:file:score_only recover_phe.sc -s ${pdb_id[$i]}.pdb -parser:script_vars c1=${chains1[$i]} c2=${chains2[$i]} r=${mut_res[$i]} -out:no_nstruct_label -mute core.scoring.sc.ShapeIdentityCalculator -in:file:native ${pdb_id[$i]}.pdb
done
    
