#!/bin/bash
#SBATCH --nodes 1
#SBATCH --ntasks-per-node 1
#SBATCH --cpus-per-task 1
#SBATCH --mem 8192
#SBATCH --time 24:00:00
#SBATCH --partition serial
#SBATCH --output=./lys.%A_%a.out
#SBATCH --error=./lys.%A_%a.err

pdb_id=("4CPA_A_I" "1LFD_B_A" "4PW9_A_B" "1M10_A_B" "1Y64_A_B" "5IOH_A_B" "2LP0_A_B" "2L1L_A_B" "1F6M_A_C" "3BLH_A_B" "2LP4_A_Y" "1G9M_HL_G" "3VG9_CB_A" "3N06_A_B" "4A49_A_B" "3C59_A_B" "4YIZ_A_B" "2ONL_A_C" "4BZ2_HL_A" "2HQW_A_B" "3RGF_A_B" "4PZ6_A_Q" "3WKM_IM_B" "3W8I_A_B" "4H03_A_B" "4UT6_IM_B" "5TE7_HL_G" "1FC2_C_D" "5DUM_HL_A" "3UL0_B_C" "4BFI_A_B" "4IZ7_A_B" "4IKA_A_D" "4C9B_A_B" "4YVQ_A_C" "4HCN_A_B" "3CX8_A_B" "2BE6_A_D" "1K5D_AB_C" "3GXU_A_B" "3CX5_JK_E" "3L9J_C_T" "3CX6_A_B" "2W84_A_B" "4Y5X_JK_L" "1SV0_A_C" "4EUK_A_B" "3FIE_A_C" "5D1L_A_B" "1Y64_A_B" "3LBX_A_B" "2MLX_B_A" "2ONL_A_C" "2MTA_HL_A" "1OSP_HL_O" "2B4J_AB_C" "1DFJ_E_I" "3AAA_AB_C" "4ONS_A_B" "2W81_A_D" "4YOC_A_C" "4ZXB_CD_E" "1Y64_A_B" "1AHW_AB_C" "2B42_B_A" "2HD5_A_B" "1H0D_BA_C" "2MBB_A_B" "2HSQ_A_B" "3ZRZ_A_C" "3P71_T_C" "5UEA_HL_D" "3GB8_A_B" "1T44_G_A" "3U9Z_A_C" "2Q5D_A_C" "3N06_A_B" "4C9B_A_B" "3BRT_A_B" "2QC1_A_B" "2PCC_A_B" "2I9L_HG_L" "3OXU_B_F" "5UOE_PQ_C" "4Q5U_A_C" "5YOY_HE_C" "3RO2_A_B" "2HEV_F_R" "2YGG_A_B" "4BFI_A_B" "4A49_A_B" "4GAF_B_A" "2AQ3_A_B" "3JZA_A_B" "5FVK_A_C" "4GEH_A_B" "3DVM_A_B" "1YJD_HL_C" "3CQG_A_B" "3GS2_A_B" "1SHY_A_B" "4LU5_IM_A" "2B4J_AB_C" "5D71_HL_A" "2Q5D_A_C" "5EP6_A_B" "5EO9_A_B" "2ONL_A_C" "3SKU_A_D" "5KVD_HL_E" "4ZGQ_A_B" "1Y64_A_B" "2WY3_B_A" "2ONL_A_C" "1G9I_E_I" "5T33_HL_G" "1SHZ_A_C" "4JEU_A_B" "2BDN_HL_A" "3AAD_A_B" "2VLN_A_B" "5LQB_HL_A" "4IOP_A_B" "3KJ2_A_B" "1BGX_HL_T" "5CTR_A_C" "2UZI_HL_R" "4HGM_B_A" "1IRA_Y_X" "5FVK_A_C" "1OEY_A_J" "3UZE_A_C" "4N7Z_A_B" "3UZQ_A_B" "5KAQ_FG_C" "4BOH_B_A" "3IDB_A_B" "5J28_A_C" "2ONL_A_C" "3C4O_A_B" "1Z92_A_B" "3DI2_A_B" "4PVZ_A_C" "4H5S_A_B" "1F51_AB_E" "3MXW_LH_A" "4M1L_A_B" "2HSQ_A_B" "2YPV_HL_A" "3GB8_A_B" "1Y8N_A_B" "1EAW_A_B" "1XU1_ABD_T" "3VI4_FE_B" "2B12_A_B" "2PCB_A_B" "3U9Z_A_C" "2KWK_B_A" "5GMQ_BC_A" "1G0V_A_B" "2BYM_A_B" "3UZQ_A_B" "2RF9_A_C" "6B08_CB_A" "5LQB_HL_A" "5GLH_A_B" "4YC7_A_B" "4BKX_A_B" "4PVZ_A_C" "4CDK_A_E" "3NCC_A_B" "4WV1_BA_C" "4YDJ_HL_G" "5UDC_EG_D" "5IXD_A_B" "1UUZ_A_D" "2OT3_B_A" "2Y5B_A_B" "4M5F_A_B" "2G2W_A_B" "3DI3_A_B" "3JZA_A_B" "4AFQ_A_C" "2M0J_A_B" "1ATN_A_D" "2V4Z_A_B" "3UZ0_A_B" "3BLH_A_B" "3SF4_A_D" "2P8Q_A_B" "2LQH_A_B" "2VLP_A_B" "3IXE_A_B" "4AYD_A_D" "3QWQ_A_B" "4UEM_A_B" "4LMQ_HL_D" "3G9W_A_D" "4REY_A_B" "1AKJ_AB_DE")
chains1=("A" "A" "A" "A" "B" "A" "A" "B" "A" "A" "Y" "G" "A" "A" "B" "B" "A" "C" "A" "B" "B" "A" "B" "B" "B" "B" "G" "C" "A" "C" "B" "A" "A" "A" "A" "A" "B" "A" "A,B" "B" "E" "T" "A" "A" "J,K" "C" "A" "A" "A" "B" "A" "A" "C" "A" "O" "C" "E" "C" "A" "D" "A" "E" "B" "C" "A" "B" "C" "A" "B" "A" "T" "H,L" "B" "G" "C" "A" "A" "B" "B" "A" "B" "L" "B" "C" "C" "C" "A" "F" "B" "A" "A" "B" "A" "B" "A" "A" "A" "C" "B" "A" "A" "I,M" "A,B" "H,L" "C" "B" "A" "A" "D" "E" "A" "B" "A" "C" "I" "H,L" "A" "B" "A" "A" "B" "A" "A" "A" "T" "A" "H,L" "B" "Y" "A" "A" "C" "A" "B" "C" "A" "A" "A" "C" "A" "A" "A" "C" "B" "E" "A" "B" "B" "A" "B" "A" "B" "T" "B" "B" "B" "C" "B" "A" "B" "A" "B" "C" "A" "A" "B" "B" "B" "C" "A" "A" "C" "G" "D" "A" "D" "B" "A" "B" "A" "A" "B" "A" "A" "A" "A" "B" "B" "A" "B" "A" "B" "A" "A" "B" "A" "D" "A" "A" "A,B")
chains2=("I" "B" "B" "B" "A" "B" "B" "A" "C" "B" "A" "H,L" "C,B" "B" "A" "A" "B" "A" "H,L" "A" "A" "Q" "I,M" "A" "A" "I,M" "H,L" "D" "H,L" "B" "A" "B" "D" "B" "C" "B" "A" "D" "C" "A" "J,K" "C" "B" "B" "L" "A" "B" "C" "B" "A" "B" "B" "A" "H,L" "H,L" "A,B" "I" "A,B" "B" "A" "C" "C,D" "A" "A,B" "B" "A" "B,A" "B" "A" "C" "C" "D" "A" "A" "A" "C" "B" "A" "A" "B" "A" "H,G" "F" "P,Q" "A" "H,E" "B" "R" "A" "B" "B" "A" "B" "A" "C" "B" "B" "H,L" "A" "B" "B" "A" "C" "A" "A" "A" "B" "C" "A" "H,L" "B" "A" "B" "A" "E" "G" "C" "A" "H,L" "B" "A" "H,L" "B" "B" "H,L" "C" "R" "A" "X" "C" "J" "A" "B" "A" "F,G" "B" "B" "C" "A" "B" "B" "B" "A" "A" "A,B" "L,H" "A" "A" "H,L" "A" "B" "A" "A,B,D" "F,E" "A" "A" "A" "A" "B,C" "A" "B" "A" "A" "C,B" "H,L" "A" "A" "A" "A" "E" "B" "B,A" "H,L" "E,G" "B" "A" "A" "B" "A" "B" "B" "A" "C" "B" "D" "B" "A" "A" "D" "A" "B" "A" "B" "D" "A" "B" "H,L" "D" "B" "D,E")
mut_res=("239A" "52A" "261A" "599A" "1405B" "168A" "74A" "568B" "39A" "68A" "109Y" "421G" "301A" "69A" "8B" "12B" "146A" "371C" "310A" "876B" "79B" "161A" "215B" "398B" "113B" "247B" "460G" "154C" "161A" "20C" "100B" "259A" "315A" "74A" "447A" "212A" "480B" "75A" "71A" "60B" "148E" "65T" "231A" "34A" "106J" "140C" "787A" "146A" "8A" "1412B" "48A" "287A" "307C" "74A" "69O" "407C" "66E" "11C" "74A" "264D" "1115A" "474E" "1410B" "165C" "315A" "48B" "40C" "90A" "571B" "143A" "62T" "99H" "144B" "150G" "13C" "857A" "181A" "172B" "96B" "70A" "86B" "155L" "120B" "512C" "405C" "65C" "29A" "146F" "76B" "63A" "382A" "12B" "66A" "438B" "59A" "70A" "75A" "63C" "968B" "261A" "516A" "57I" "127B" "31L" "34C" "691B" "103A" "121A" "75D" "373E" "127A" "1639B" "152A" "77C" "311I" "99H" "231A" "2B" "56A" "1463A" "89B" "52A" "164A" "234A" "314T" "529A" "56H" "233B" "295Y" "51A" "382A" "309C" "699A" "363B" "387C" "532A" "83A" "168A" "385C" "111A" "64A" "81A" "129C" "49B" "1304E" "178A" "395B" "579B" "241A" "128B" "51A" "15B" "98T" "85B" "73B" "8B" "31C" "4B" "543A" "31B" "48A" "310B" "336C" "90A" "63A" "9B" "48B" "165B" "115C" "199A" "69A" "158C" "421G" "209D" "269A" "33D" "21B" "307A" "58B" "111A" "81A" "380B" "28A" "75A" "61A" "180A" "120B" "93B" "29A" "32B" "82A" "97B" "141A" "405A" "79B" "281A" "43D" "327A" "56A" "58B")

for i in {0..200}
do
    srun /PATH_TO_ROSETTA/source/bin/rosetta_scripts.default.linuxiccrelease -parser:protocol recovery.xml -ignore_unrecognized_res -out:file:score_only recover_lys.sc -s ${pdb_id[$i]}.pdb -parser:script_vars c1=${chains1[$i]} c2=${chains2[$i]} r=${mut_res[$i]} -out:no_nstruct_label -mute core.scoring.sc.ShapeIdentityCalculator -in:file:native ${pdb_id[$i]}.pdb
done
    
