#!/bin/bash
#SBATCH --nodes 1
#SBATCH --ntasks-per-node 1
#SBATCH --cpus-per-task 1
#SBATCH --mem 8192
#SBATCH --time 24:00:00
#SBATCH --partition serial
#SBATCH --output=./tyr.%A_%a.out
#SBATCH --error=./tyr.%A_%a.err

pdb_id=("3B2U_QR_P" "5OB5_HL_A" "5TE7_HL_G" "2OZA_B_A" "4XWJ_A_B" "4MQV_A_B" "5U8R_HL_A" "3SJH_A_B" "3P71_T_C" "1X1Y_A_D" "3WKM_IM_B" "1I9R_HL_ABC" "4BWQ_E_F" "3OJ2_A_C" "1S1Q_A_B" "3H3G_A_B" "5KVG_HL_E" "3KR3_HL_D" "3Q9U_A_C" "1NCA_HL_N" "2BTF_A_P" "2V5Q_A_D" "4JE4_A_B" "1X1X_A_D" "4D9Q_ED_B" "4KFZ_A_C" "4WNN_A_B" "2Y8S_A_B" "5BJZ_CL_A" "4NZW_A_B" "4C2A_A_B" "4KV5_C_D" "4TSB_HL_A" "5W5Z_HL_A" "3REB_A_B" "5GGV_HL_Y" "4YDJ_HL_G" "1KXQ_H_A" "1CZ8_YX_V" "5MO9_HL_X" "3P0Y_HL_A" "5BV7_HL_A" "3TT3_HL_A" "4PJ2_A_D" "2I26_N_L" "5U8R_HL_A" "5CYK_A_B" "5L0Q_FE_D" "1Z3G_IM_B" "2B10_A_B" "2OZA_B_A" "3LBX_A_B" "5FB8_BA_C" "5D5M_A_B" "5L0Q_FE_D" "3DA7_A_D" "1ZVY_A_B" "4JCV_ADBC_E" "2VXT_HL_I" "4CNI_HL_C" "4OL0_A_B" "5DOB_A_B" "4PQT_A_B" "1I4E_A_B" "3I50_HL_E" "5HVG_A_B" "4RJF_A_B" "3IXE_A_B" "5XXY_HL_A" "2LEH_A_B" "5GS0_FE_B" "2VH5_HL_R" "4NIQ_A_C" "3GMW_A_B" "4ZS6_CD_B" "2R0K_HL_A" "4FQ0_B_C" "5F4E_A_B" "4YBQ_FE_A" "3GRW_HL_A" "5XBM_BA_C" "2HMI_CD_AB" "6AQ7_HL_A" "4J4P_HL_A" "4KVG_A_B" "5BK1_CD_B" "2JBY_A_B" "4CAD_HG_I" "2Y5B_A_B" "5BN5_A_B" "4AYI_A_D" "5E95_B_A" "3VI4_FE_B" "3BN9_FE_A" "4QZV_A_B" "3C9A_B_D" "4OLZ_HL_G" "4G59_A_C" "2B7C_A_B" "3UYP_A_B" "3C4O_A_B" "4RAU_ED_F" "5FB8_BA_C" "4M0W_A_B" "5SZJ_A_B" "5GGS_AB_Z" "5H35_FG_E" "3WN7_A_B" "2Z7F_E_I" "2FJH_BA_W" "5TRU_HL_C" "5DFV_EF_B" "4LU5_IM_A" "1KAC_A_B" "4DKE_IM_B" "3FJU_A_B" "5VIG_AB_G" "2SNI_E_I" "2IDO_A_B" "4H03_A_B" "4EDX_HL_V" "5J4A_A_B" "1TM3_E_I" "4JW2_A_B" "3QBV_A_B" "4F38_A_B" "2C1T_A_C" "1TM3_E_I" "4DZV_A_B" "1BKD_R_S" "4ILW_A_D" "2NQD_A_B" "3WKM_IM_B" "5YOY_HE_C" "3MA9_HL_A" "5D1K_A_B" "5T33_HL_G" "3VV2_A_B" "3IDX_HL_G" "2BYM_A_B" "4DX8_A_J" "3W2D_HL_A" "2ARJ_HL_Q" "4CMH_BC_A" "3ZJY_E_D" "1IQD_AB_C" "4U6H_AB_E" "4JR9_HL_A" "1NVU_Q_S" "2QC1_A_B" "4ONS_A_B" "2LFW_A_B" "1BUH_A_B" "4YWC_A_C" "1YNT_DC_G" "3L5W_LH_I" "3LD8_CB_A" "4I18_HL_C" "1FE8_HL_A" "1TM4_E_I" "6BIT_JL_G" "6BCK_HL_G" "3E2L_A_C" "1SY6_HL_A" "5CZX_HL_A" "1VG0_A_B" "2LKM_A_B" "5KVG_HL_E" "4S0S_A_D" "1T6B_X_Y" "3OUW_A_B" "5JYL_A_B" "3W2D_HL_A" "3G3A_A_B" "2VE7_A_C" "4YPG_BA_C" "1DEE_A_B" "4KUC_FE_I" "4OII_HL_A" "1JRH_HL_I" "5WI9_HL_A" "4AEI_HL_A" "5TL5_HL_A" "3QSK_A_B" "3EGG_A_C" "4U0R_BC_A" "1ZR0_A_B" "4HX3_BD_A" "5D1Z_DC_I" "3PGF_HL_A" "5TZU_HL_C" "5C8J_AB_I" "5MES_HL_A" "1MAH_A_F" "1J2J_A_B" "1NSN_HL_S" "1JPS_HL_T" "5BK1_CD_B" "2QR0_XW_V" "1UAD_A_C")
chains1=("Q,R" "H,L" "H,L" "A" "A" "A" "H,L" "A" "C" "A" "I,M" "H,L" "E" "C" "A" "A" "H,L" "H,L" "A" "H,L" "A" "D" "B" "A" "E,D" "C" "B" "A" "C,L" "A" "A" "C" "H,L" "H,L" "B" "H,L" "G" "H" "Y,X" "H,L" "H,L" "A" "H,L" "D" "N" "H,L" "A" "D" "I,M" "A" "A" "A" "B,A" "B" "F,E" "D" "A" "A,D,B,C" "H,L" "H,L" "B" "B" "A" "B" "H,L" "B" "A" "A" "A" "A" "F,E" "R" "A" "B" "B" "H,L" "B" "B" "F,E" "H,L" "B,A" "C,D" "H,L" "H,L" "A" "C,D" "A" "I" "A" "B" "A" "B" "F,E" "F,E" "B" "B" "H,L" "A" "A" "A" "B" "E,D" "B,A" "A" "B" "A,B" "F,G" "A" "I" "B,A" "C" "E,F" "I,M" "B" "I,M" "A" "A,B" "I" "B" "A" "H,L" "B" "E" "B" "B" "A" "C" "E" "B" "R" "D" "A" "B" "H,E" "H,L" "B" "H,L" "A" "H,L" "B" "A" "A" "H,L" "B,C" "D" "A,B" "A,B" "H,L" "Q" "B" "B" "B" "B" "A" "D,C" "L,H" "C,B" "H,L" "H,L" "E" "J,L" "H,L" "C" "H,L" "A" "A" "B" "H,L" "D" "X" "A" "B" "H,L" "A" "A" "B,A" "A" "F,E" "H,L" "I" "H,L" "H,L" "H,L" "B" "A" "B,C" "B" "A" "D,C" "H,L" "H,L" "A,B" "H,L" "F" "A" "H,L" "H,L" "C,D" "X,W" "A")
chains2=("P" "A" "G" "B" "B" "B" "A" "B" "T" "D" "B" "A,B,C" "F" "A" "B" "B" "E" "D" "C" "N" "P" "A" "A" "D" "B" "A" "A" "B" "A" "B" "B" "D" "A" "A" "A" "Y" "H,L" "A" "V" "X" "A" "H,L" "A" "A" "L" "A" "B" "F,E" "B" "B" "B" "B" "C" "A" "D" "A" "B" "E" "I" "C" "A" "A" "B" "A" "E" "A" "B" "B" "H,L" "B" "B" "H,L" "C" "A" "C,D" "A" "C" "A" "A" "A" "C" "A,B" "A" "A" "B" "B" "B" "H,G" "B" "A" "D" "A" "B" "A" "A" "D" "G" "C" "B" "B" "A" "F" "C" "B" "A" "Z" "E" "B" "E" "W" "H,L" "B" "A" "A" "B" "B" "G" "E" "A" "B" "V" "A" "I" "A" "A" "B" "A" "I" "A" "S" "A" "B" "I,M" "C" "A" "A" "G" "B" "G" "A" "J" "H,L" "Q" "A" "E" "C" "E" "A" "S" "A" "A" "A" "A" "C" "G" "I" "A" "C" "A" "I" "G" "G" "A" "A" "H,L" "B" "A" "E" "A" "Y" "B" "A" "A" "B" "C" "C" "B" "I" "A" "H,L" "A" "A" "A" "A" "C" "A" "A" "B,D" "I" "A" "C" "I" "A" "A" "B" "S" "T" "B" "V" "C")
mut_res=("54Q" "50L" "54H" "240A" "107A" "256A" "54H" "143A" "267C" "103A" "32M" "32H" "73E" "345C" "42A" "167A" "55L" "33L" "110A" "49L" "166A" "79D" "80B" "103A" "54E" "95C" "43B" "213A" "106C" "223A" "1328A" "58C" "31L" "52H" "87B" "107H" "384G" "54H" "101Y" "27H" "56H" "341A" "27H" "44D" "92N" "103H" "151A" "638D" "32I" "39A" "264A" "35A" "74B" "67B" "104F" "31D" "102A" "153C" "32H" "61H" "61B" "127B" "361A" "2412B" "99H" "109B" "250A" "132A" "56A" "216A" "31E" "40R" "46A" "50B" "541B" "56H" "140B" "147B" "103F" "99H" "54B" "91C" "53H" "131H" "40A" "96D" "41A" "183I" "551A" "297B" "368A" "83B" "99E" "99F" "89B" "325B" "59H" "155A" "252A" "34A" "143B" "106E" "47B" "269A" "603B" "57B" "102F" "572A" "68I" "57B" "104C" "595F" "37M" "82B" "93M" "198A" "58A" "61I" "75B" "60A" "99H" "87B" "217E" "36B" "1241B" "74A" "15C" "104E" "13B" "64R" "171D" "57A" "243B" "30E" "102H" "242B" "100H" "243A" "32H" "92B" "144A" "73A" "53L" "102B" "39D" "92A" "104A" "101H" "64Q" "190B" "142B" "36B" "57B" "97A" "1050C" "104H" "100C" "111H" "32L" "104E" "94L" "91L" "143C" "104H" "1474A" "375A" "224B" "97H" "77D" "688X" "254A" "54B" "124H" "35A" "233A" "92A" "32A" "51F" "49L" "49I" "59H" "37L" "105H" "33B" "134A" "56B" "11B" "54A" "95C" "99H" "32L" "58A" "32H" "4F" "81A" "53H" "32H" "58C" "96X" "36A")

for i in {0..200}
do
    srun /PATH_TO_ROSETTA/source/bin/rosetta_scripts.default.linuxiccrelease -parser:protocol recovery.xml -ignore_unrecognized_res -out:file:score_only recover_tyr.sc -s ${pdb_id[$i]}.pdb -parser:script_vars c1=${chains1[$i]} c2=${chains2[$i]} r=${mut_res[$i]} -out:no_nstruct_label -mute core.scoring.sc.ShapeIdentityCalculator -in:file:native ${pdb_id[$i]}.pdb
done
    
