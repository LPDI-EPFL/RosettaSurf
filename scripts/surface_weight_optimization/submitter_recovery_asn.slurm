#!/bin/bash
#SBATCH --nodes 1
#SBATCH --ntasks-per-node 1
#SBATCH --cpus-per-task 1
#SBATCH --mem 8192
#SBATCH --time 48:00:00
#SBATCH --partition serial
#SBATCH --output=./asn.%A_%a.out
#SBATCH --error=./asn.%A_%a.err

pdb_id=("2B10_A_B" "1XT9_A_B" "2B2X_HL_A" "4UDM_B_A" "4YFL_FI_E" "3TKL_A_B" "3G7A_A_B" "4BZ2_HL_A" "1WQ1_R_G" "1NCB_HL_N" "2VOH_A_B" "3OHM_A_B" "4AYI_A_D" "5YOY_HE_C" "1HCF_AB_X" "3N0P_A_B" "3B2U_QR_P" "4U0R_BC_A" "1GUA_A_B" "4IOP_A_B" "3GS2_A_B" "1NCB_HL_N" "2B7C_A_B" "4QZV_A_B" "4WEU_D_B" "5VAG_CB_A" "5ET1_A_C" "1XG2_A_B" "3DXC_A_B" "2Y8T_A_B" "2OMX_A_B" "3UKW_B_C" "3N06_A_B" "3GC3_A_B" "5UEM_HL_G" "2C0L_A_B" "3PVM_A_B" "3WKT_A_C" "4MI8_A_C" "6AQ7_HL_A" "3D85_BA_C" "3OXU_B_F" "2QXV_A_B" "2XQR_A_B" "4CC4_A_B" "4ZII_A_C" "3CX7_A_B" "1A22_A_B" "5J28_A_C" "2I3S_A_B" "4YL8_A_B" "4G6V_A_B" "4DGE_A_C" "3G3A_A_B" "1ZC3_A_D" "4MXV_FE_B" "4D0G_A_C" "5DUP_HL_A" "2J0T_A_D" "1YVB_A_I" "2FD6_HL_U" "3QML_A_C" "1UGH_E_I" "2JGZ_A_B" "4G6J_HL_A" "2WG4_A_B" "5TPN_HL_A" "5AJJ_A_B" "1IQD_AB_C" "4PER_A_B" "3RO2_A_B" "2L0T_A_B" "4YDL_HL_G" "5TIH_HL_A" "4LQF_HL_A" "4OM1_HL_G" "1TMQ_A_B" "4NZR_HL_M" "4HCP_A_B" "3BK3_A_C" "3E2U_A_E" "3BGF_BC_A" "4MI8_A_C" "4W6X_A_B" "1ZV5_L_A" "4U6H_AB_E" "2ONL_A_C" "1YD8_U_H" "4P59_HL_A" "4LQW_A_D" "3T2N_IM_B" "1RJC_A_B" "3G3A_A_B" "3M18_A_B" "1A14_HL_N" "2A6D_L_H" "1LX5_A_B" "2OMX_A_B" "4JDT_HL_G" "1I2M_A_B" "3NH7_KO_D" "2Z0E_A_B" "2WQZ_A_D" "2B42_B_A" "2FDB_M_P" "4YWC_A_C" "3M18_A_B" "1YCS_A_B" "2NQD_A_B" "3IA3_A_D" "1RJC_A_B" "3WN7_A_B" "2A7U_A_B" "1A14_HL_N" "5IKC_BA_M" "1TO1_E_I" "1FE8_HL_A" "4HFU_HL_A" "5NMV_HL_K" "4MYW_A_B" "2Z8W_A_D" "2WY8_A_Q" "3K9M_A_C" "4W6Y_A_B" "1M1E_A_B" "1FCC_AB_C" "4G80_EF_T" "4ZKC_A_B" "5CUS_HL_A" "4CDK_A_E" "2CMR_HL_A" "1NW9_B_A" "3ZKM_CD_B" "2BTF_A_P" "5UDC_EG_D" "3UKX_B_C" "4RWT_A_D" "4KVN_HL_A" "3QUM_KM_Q" "3F50_A_B" "4KV5_C_D" "1TQB_BC_A" "1K5D_AB_C" "4LYL_A_B" "4PAS_A_B" "3T2N_IM_B" "2Y8S_A_B" "1JTG_B_A" "1W1W_B_F" "1RI8_A_B" "1WPX_A_B" "4GN3_A_B" "2HRK_A_B" "1ADQ_HL_A" "2FJH_BA_W" "5JLV_A_C" "3ZJY_E_D" "2OT8_A_C" "4A1S_B_E" "1PJM_A_B" "2Z0E_A_B" "2QXV_A_B" "1FAK_HL_T" "3WQB_A_B" "2XHE_A_B" "4CNI_HL_C" "3OJM_A_B" "3AB0_BC_A" "2J7P_A_D" "5IJ9_A_B" "3G7A_A_B" "2OMX_A_B" "2I26_N_L" "4MXV_FE_B" "3QLU_A_C" "3ZWZ_A_B" "4NZR_HL_M" "3R9A_AC_B" "3GXU_A_B" "2D10_A_E" "4YIZ_A_B" "3IXS_A_B" "3SF4_A_D" "2Y5B_A_B" "1SBB_A_B" "1Y34_E_I" "2VE7_A_C" "3T2N_IM_B" "1TH1_A_C" "4ZSO_BA_E" "4YDI_HL_G" "3KJ4_HL_A" "5TPN_HL_A" "4F38_A_B" "3IDC_A_B" "1BKD_R_S" "6B0A_HL_A" "4HCR_HL_A" "5JSB_A_B" "4OL0_A_B")
chains1=("A" "A" "A" "A" "E" "B" "A" "H,L" "G" "H,L" "A" "B" "A" "H,E" "X" "A" "P" "A" "B" "A" "A" "N" "B" "B" "B" "A" "A" "B" "B" "B" "B" "B" "A" "B" "G" "A" "B" "C" "A" "A" "B,A" "F" "A" "A" "A" "C" "A" "A" "C" "B" "A" "B" "A" "A" "D" "B" "C" "A" "A" "A" "H,L" "A" "E" "A" "A" "B" "H,L" "A" "C" "B" "A" "B" "H,L" "A" "H,L" "G" "A" "H,L" "A" "C" "A" "A" "C" "B" "L" "A,B" "A" "H" "H,L" "A" "I,M" "A" "B" "B" "N" "H" "B" "A" "H,L" "B" "K,O" "B" "D" "A" "P" "A" "A" "B" "A" "A" "B" "A" "B" "N" "B,A" "E" "H,L" "A" "H,L" "B" "A" "Q" "C" "B" "A" "C" "E,F" "B" "A" "A" "H,L" "B" "C,D" "P" "E,G" "B" "D" "A" "K,M" "B" "D" "B,C" "C" "A" "A" "I,M" "A" "A" "B" "B" "B" "A" "A" "A" "B,A" "C" "D" "A" "B" "B" "A" "B" "H,L" "A" "B" "C" "B" "B,C" "D" "B" "B" "A" "L" "F,E" "C" "A" "M" "B" "A" "E" "A" "A" "A" "A" "B" "E" "A" "I,M" "A" "B,A" "G" "H,L" "A" "A" "B" "S" "A" "H,L" "B" "B")
chains2=("B" "B" "H,L" "B" "F,I" "A" "B" "A" "R" "N" "B" "A" "D" "C" "A,B" "B" "Q,R" "B,C" "A" "B" "B" "H,L" "A" "A" "D" "C,B" "C" "A" "A" "A" "A" "C" "B" "A" "H,L" "B" "A" "A" "C" "H,L" "C" "B" "B" "B" "B" "A" "B" "B" "A" "A" "B" "A" "C" "B" "A" "F,E" "A" "H,L" "D" "I" "U" "C" "I" "B" "H,L" "A" "A" "B" "A,B" "A" "B" "A" "G" "H,L" "A" "H,L" "B" "M" "B" "A" "E" "B,C" "A" "A" "A" "E" "C" "U" "A" "D" "B" "B" "A" "A" "H,L" "L" "A" "B" "G" "A" "D" "A" "A" "B" "M" "C" "B" "A" "B" "D" "A" "B" "A" "H,L" "M" "I" "A" "H,L" "K" "A" "D" "A" "A" "A" "B" "A,B" "T" "A" "H,L" "E" "A" "A" "B" "A" "D" "C" "A" "H,L" "Q" "A" "C" "A" "A,B" "B" "B" "B" "B" "B" "F" "A" "A" "B" "B" "H,L" "W" "A" "E" "C" "E" "A" "B" "A" "T" "B" "A" "H,L" "A" "A" "A" "A" "A" "B" "N" "B" "A" "B" "H,L" "A,C" "B" "A" "B" "B" "D" "B" "A" "I" "C" "B" "C" "E" "H,L" "A" "H,L" "B" "A" "R" "H,L" "A" "A" "A")
mut_res=("38A" "28A" "263A" "46A" "276E" "435B" "8A" "33H" "942G" "52H" "85A" "260B" "339A" "107H" "350X" "56A" "469P" "338A" "64B" "143A" "322A" "344N" "1171B" "97B" "258B" "112A" "282A" "98B" "680B" "1316B" "20B" "188B" "198A" "17B" "425G" "568A" "554B" "187C" "84A" "196A" "99B" "1140F" "101A" "105A" "84A" "85C" "278A" "63A" "520C" "322B" "247A" "97B" "102A" "110A" "235D" "62B" "623C" "154A" "171A" "64A" "92L" "81A" "215E" "272A" "129A" "419B" "108L" "151A" "2198C" "22B" "283A" "82B" "52H" "116A" "57H" "461G" "137A" "77L" "205A" "20C" "69A" "424A" "111C" "101B" "113L" "35B" "114A" "223H" "74H" "102A" "52I" "57A" "59B" "39B" "400N" "61H" "65B" "239A" "58H" "268B" "31K" "76B" "238D" "290A" "2318P" "126A" "64A" "513B" "29A" "28A" "46B" "387A" "71B" "329N" "93A" "62E" "31L" "186A" "102H" "82B" "173A" "52Q" "77C" "107B" "426A" "35C" "94F" "17B" "274A" "109A" "93L" "405B" "58C" "124P" "31G" "146B" "406D" "294A" "28M" "31B" "69D" "35B" "131C" "215A" "778A" "94M" "153A" "100A" "1192B" "113B" "550B" "46A" "124A" "384A" "59B" "559C" "173D" "726A" "226B" "361B" "146A" "45B" "93L" "218A" "155B" "155C" "344B" "98B" "111D" "348B" "31B" "322A" "103L" "54F" "317C" "223A" "440M" "602B" "36A" "352E" "184A" "322A" "143A" "219A" "23B" "155E" "272A" "34M" "516A" "55B" "279G" "34L" "197A" "109A" "258B" "944S" "126A" "96L" "62B" "744B")

for i in {0..200}
do
    srun /PATH_TO_ROSETTA/source/bin/rosetta_scripts.default.linuxiccrelease -parser:protocol recovery.xml -ignore_unrecognized_res -out:file:score_only recover_asn.sc -s ${pdb_id[$i]}.pdb -parser:script_vars c1=${chains1[$i]} c2=${chains2[$i]} r=${mut_res[$i]} -out:no_nstruct_label -mute core.scoring.sc.ShapeIdentityCalculator -in:file:native ${pdb_id[$i]}.pdb -mute all
done
    
