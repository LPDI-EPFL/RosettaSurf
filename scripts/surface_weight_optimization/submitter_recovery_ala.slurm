#!/bin/bash
#SBATCH --nodes 1
#SBATCH --ntasks-per-node 1
#SBATCH --cpus-per-task 1
#SBATCH --mem 8192
#SBATCH --time 48:00:00
#SBATCH --partition serial
#SBATCH --output=./ala.%A_%a.out
#SBATCH --error=./ala.%A_%a.err

pdb_id=("3KNB_A_B" "4OM1_HL_G" "1BGX_HL_T" "4F38_A_B" "1F7Z_A_I" "3GMW_A_B" "4AL8_HL_C" "3GMW_A_B" "4C9B_A_B" "2I26_N_L" "1K5D_AB_C" "4NE9_A_P" "2OT8_A_C" "1SQ0_A_B" "3AB0_BC_A" "2HQW_A_B" "3DVM_A_B" "2X2D_D_C" "1A2K_C_AB" "2L1L_A_B" "4C4K_T_O" "3T2N_IM_B" "5H35_FG_E" "1VRK_A_B" "4ZLT_B_F" "4ZKC_A_B" "2B11_A_B" "4M5F_A_B" "4JW3_A_C" "1TAW_A_B" "5W1K_DC_E" "2Z8V_A_D" "4OM1_HL_G" "3ZWZ_A_B" "4IKA_A_D" "3LBX_A_B" "5JSB_A_B" "5CXB_A_B" "4CT0_A_B" "2MLZ_B_A" "4C7N_A_B" "1OPH_A_B" "1AK4_A_D" "1GP2_A_BG" "5TAR_A_B" "4EIG_A_B" "4NSO_A_B" "3Q9U_A_C" "4C4K_T_O" "3G6J_E_F" "3PC8_A_C" "2G2W_A_B" "5SV3_A_B" "3V96_A_B" "4S1Q_HL_G" "1G0V_A_B" "4UEM_A_B" "2XQB_HL_A" "2MLZ_B_A" "3EO1_AB_CF" "2WEL_A_D" "3AAA_AB_C" "1W1W_B_F" "1K74_AB_DE" "3SJV_D_E" "3GS2_A_B" "3WQB_A_B" "1XQS_A_C" "2I25_N_L" "1OGY_A_B" "5WB9_HL_G" "2NZ8_A_B" "4GI3_A_C" "3AU4_A_B" "2B4J_AB_C" "2J12_A_B" "2BYM_A_B" "5F3H_AB_J" "4KGG_C_A" "1OP9_A_B" "4U6H_AB_E" "3WWN_A_B" "4XOI_A_B" "3MJH_A_B" "1ML0_AB_D" "6ELU_EF_D" "4JZJ_HL_C" "4YJ4_A_B" "2V6X_A_B" "4KT3_A_B" "3SYN_A_E" "4OJK_A_C" "5VIG_AB_G" "5ET1_A_C" "3U43_A_B" "5CZV_HL_A" "3FXD_A_B" "5LXQ_B_A" "2ONL_A_C" "3VLB_A_B" "3UC0_IM_B" "3KBT_A_D" "5F96_HL_G" "1GP2_A_BG" "3E2K_A_D" "3GRW_HL_A" "4KFZ_A_C" "2LFW_A_B" "5HPK_A_B" "3OKY_A_B" "4Y5X_JK_L" "2XNS_B_D" "4BYF_C_D" "3VV2_A_B" "4JEU_A_B" "3F50_A_B" "4C5G_A_B" "3GJ8_A_B" "5SX5_HL_N" "1KLU_AB_D" "1DHK_A_B" "1Y33_E_I" "4IJ3_CB_A" "5IUS_A_C" "1XQS_A_C" "2P43_A_B" "2HSQ_A_B" "2XQR_A_B" "1WDW_BD_A" "2N2H_A_B" "1WPX_A_B" "3EOA_LH_I" "1BRS_A_D" "4DZV_A_B" "4NE9_A_P" "3DXE_A_B" "4KUC_FE_I" "5JSN_A_B" "4POU_A_B" "3U7Y_HL_G" "4CJ2_B_C" "2O8V_A_B" "3ZEU_D_E" "4DGE_A_C" "2F31_A_B" "5XKU_CB_A" "1GRN_A_B" "3VG9_CB_A" "3EGG_A_C" "4KUC_FE_I" "3PVM_A_B" "4DZV_A_B" "4F9P_A_B" "1ZJD_A_B" "4F9P_A_B" "5UOE_PQ_C" "2OOR_AB_C" "4HCP_A_B" "2IDO_A_B" "5D1L_A_B" "4CJ0_A_B" "2ES4_A_D" "3ZYJ_A_B" "4Y5O_A_B" "2M04_A_B" "6CK9_DE_B" "1RJC_A_B" "3V96_A_B" "4JW3_A_C" "4EQA_A_C" "4PEQ_A_B" "4K0A_A_R" "2M0J_A_B" "5VL7_HL_B" "1YVB_A_I" "4BRU_A_B" "5LQB_HL_A" "1B3S_A_D" "4LLO_A_B" "4P5T_A_B" "5GGT_HL_A" "2R56_HL_A" "2C1M_A_B" "1ZHI_A_B" "2VXT_HL_I" "1H1V_A_G" "4WV1_BA_C" "5B77_A_B" "3VPJ_A_E" "1FJ1_DC_E" "4ZGM_A_B" "4ZFG_HL_A" "4DJ9_A_B" "5D96_JI_D" "2M0J_A_B" "3SJV_D_E" "2L1L_A_B" "5JQ6_HL_A" "3SF4_A_D" "2YGG_A_B")
chains1=("B" "G" "T" "B" "I" "B" "C" "A" "B" "N" "C" "A" "A" "A" "B,C" "B" "B" "C" "C" "B" "T" "I,M" "F,G" "A" "B" "A" "A" "B" "C" "B" "E" "D" "G" "A" "D" "B" "B" "A" "A" "B" "A" "B" "D" "A" "B" "A" "A" "C" "O" "E" "C" "B" "B" "B" "G" "B" "A" "H,L" "B" "A,B" "D" "C" "F" "A,B" "E" "B" "A" "C" "N" "B" "G" "B" "A" "A" "A,B" "B" "B" "J" "C" "A" "E" "A" "B" "B" "A,B" "E,F" "H,L" "A" "B" "B" "E" "A" "G" "A" "B" "H,L" "B" "B" "A" "A" "B" "A" "H,L" "A" "A" "A" "C" "A" "B" "A" "L" "B" "C" "B" "B" "B" "A" "B" "N" "A,B" "A" "E" "A" "A" "C" "A" "A" "B" "A" "B" "A" "I" "D" "B" "A" "A" "I" "A" "A" "G" "C" "B" "E" "A" "B" "A" "A" "C,B" "C" "I" "B" "B" "B" "A" "A" "P,Q" "C" "B" "B" "A" "A" "D" "A" "A" "A" "B" "B" "B" "A" "C" "B" "R" "A" "H,L" "I" "A" "H,L" "D" "A" "B" "A" "H,L" "A" "B" "H,L" "G" "C" "B" "E" "E" "B" "A" "A" "D" "A" "E" "B" "A" "D" "B")
chains2=("A" "H,L" "H,L" "A" "A" "A" "H,L" "B" "A" "L" "A,B" "P" "C" "B" "A" "A" "A" "D" "A,B" "A" "O" "B" "E" "B" "F" "B" "B" "A" "A" "A" "D,C" "A" "H,L" "B" "A" "A" "A" "B" "B" "A" "B" "A" "A" "B,G" "A" "B" "B" "A" "T" "F" "A" "A" "A" "A" "H,L" "A" "B" "A" "A" "C,F" "A" "A,B" "B" "D,E" "D" "A" "B" "A" "L" "A" "H,L" "A" "C" "B" "C" "A" "A" "A,B" "A" "B" "A,B" "B" "A" "A" "D" "D" "C" "B" "A" "A" "A" "C" "A,B" "C" "A" "A" "A" "A" "C" "B" "I,M" "D" "G" "B,G" "D" "H,L" "A" "B" "A" "B" "J,K" "D" "D" "A" "A" "A" "B" "A" "H,L" "D" "B" "I" "C,B" "C" "A" "B" "B" "A" "B,D" "A" "B" "L,H" "A" "A" "P" "B" "F,E" "B" "B" "H,L" "B" "A" "D" "C" "A" "C,B" "B" "A" "A" "F,E" "A" "A" "A" "B" "B" "C" "A,B" "A" "A" "B" "B" "A" "B" "B" "B" "D,E" "A" "A" "C" "A" "A" "A" "B" "B" "A" "B" "A" "A" "B" "A" "H,L" "A" "B" "A" "I" "A" "B,A" "A" "A" "D,C" "A" "H,L" "B" "J,I" "B" "D" "A" "H,L" "A" "A")
mut_res=("99B" "281G" "570T" "54B" "16I" "51B" "313C" "125A" "341B" "97N" "105C" "299A" "689A" "564A" "33B" "878B" "1967B" "101C" "67C" "541B" "27T" "101I" "75F" "88A" "83B" "69A" "194A" "100B" "37C" "16B" "130E" "1D" "460G" "254A" "15D" "2021B" "51B" "245A" "326A" "400B" "30A" "195B" "488D" "30A" "112B" "19A" "829A" "44C" "91O" "32E" "874C" "46B" "101B" "206B" "281G" "23B" "303A" "97H" "467B" "93A" "129D" "9C" "547F" "398A" "118E" "239B" "215A" "266C" "97N" "108B" "281G" "1247B" "129A" "2030A" "128B" "125B" "45B" "34J" "123C" "99A" "61E" "9A" "26B" "53B" "275A" "54F" "57H" "104A" "194B" "95B" "9E" "79A" "310G" "203A" "84B" "57H" "55B" "106B" "34A" "407A" "162B" "1795A" "53H" "12A" "124A" "169A" "108C" "106A" "46B" "396A" "88L" "83B" "703C" "38B" "220B" "11B" "638A" "868B" "385N" "37A" "310A" "152E" "134A" "81A" "270C" "64A" "46A" "83B" "141A" "692B" "246A" "194I" "36D" "14B" "300A" "613A" "118I" "149A" "64A" "281G" "61C" "93B" "70E" "103A" "12B" "189A" "13A" "31C" "479C" "101I" "562B" "24B" "209B" "97A" "209A" "105P" "100C" "72B" "7B" "14A" "355A" "241D" "205A" "319A" "104A" "532B" "110B" "183B" "31A" "111C" "287B" "20R" "15A" "53H" "10I" "263A" "106H" "37D" "636A" "185B" "51A" "50L" "364A" "505B" "50L" "478G" "169C" "7B" "62E" "209E" "24B" "449A" "46A" "137D" "88A" "144E" "538B" "409A" "49D" "16B")

for i in {0..200}
do
    srun /PATH_TO_ROSETTA/source/bin/rosetta_scripts.default.linuxiccrelease -parser:protocol recovery.xml -ignore_unrecognized_res -out:file:score_only recover_ala.sc -s ${pdb_id[$i]}.pdb -parser:script_vars c1=${chains1[$i]} c2=${chains2[$i]} r=${mut_res[$i]} -out:no_nstruct_label -mute core.scoring.sc.ShapeIdentityCalculator -in:file:native ${pdb_id[$i]}.pdb -mute all
done
