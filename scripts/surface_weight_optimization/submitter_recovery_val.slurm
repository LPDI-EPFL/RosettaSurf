#!/bin/bash
#SBATCH --nodes 1
#SBATCH --ntasks-per-node 1
#SBATCH --cpus-per-task 1
#SBATCH --mem 8192
#SBATCH --time 48:00:00
#SBATCH --partition serial
#SBATCH --output=./val.%A_%a.out
#SBATCH --error=./val.%A_%a.err

pdb_id=("5EB1_A_B" "2LFW_A_B" "4YPG_BA_C" "3FN1_B_A" "3LEV_L_H" "4J2L_A_C" "3PNW_TS_U" "3WA5_A_B" "4YIZ_A_B" "1XD3_A_B" "4NQW_A_B" "3TGK_E_I" "4OD2_BA_S" "3K75_D_B" "3LBX_A_B" "4U0R_BC_A" "4FQJ_HL_A" "2WWK_T_O" "2VOF_C_D" "2B7C_A_B" "4PAS_A_B" "4ZII_A_C" "6AYZ_RC_M" "1DEE_A_B" "4C5G_A_B" "5VEB_AB_X" "3KUD_A_B" "4NM3_A_B" "4K81_A_B" "5IOH_A_B" "2Y8T_A_B" "2MP0_A_B" "1RKC_A_B" "2RF9_A_C" "3GJ3_A_B" "2W80_A_D" "1TMQ_A_B" "5JYL_A_B" "4IZ7_A_B" "3DI3_A_B" "4HFF_A_B" "4FFV_DC_B" "2AW2_A_B" "4ZRK_A_E" "2FDB_M_P" "3LAQ_A_U" "4CJ0_A_B" "2WEL_A_D" "4RE1_A_D" "4HCR_HL_A" "5SV3_A_B" "4Y5O_A_B" "5GPG_A_B" "4V0O_F_E" "4PEQ_A_B" "2R9P_A_E" "5J8H_A_B" "4LST_HL_G" "1H9D_A_B" "2GWW_A_B" "2QNA_A_B" "3QLU_A_C" "1KXV_A_C" "3RPG_B_C" "4W6X_A_B" "5CZF_A_D" "4KSD_A_B" "1JK9_B_A" "3OJM_A_B" "2Y8S_A_B" "5TIH_HL_A" "2NBV_A_B" "2LD7_A_B" "4U32_X_A" "3OIQ_A_B" "4DID_A_B" "2XQY_GL_A" "4GLA_A_D" "1TMQ_A_B" "5CZF_A_D" "2X89_F_G" "4BQD_A_C" "4I6L_A_B" "4GLV_A_B" "2WD5_A_B" "2W8B_A_H" "3IXS_A_B" "2Q5D_A_C" "4NP4_HL_A" "1H1V_A_G" "1Y8N_A_B" "2TGP_Z_I" "1DHK_A_B" "4S1R_HL_G" "4JRA_A_D" "5IKC_BA_M" "2LEH_A_B" "2DD8_H_L" "3SKJ_IM_F" "4Q96_D_E" "1KAC_A_B" "5FVK_A_C" "4ONS_A_B" "1SMF_E_I" "1A2K_C_AB" "4GAF_B_A" "3DXC_A_B" "5IJ9_A_B" "3MJ7_A_B" "4YN0_A_B" "5E94_BA_G" "3EO1_AB_CF" "4RWY_HL_A" "5FR2_A_B" "2WJV_A_D" "1GNG_A_X" "2HQW_A_B" "3OHM_A_B" "1TM5_E_I" "1I4D_D_AB" "3H6G_A_B" "2C1M_A_B" "2Y5B_A_B" "2VLQ_A_B" "2AST_A_B" "5UCB_HL_B" "2GAF_D_A" "4C4K_T_O" "6B0G_DC_E" "2ASS_A_B" "4C4P_A_B" "4PBW_B_E" "3UYO_A_D" "3C5T_A_B" "2J59_A_M" "3B2U_QR_P" "1EZU_C_AB" "5B71_BA_E" "4AG4_HL_A" "4ZGY_A_B" "3BK3_A_C" "3K2U_HL_A" "2V4Z_A_B" "3BRT_A_B" "3OUN_A_B" "2L0F_A_B" "4GAF_B_A" "5JG6_A_B" "2PCC_A_B" "4LAD_A_B" "2LWW_A_B" "3QWQ_A_B" "3C4M_A_C" "2XQR_A_B" "1OC0_A_B" "2MRE_A_B" "2NZ1_X_Y" "4Q5U_A_C" "3EGG_A_C" "5UCB_HL_B" "6BPE_EF_D" "4KBB_A_C" "3P92_A_E" "2L0F_A_B" "3AON_A_B" "4EHQ_A_G" "5BW7_A_B" "1FY8_E_I" "1R8S_A_E" "2ARJ_HL_Q" "4WV1_BA_C" "1JK9_B_A" "4B4S_A_B" "4M1L_A_B" "4KV5_C_D" "1G0V_A_B" "1RKC_A_B" "5IJ9_A_B" "3GS2_A_B" "3ZJY_E_D" "4YIZ_A_B" "4JW2_A_B" "4J2L_A_C" "2J12_A_B" "3L9J_C_T" "6BP2_HL_A" "1YRU_A_B" "4CT0_A_B" "4AP2_A_B" "4AP2_A_B" "1PKQ_GF_J" "4BYF_C_D" "4NL9_A_C" "1P27_A_B" "2QC1_A_B" "4JEG_A_B" "5D1L_A_B" "4ZGY_A_B" "3BLH_A_B" "4JRA_A_D")
chains1=("B" "B" "B,A" "A" "H" "A" "U" "A" "B" "A" "B" "I" "S" "D" "A" "A" "H,L" "T" "C" "B" "A" "A" "M" "A" "B" "A,B" "B" "B" "A" "B" "B" "B" "A" "A" "B" "D" "A" "A" "B" "B" "A" "D,C" "B" "A" "P" "U" "A" "D" "A" "A" "A" "B" "B" "E" "B" "A" "A" "G" "B" "A" "B" "A" "C" "B" "B" "D" "B" "A" "A" "A" "H,L" "B" "A" "X" "B" "A" "G,L" "D" "B" "D" "G" "C" "B" "A" "A" "A" "B" "C" "A" "G" "A" "Z" "A" "H,L" "D" "M" "B" "L" "F" "D" "A" "C" "B" "E" "C" "B" "A" "B" "A" "B" "G" "A,B" "A" "A" "A" "A" "A" "B" "I" "D" "B" "A" "A" "A" "A" "B" "D" "T" "E" "B" "A" "E" "A" "A" "A" "P" "A,B" "B,A" "A" "B" "A" "A" "A" "A" "B" "B" "B" "B" "A" "A" "B" "B" "C" "A" "B" "A" "X" "C" "C" "B" "E,F" "A" "A" "A" "B" "A" "B" "I" "A" "Q" "C" "B" "A" "B" "D" "A" "A" "B" "A" "D" "B" "A" "A" "B" "C" "A" "A" "B" "A" "B" "G,F" "D" "C" "A" "B" "A" "B" "A" "B" "A")
chains2=("A" "A" "C" "B" "L" "C" "T,S" "B" "A" "B" "A" "E" "B,A" "B" "B" "B,C" "A" "O" "D" "A" "B" "C" "R,C" "B" "A" "X" "A" "A" "B" "A" "A" "A" "B" "C" "A" "A" "B" "B" "A" "A" "B" "B" "A" "E" "M" "A" "B" "A" "D" "H,L" "B" "A" "A" "F" "A" "E" "B" "H,L" "A" "B" "A" "C" "A" "C" "A" "A" "A" "B" "B" "B" "A" "A" "B" "A" "A" "B" "A" "A" "A" "A" "F" "A" "A" "B" "B" "H" "A" "A" "H,L" "A" "B" "I" "B" "G" "A" "B,A" "A" "H" "I,M" "E" "B" "A" "A" "I" "A,B" "A" "B" "A" "B" "A" "B,A" "C,F" "H,L" "B" "D" "X" "B" "A" "E" "A,B" "A" "B" "B" "B" "B" "H,L" "A" "O" "D,C" "A" "B" "B" "D" "B" "M" "Q,R" "C" "E" "H,L" "A" "C" "H,L" "B" "B" "A" "A" "A" "A" "B" "B" "A" "A" "A" "B" "A" "B" "Y" "A" "A" "H,L" "D" "C" "E" "B" "A" "G" "A" "E" "E" "H,L" "B,A" "A" "B" "A" "C" "B" "B" "A" "B" "E" "A" "B" "C" "A" "T" "H,L" "B" "A" "B" "A" "J" "C" "A" "B" "A" "B" "A" "B" "A" "D")
mut_res=("63B" "44B" "29A" "428A" "169H" "643A" "588U" "282A" "1293B" "166A" "58B" "34I" "71S" "303D" "57A" "206A" "96H" "21T" "74C" "1173B" "792A" "83A" "92M" "133A" "153B" "50A" "88B" "399B" "109A" "403B" "1314B" "340B" "51A" "956A" "742B" "149D" "151A" "88A" "80B" "58B" "68A" "50D" "36B" "139A" "2311P" "40U" "357A" "92D" "322A" "1A" "103A" "15B" "2094B" "103E" "428B" "213A" "91A" "430G" "5B" "57A" "59B" "171A" "60C" "44B" "103B" "56D" "33B" "6A" "66A" "105A" "99H" "101B" "191A" "34X" "237B" "44A" "2G" "36D" "568B" "4D" "82G" "9C" "70B" "109A" "651A" "349A" "151B" "59C" "2076A" "476G" "55A" "213Z" "163A" "57H" "541D" "136M" "47B" "134L" "137F" "116D" "498A" "201C" "136B" "213E" "40C" "124B" "557A" "255B" "62A" "364B" "30G" "103B" "430A" "38A" "206A" "267A" "91A" "262B" "57I" "36D" "107B" "498A" "514A" "37A" "1153A" "145B" "365D" "24T" "83E" "2151B" "46A" "72E" "151A" "30A" "43A" "417P" "281B" "93A" "342A" "158B" "99A" "96A" "179A" "709A" "262B" "695B" "249B" "73B" "197A" "159A" "461B" "50B" "21C" "46A" "15B" "70A" "270X" "395C" "474C" "93B" "53F" "1118A" "213A" "70A" "94B" "91A" "397B" "34I" "53A" "25Q" "172C" "214B" "87A" "397B" "79D" "295A" "32A" "351B" "265A" "47D" "1287B" "36A" "641A" "67B" "124C" "97A" "215A" "1192B" "138A" "129B" "99G" "109D" "30C" "56A" "188B" "170A" "200B" "117A" "134B" "1143A")

for i in {0..200}
do
    srun /PATH_TO_ROSETTA/source/bin/rosetta_scripts.default.linuxiccrelease -parser:protocol recovery.xml -ignore_unrecognized_res -out:file:score_only recover_val.sc -s ${pdb_id[$i]}.pdb -parser:script_vars c1=${chains1[$i]} c2=${chains2[$i]} r=${mut_res[$i]} -out:no_nstruct_label -mute core.scoring.sc.ShapeIdentityCalculator -in:file:native ${pdb_id[$i]}.pdb -mute all
done
    
