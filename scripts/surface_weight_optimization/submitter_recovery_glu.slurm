#!/bin/bash
#SBATCH --nodes 1
#SBATCH --ntasks-per-node 1
#SBATCH --cpus-per-task 1
#SBATCH --mem 8192
#SBATCH --time 48:00:00
#SBATCH --partition serial
#SBATCH --output=./glu.%A_%a.out
#SBATCH --error=./glu.%A_%a.err

pdb_id=("5JMC_A_B" "1R6Q_A_C" "1FQ1_A_B" "2MP0_A_B" "3KZ0_A_C" "1FJ1_DC_E" "1UUG_A_B" "3BLH_A_B" "1VEU_A_B" "4YVQ_A_C" "4HFF_A_B" "1Y6K_L_R" "2LD7_A_B" "1WR6_A_E" "2W81_A_D" "3PGF_HL_A" "1YRT_A_B" "2W80_A_D" "2WY3_B_A" "5TIH_HL_A" "1XQS_A_C" "1IQD_AB_C" "3EAB_A_G" "2P8Q_A_B" "4JE4_A_B" "3SE9_HL_G" "5HPY_A_B" "2J7P_A_D" "2JJS_A_C" "4XNZ_EF_D" "2VH5_HL_R" "2VAY_A_B" "3MC0_A_B" "2LUH_A_B" "4YDL_HL_G" "4ZK9_A_B" "4XTR_EF_A" "4RT6_A_B" "4ETP_A_B" "1GRN_A_B" "2WD5_A_B" "3N0P_A_B" "1B6C_A_B" "3ZKQ_A_D" "2WY3_B_A" "5TLK_HG_Y" "2WQZ_A_D" "3G6D_LH_A" "3SF4_A_D" "4JCV_ADBC_E" "4ETP_A_B" "2M55_A_B" "4CJ0_A_B" "2VH5_HL_R" "5INB_A_B" "1M1E_A_B" "1K93_A_D" "3ULA_A_D" "4LW4_AB_C" "5VLP_HL_A" "2KXW_A_B" "5GLH_A_B" "4UEM_A_B" "4CMM_A_B" "2WG3_A_C" "1MXE_A_E" "3DVU_A_C" "4ZGQ_A_B" "4RX4_HL_G" "2R56_HL_A" "5TZU_HL_C" "1BVN_P_T" "4PLO_B_A" "2M5B_A_B" "5EB1_A_B" "3LVK_AC_B" "4FZA_A_B" "4DZU_A_B" "1LK3_IM_B" "2XQB_HL_A" "2V8S_E_V" "4DS8_A_B" "5UG0_DC_A" "3OAK_A_D" "3VV2_A_B" "4TQ1_A_B" "2W8B_A_H" "4XAK_HL_A" "2WFX_A_B" "2A5T_A_B" "5AGX_A_D" "3UYP_A_B" "4HCP_A_B" "1M1E_A_B" "2ASS_A_B" "4WNN_A_B" "3GNI_A_B" "3NH7_KO_D" "1SBB_A_B" "3EHU_A_C" "3WA0_A_G" "1VRK_A_B" "1I9R_HL_ABC" "2A78_A_B" "1UUG_A_B" "2NY1_DC_A" "1OGY_A_B" "6BIT_JL_G" "4HFU_HL_A" "5AAM_A_C" "2JJT_A_C" "4ZXB_CD_E" "3K75_D_B" "4KI5_EF_M" "2MRO_A_B" "3OHM_A_B" "4YIZ_A_B" "3BEG_A_B" "3TT3_HL_A" "5LI1_A_B" "4GNK_A_B" "2A1A_B_A" "4APX_A_B" "4F15_HI_G" "4W6Y_A_B" "1K74_AB_DE" "3DXD_A_B" "2I3S_A_B" "4JEG_A_B" "1X1Y_A_D" "4ZII_A_C" "4XLW_A_B" "1FQ1_A_B" "2Y8T_A_B" "4C2A_A_B" "1MXE_A_E" "1W1W_B_F" "4HFU_HL_A" "4NZW_A_B" "2PMS_A_C" "4MHH_JK_A" "5AYR_A_B" "2CFH_A_C" "4RGO_HL_S" "4ZS7_HL_A" "3DA7_A_D" "2UYZ_A_B" "3IDC_A_B" "2WG3_A_C" "1USU_A_B" "4ZGY_A_B" "3DXE_A_B" "1M10_A_B" "1R8S_A_E" "3KUD_A_B" "2V52_B_M" "5J8H_A_B" "5LXM_A_D" "3D5S_A_C" "1WPX_A_B" "3RT0_A_C" "3NCC_A_B" "4PAS_A_B" "4XHU_C_D" "4OLZ_HL_G" "1T6B_X_Y" "5Y9F_VU_F" "3IDB_A_B" "3LD8_CB_A" "3D5R_A_C" "4MJS_A_B" "3G6D_LH_A" "4QLP_A_B" "1NCB_HL_N" "1KTZ_A_B" "3PVM_A_B" "2NYY_DC_A" "3KYI_A_B" "2JJS_A_C" "1PJN_A_B" "3O40_A_B" "5E6P_A_B" "5NMV_HL_K" "2EFD_A_B" "2C7N_A_B" "3VG9_CB_A" "1AVA_A_C" "4GAF_B_A" "4YOC_A_C" "4TQ0_A_B" "4YOC_A_C" "3E2L_A_C" "4OLZ_HL_G" "3R1G_HL_B" "3FMG_HL_A" "3MAC_HL_A" "4AYD_A_D" "2EFH_A_B" "1BJ1_HL_VW" "3FPU_A_B")
chains1=("A" "C" "B" "A" "C" "D,C" "B" "B" "B" "C" "B" "R" "B" "A" "D" "A" "B" "D" "A" "A" "A" "A,B" "A" "A" "B" "H,L" "B" "D" "C" "D" "R" "A" "A" "B" "H,L" "A" "A" "A" "B" "A" "A" "A" "A" "D" "A" "H,G" "A" "A" "A" "A,D,B,C" "B" "A" "A" "R" "A" "A" "D" "D" "A,B" "A" "A" "B" "B" "B" "C" "A" "A" "B" "G" "A" "C" "P" "B" "A" "A" "B" "B" "B" "B" "A" "E" "B" "A" "D" "B" "A" "H" "A" "B" "B" "A" "A" "A" "A" "B" "B" "B" "K,O" "A" "A" "G" "A" "H,L" "A" "B" "D,C" "A" "J,L" "A" "C" "C" "E" "B" "M" "B" "A" "B" "A" "A" "B" "A" "A" "B" "G" "B" "A,B" "A" "B" "B" "D" "A" "A" "B" "B" "A" "A" "B" "A" "A" "C" "J,K" "B" "C" "S" "A" "D" "B" "B" "A" "B" "A" "A" "A" "A" "A" "B" "A" "A" "A" "B" "A" "B" "A" "D" "H,L" "Y" "F" "A" "A" "A" "A" "A" "A" "H,L" "B" "A" "A" "A" "C" "B" "B" "A" "K" "B" "A" "C,B" "C" "B" "C" "A" "C" "A" "G" "B" "H,L" "A" "A" "A" "V,W" "A")
chains2=("B" "A" "A" "B" "A" "E" "A" "A" "A" "A" "A" "L" "A" "E" "A" "H,L" "A" "A" "B" "H,L" "C" "C" "G" "B" "A" "G" "A" "A" "A" "E,F" "H,L" "B" "B" "A" "G" "B" "E,F" "B" "A" "B" "B" "B" "B" "A" "B" "Y" "D" "L,H" "D" "E" "A" "B" "B" "H,L" "B" "B" "A" "A" "C" "H,L" "B" "A" "A" "A" "A" "E" "C" "A" "H,L" "H,L" "H,L" "T" "A" "B" "B" "A,C" "A" "A" "I,M" "H,L" "V" "A" "D,C" "A" "A" "B" "A" "H,L" "A" "A" "D" "B" "B" "B" "A" "A" "A" "D" "B" "C" "A" "B" "A,B,C" "B" "A" "A" "B" "G" "H,L" "A" "A" "C,D" "D" "E,F" "A" "B" "A" "B" "H,L" "A" "B" "B" "A" "H,I" "A" "D,E" "B" "A" "A" "A" "C" "B" "A" "A" "B" "E" "F" "H,L" "B" "A" "A" "A" "A" "H,L" "H,L" "A" "A" "A" "C" "A" "B" "B" "B" "E" "B" "M" "B" "D" "C" "A" "C" "A" "B" "C" "G" "X" "V,U" "B" "C,B" "C" "B" "L,H" "B" "N" "A" "B" "D,C" "B" "A" "A" "A" "B" "H,L" "A" "B" "A" "A" "A" "A" "B" "A" "C" "H,L" "H,L" "A" "H,L" "D" "B" "H,L" "B")
mut_res=("1293A" "79C" "42B" "74A" "9C" "54D" "28B" "137B" "78B" "314C" "71B" "46R" "464B" "219A" "304D" "309A" "83B" "304D" "100A" "67A" "132A" "31B" "125A" "281A" "50B" "96L" "64B" "238D" "29C" "370D" "31R" "14A" "56A" "174B" "96L" "62A" "253A" "786A" "332B" "62A" "577A" "67A" "54A" "205D" "68A" "31G" "361A" "109A" "25A" "146C" "325B" "83A" "353A" "63R" "287A" "620A" "127D" "92D" "347A" "543A" "84A" "10B" "318B" "29B" "380C" "127A" "47A" "460B" "102G" "45A" "100C" "149P" "804B" "92A" "163A" "21B" "58B" "32B" "74B" "89A" "95E" "323B" "144A" "262D" "61B" "244A" "111H" "513A" "380B" "119B" "136A" "102A" "141A" "310A" "2103B" "108B" "425B" "99K" "56A" "104A" "1482G" "14A" "97L" "99A" "27B" "3108D" "67A" "54J" "188A" "327C" "29C" "490E" "69B" "2228M" "420B" "191A" "1280B" "614A" "368A" "15B" "221A" "28A" "111B" "115G" "101B" "352A" "648A" "337B" "38B" "46D" "75A" "450A" "208B" "1317B" "1359A" "123A" "1196B" "190A" "174A" "182C" "31J" "24B" "13C" "193S" "172A" "47D" "89B" "221B" "177A" "97B" "136A" "648A" "596A" "54A" "37A" "167B" "123A" "175A" "171A" "539B" "323A" "43B" "777A" "58D" "96L" "117Y" "273F" "248A" "322A" "171A" "78A" "15A" "66A" "96H" "55B" "915A" "920A" "10A" "100C" "354B" "32B" "1836A" "60K" "62B" "66A" "1C" "129C" "252B" "759C" "33A" "858C" "110A" "370G" "316B" "63H" "19A" "359A" "222A" "93W" "4A")

for i in {0..200}
do
    srun /PATH_TO_ROSETTA/source/bin/rosetta_scripts.default.linuxiccrelease -parser:protocol recovery.xml -ignore_unrecognized_res -out:file:score_only recover_glu.sc -s ${pdb_id[$i]}.pdb -parser:script_vars c1=${chains1[$i]} c2=${chains2[$i]} r=${mut_res[$i]} -out:no_nstruct_label -mute core.scoring.sc.ShapeIdentityCalculator -in:file:native ${pdb_id[$i]}.pdb -mute all
done
    
