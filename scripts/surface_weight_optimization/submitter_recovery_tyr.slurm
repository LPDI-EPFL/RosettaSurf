#!/bin/bash
#SBATCH --nodes 1
#SBATCH --ntasks-per-node 1
#SBATCH --cpus-per-task 1
#SBATCH --mem 8192
#SBATCH --time 48:00:00
#SBATCH --partition serial
#SBATCH --output=./tyr.%A_%a.out
#SBATCH --error=./tyr.%A_%a.err

pdb_id=("1YJD_HL_C" "3T2N_IM_B" "3DXC_A_B" "4CMH_BC_A" "2W9E_HL_A" "4IDJ_HL_A" "2B42_B_A" "2J88_HL_A" "2W80_A_D" "2MLZ_B_A" "1KLU_AB_D" "1BJ1_HL_VW" "4DN4_LH_M" "1I8L_A_C" "3G6J_E_F" "4YPG_BA_C" "4B1V_B_N" "4B4S_A_B" "2JBY_A_B" "4GN3_A_B" "5XBM_BA_C" "2V5Q_A_D" "5D71_HL_A" "4OLZ_HL_G" "4V1D_DE_C" "1BJ1_HL_VW" "4G59_A_C" "4CU4_A_B" "3C9A_B_D" "6FAX_HL_R" "5W2B_HL_A" "4EDX_HL_V" "5JYL_A_B" "3RVV_DC_A" "4UV7_HL_A" "4HRL_C_A" "1JRH_HL_I" "4KFZ_A_C" "2Z0E_A_B" "3QHT_A_C" "4OL0_A_B" "1R0R_E_I" "4OD2_BA_S" "5D8J_HL_A" "5B64_A_B" "2OMW_A_B" "2ARJ_HL_Q" "2SIC_E_I" "4K81_A_B" "2AQ3_A_B" "3ZWZ_A_B" "1CGI_E_I" "3QSK_A_B" "3RZW_D_A" "5BK1_CD_B" "5JSN_A_B" "2LKM_A_B" "1ORQ_BA_C" "3K2M_A_D" "3H2U_A_B" "5UEA_HL_D" "5D71_HL_A" "1ZLI_A_B" "5F3B_AB_C" "4XVP_A_D" "1NMB_HL_N" "2LPB_A_B" "4D3C_HL_A" "1MLC_AB_E" "5JYL_A_B" "4DTG_HL_K" "1B2U_A_D" "2MFQ_A_B" "1X1W_A_D" "3DA7_A_D" "4E42_A_B" "5F4E_A_B" "2XTJ_DB_A" "5F3H_AB_J" "1Y3C_E_I" "5AJJ_A_B" "4EDX_HL_V" "5I9Q_BC_A" "3WN7_A_B" "1AKJ_AB_DE" "4OQT_HL_A" "1YNT_DC_G" "4EHQ_A_G" "2NQD_A_B" "5EN2_AB_C" "4E42_A_B" "4HT1_HL_T" "2EFH_A_B" "3NCC_A_B" "3WQB_A_B" "3NH7_KO_D" "1UDI_E_I" "5UCB_HL_B" "5BK2_CD_B" "5HVG_A_B" "3OL2_A_B" "4KT3_A_B" "2NZ1_X_Y" "1OSP_HL_O" "4JZJ_HL_C" "5BN5_A_B" "2OUL_A_B" "2Y8T_A_B" "5GGT_HL_A" "5EE5_A_B" "4GNK_A_B" "6AQ7_HL_A" "3BKY_H_L" "4X33_A_B" "3KR3_HL_D" "5VCN_FE_A" "3OUW_A_B" "5D93_CB_A" "5HPY_A_B" "3OPZ_JN_C" "3RPG_B_C" "3TT3_HL_A" "3UYO_A_D" "1MAH_A_F" "1LX5_A_B" "1ZC4_A_D" "4KV5_C_D" "2BYM_A_B" "3OPZ_JN_C" "1M10_A_B" "4XNZ_EF_D" "2W80_A_D" "1TY4_A_C" "4WEU_D_B" "5J13_CB_A" "2G2U_A_B" "3KR3_HL_D" "3PNW_TS_U" "3WDG_A_B" "4QVF_A_B" "3G04_BA_C" "4E42_A_B" "2WPT_A_B" "5GS0_FE_B" "5TE7_HL_G" "3QHY_A_B" "4NIQ_A_C" "3FHC_A_B" "3SZK_DE_F" "4BQD_A_C" "3W2D_HL_A" "4FZA_A_B" "3RGF_A_B" "5GGV_HL_Y" "1P69_A_B" "4CPA_A_I" "5LSP_ST_P" "3IXE_A_B" "2P47_A_B" "3OXU_B_F" "4EDW_HL_V" "3LMS_A_B" "3C4O_A_B" "1H1V_A_G" "3H11_BC_A" "1Z3G_IM_B" "3IDC_A_B" "4U6V_HL_A" "2AQ1_A_B" "4G6V_A_B" "4MP0_A_B" "4KV5_C_D" "1TM4_E_I" "1IRA_Y_X" "2EFD_A_B" "2VLP_A_B" "1AY7_A_B" "4I0C_A_D" "3SGQ_E_I" "1VG0_A_B" "2VLQ_A_B" "5TIH_HL_A" "4Q6I_ED_J" "2P49_A_B" "1BRS_A_D" "5TIH_HL_A" "5D93_CB_A" "1YRU_A_B" "1EGJ_HL_A" "1TQB_BC_A" "5KVD_HL_E" "2ONL_A_C" "2P46_A_B" "4CU4_A_B" "5HI5_CD_A" "3MA9_HL_A" "1LFD_B_A" "6AYZ_RC_M" "1AY7_A_B" "3OPZ_JN_C")
chains1=("C" "I,M" "B" "B,C" "A" "A" "B" "H,L" "A" "A" "D" "H,L" "L,H" "A" "E" "B,A" "B" "B" "A" "B" "B,A" "D" "H,L" "H,L" "C" "H,L" "C" "A" "B" "H,L" "H,L" "H,L" "B" "D,C" "H,L" "A" "I" "C" "B" "C" "B" "I" "B,A" "H,L" "B" "A" "H,L" "I" "B" "B" "A" "I" "A" "D" "C,D" "B" "B" "B,A" "A" "B" "H,L" "H,L" "A" "C" "A" "H,L" "A" "H,L" "A,B" "B" "H,L" "D" "A" "D" "D" "A" "A" "D,B" "A,B" "E" "A" "H,L" "B,C" "A" "D,E" "H,L" "D,C" "G" "A" "A,B" "B" "H,L" "B" "B" "A" "K,O" "E" "H,L" "C,D" "B" "A" "B" "Y" "H,L" "H,L" "A" "A" "A" "A" "A" "B" "H,L" "H" "A" "H,L" "F,E" "A" "C,B" "B" "J,N" "C" "H,L" "D" "A" "A" "A" "C" "A" "C" "A" "E,F" "A" "A" "B" "C,B" "B" "H,L" "U" "B" "A" "B,A" "A" "B" "F,E" "H,L" "B" "C" "A" "F" "C" "H,L" "A" "A" "H,L" "B" "A" "S,T" "A" "A" "F" "H,L" "A" "B" "A" "A" "I,M" "A" "A" "B" "B" "B" "D" "E" "X" "A" "A" "A" "D" "I" "A" "A" "H,L" "E,D" "B" "D" "H,L" "C,B" "A" "H,L" "A" "H,L" "C" "B" "B" "C,D" "H,L" "B" "R,C" "B" "J,N")
chains2=("H,L" "B" "A" "A" "H,L" "H,L" "A" "A" "D" "B" "A,B" "V,W" "M" "C" "F" "C" "N" "A" "B" "A" "C" "A" "A" "G" "D,E" "V,W" "A" "B" "D" "R" "A" "V" "A" "A" "A" "C" "H,L" "A" "A" "A" "A" "E" "S" "A" "A" "B" "Q" "E" "A" "A" "B" "E" "B" "A" "B" "A" "A" "C" "D" "A" "D" "A" "B" "A,B" "D" "N" "B" "A" "E" "A" "K" "A" "B" "A" "A" "B" "B" "A" "J" "I" "B" "V" "A" "B" "A,B" "A" "G" "A" "B" "C" "A" "T" "A" "A" "B" "D" "I" "B" "B" "A" "B" "A" "X" "O" "C" "B" "B" "B" "H,L" "B" "A" "A" "L" "B" "D" "A" "B" "A" "A" "C" "B" "A" "A" "F" "B" "D" "D" "B" "J,N" "B" "D" "D" "C" "D" "A" "A" "D" "T,S" "A" "B" "C" "B" "A" "B" "G" "A" "A" "B" "D,E" "A" "A" "B" "B" "Y" "A" "I" "P" "B" "B" "B" "V" "B" "A" "G" "B,C" "B" "B" "H,L" "A" "A" "A" "C" "I" "Y" "B" "B" "B" "A" "E" "B" "B" "A" "J" "A" "A" "A" "A" "B" "A" "B,C" "E" "A" "A" "A" "A" "A" "A" "M" "A" "C")
mut_res=("51C" "32I" "687B" "52B" "145A" "68A" "113B" "92L" "344A" "378A" "94D" "99H" "33L" "31A" "49E" "54B" "166B" "73B" "41A" "33B" "54B" "79D" "32H" "59H" "33C" "32H" "194C" "116A" "325B" "91L" "60H" "98H" "32B" "104D" "104H" "46A" "49I" "59C" "38B" "75C" "61B" "20I" "30A" "102H" "783B" "343A" "50L" "75I" "40B" "90B" "390A" "10I" "115A" "21D" "58C" "63B" "276B" "102B" "193A" "92B" "31H" "32L" "248A" "95C" "151A" "99H" "220A" "93L" "32B" "54B" "102H" "31D" "59A" "30D" "31D" "152A" "163A" "112D" "92B" "217E" "196A" "99H" "88C" "572A" "51E" "32L" "1050C" "80G" "57A" "94B" "31B" "103H" "79B" "94B" "178A" "32K" "90E" "52H" "93D" "111B" "201A" "56B" "13Y" "102H" "32H" "91A" "61A" "110A" "56A" "109A" "855B" "53H" "108H" "4A" "103H" "102F" "254A" "52C" "66B" "52N" "22C" "54H" "76D" "72A" "62A" "75A" "65C" "62A" "119C" "565A" "59E" "336A" "168A" "88B" "35C" "143B" "93L" "594U" "67B" "195A" "99B" "47A" "83B" "31E" "74H" "73B" "184C" "295A" "126F" "12C" "114L" "223A" "3A" "91L" "82B" "248A" "104S" "132A" "115A" "1190F" "99H" "198A" "143B" "143A" "464A" "32I" "247A" "182A" "90B" "99B" "412B" "58D" "104E" "147X" "225A" "55A" "86A" "103D" "20I" "43A" "54A" "27H" "30D" "29B" "29D" "32L" "93B" "345A" "33H" "158A" "96H" "228C" "31B" "9B" "31D" "102H" "240B" "100R" "29B" "57J")

for i in {0..200}
do
    srun /PATH_TO_ROSETTA/source/bin/rosetta_scripts.default.linuxiccrelease -parser:protocol recovery.xml -ignore_unrecognized_res -out:file:score_only recover_tyr.sc -s ${pdb_id[$i]}.pdb -parser:script_vars c1=${chains1[$i]} c2=${chains2[$i]} r=${mut_res[$i]} -out:no_nstruct_label -mute core.scoring.sc.ShapeIdentityCalculator -in:file:native ${pdb_id[$i]}.pdb -mute all
done
    
