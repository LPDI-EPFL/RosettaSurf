#!/bin/bash
#SBATCH --nodes 1
#SBATCH --ntasks-per-node 1
#SBATCH --cpus-per-task 1
#SBATCH --mem 8192
#SBATCH --time 48:00:00
#SBATCH --partition serial
#SBATCH --output=./leu.%A_%a.out
#SBATCH --error=./leu.%A_%a.err

pdb_id=("4WND_A_B" "2XGY_A_B" "4G6J_HL_A" "3GNI_A_B" "4HCP_A_B" "3SGB_E_I" "4BYF_C_D" "3RGF_A_B" "3KBT_A_D" "2KWU_A_B" "4G35_A_B" "1P2C_AB_C" "1LP1_A_B" "3D5R_A_C" "5SZK_A_B" "2KWJ_B_A" "3B08_A_B" "5G1X_A_B" "3N06_A_B" "2BYK_A_B" "5F9O_HL_G" "4ZKC_A_B" "5J3H_CD_E" "1B3S_A_D" "2XPX_A_B" "3Q3G_HF_I" "4ZFG_HL_A" "3BKY_H_L" "2WY3_B_A" "6AYZ_RC_M" "3FXD_A_B" "2BYM_A_B" "6AOD_BA_C" "4WFF_ED_A" "2J7P_A_D" "5EG3_A_B" "2DSP_B_I" "2BYK_A_B" "4LZX_A_B" "2VOH_A_B" "5L0Q_FE_D" "2M86_A_B" "1H59_A_B" "4G35_A_B" "4MIT_A_E" "1J2J_A_B" "2I3T_A_B" "4IZ7_A_B" "2L0F_A_B" "4PQT_A_B" "1DE4_AB_CF" "1CLV_A_I" "2DX5_A_B" "4OL0_A_B" "4TQ1_A_B" "5AAM_A_C" "5HPY_A_B" "2VE7_A_C" "3WDG_A_B" "3TL8_A_B" "4MIT_A_E" "4KGG_C_A" "3BIW_A_E" "4CT0_A_B" "1K93_A_D" "3RGV_A_B" "5BW7_A_B" "3CX6_A_B" "3IOL_A_B" "4MSM_A_B" "5UOE_PQ_C" "3E2K_A_D" "4YDJ_HL_G" "3SYN_A_E" "2F4M_A_B" "1NW9_B_A" "3LMS_A_B" "3WSQ_HL_A" "5HPK_A_B" "4LW4_AB_C" "2MLX_B_A" "4ZSO_BA_E" "3GJ3_A_B" "3CH5_A_B" "2XQY_GL_A" "5TFW_HL_O" "2Z0E_A_B" "5GGV_HL_Y" "2WH6_A_B" "3WQB_A_B" "1SYQ_A_B" "2XPX_A_B" "2L29_A_B" "3TNF_A_B" "1TE1_A_B" "3DA7_A_D" "1M5N_S_Q" "4IKA_A_D" "1NF3_A_C" "4JEU_A_B" "2HQW_A_B" "2LFW_A_B" "4YJ4_A_B" "1J2J_A_B" "2L2L_A_B" "3TL8_A_B" "1A2K_C_AB" "4H3P_A_B" "2V6X_A_B" "3U9D_A_B" "2KWK_B_A" "1DJS_A_B" "4BRW_A_B" "5CZV_HL_A" "2VE7_A_C" "4RWY_HL_A" "2XHE_A_B" "3DI3_A_B" "2ES4_A_D" "2OMY_A_B" "5IOH_A_B" "3TU3_A_B" "1FAK_HL_T" "3GNI_A_B" "5XMH_DC_B" "3QLU_A_C" "3Q9U_A_C" "1GNG_A_X" "5K8Q_A_B" "4DH2_A_B" "4G6J_HL_A" "2HRK_A_B" "4PBV_A_C" "4HDO_A_B" "4EIG_A_B" "6AYZ_RC_M" "3P95_A_E" "4B1V_B_N" "2M5A_A_B" "3IDB_A_B" "6B08_CB_A" "3RGV_A_B" "3AU4_A_B" "4QRP_K_L" "3SKU_A_D" "1YD8_U_H" "3FPU_A_B" "3JZA_A_B" "5EE5_A_B" "1F51_AB_E" "5F4E_A_B" "3G7A_A_B" "4XL1_A_B" "4AP2_A_B" "3DVU_A_C" "1T63_A_B" "4JEH_A_B" "1Y34_E_I" "2C7M_A_B" "2LXM_A_B" "4DM8_A_C" "1XT9_A_B" "1IQD_AB_C" "4WNN_A_B" "2HD5_A_B" "3CX6_A_B" "1S1Q_A_B" "4L0P_A_B" "3EO1_AB_CF" "3U9D_A_B" "5C8J_AB_I" "5HI5_CD_A" "3FPU_A_B" "2JJS_A_C" "2MZD_A_B" "5B76_A_B" "3SJV_D_E" "2NZ8_A_B" "5SZI_A_B" "5IXD_A_B" "2V6X_A_B" "1FNS_HL_A" "2XPX_A_B" "2HRK_A_B" "5J57_A_B" "1I4D_D_AB" "1C9P_A_B" "5I9Q_BC_A" "4YOC_A_C" "3KBT_A_D" "2LXM_A_B" "4P5T_A_B" "4B1V_B_N" "1SYQ_A_B" "4M6B_A_C" "3BX1_A_C" "3EO1_AB_CF" "3OSL_A_B" "2XNS_B_D" "4TQ1_A_B")
chains1=("B" "B" "H,L" "A" "A" "I" "C" "B" "A" "B" "B" "C" "B" "A" "A" "A" "A" "A" "B" "A" "G" "A" "E" "D" "A" "I" "H,L" "H" "A" "M" "A" "A" "C" "A" "A" "B" "I" "A" "B" "A" "F,E" "B" "A" "A" "E" "B" "A" "A" "A" "B" "C,F" "A" "B" "A" "A" "C" "B" "C" "A" "B" "E" "C" "E" "A" "A" "A" "A" "B" "B" "A" "C" "A" "G" "E" "A" "A" "A" "A" "B" "A,B" "A" "B,A" "B" "B" "A" "O" "A" "Y" "A" "A" "B" "B" "B" "B" "A" "D" "S" "D" "A" "A" "B" "B" "A" "A" "B" "B" "A,B" "B" "A" "B" "A" "B" "A" "H,L" "A" "H,L" "B" "B" "A" "A" "A" "A" "H,L" "B" "D,C" "A" "C" "X" "A" "A" "H,L" "A" "A" "A" "A" "M" "A" "N" "B" "A" "C,B" "B" "B" "L" "D" "U" "A" "B" "A" "A,B" "B" "A" "A" "A" "A" "B" "A" "E" "A" "B" "A" "A" "A,B" "A" "B" "B" "B" "A" "A,B" "B" "I" "A" "A" "A" "B" "B" "E" "A" "A" "A" "B" "A" "A" "A" "B" "D" "B" "A" "C" "A" "B" "A" "N" "B" "A" "C" "C,F" "A" "D" "B")
chains2=("A" "A" "A" "B" "B" "E" "D" "A" "D" "A" "A" "A,B" "A" "C" "B" "B" "B" "B" "A" "B" "H,L" "B" "C,D" "A" "B" "H,F" "A" "L" "B" "R,C" "B" "B" "B,A" "E,D" "D" "A" "B" "B" "A" "B" "D" "A" "B" "B" "A" "A" "B" "B" "B" "A" "A,B" "I" "A" "B" "B" "A" "A" "A" "B" "A" "A" "A" "A" "B" "D" "B" "B" "A" "A" "B" "P,Q" "D" "H,L" "A" "B" "B" "B" "H,L" "A" "C" "B" "E" "A" "A" "G,L" "H,L" "B" "H,L" "B" "B" "A" "A" "A" "A" "B" "A" "Q" "A" "C" "B" "A" "A" "B" "B" "A" "A" "C" "A" "B" "A" "B" "A" "B" "A" "C" "A" "A" "A" "D" "B" "B" "B" "T" "A" "B" "C" "A" "A" "B" "B" "A" "B" "C" "B" "B" "R,C" "E" "B" "A" "B" "A" "A" "A" "K" "A" "H" "B" "A" "B" "E" "A" "B" "B" "B" "C" "A" "B" "I" "B" "A" "C" "B" "C" "B" "A" "A" "A" "B" "C,F" "A" "A,B" "C,D" "B" "C" "A" "A" "D" "B" "B" "B" "A" "H,L" "B" "B" "A" "A,B" "A" "B,C" "A" "D" "A" "B" "B" "A" "C" "A" "A,B" "B" "B" "A")
mut_res=("990B" "122B" "94L" "89A" "142A" "18I" "720C" "150B" "1792A" "73B" "19B" "684C" "17B" "50A" "627A" "296A" "8A" "289A" "135B" "37A" "277G" "208A" "233E" "35D" "102A" "206I" "93L" "150H" "165A" "7M" "17A" "74A" "506C" "73A" "148A" "726B" "54I" "92A" "392B" "52A" "103F" "119B" "54A" "267A" "37E" "182B" "250A" "237A" "71A" "8B" "619C" "226A" "73B" "75A" "37A" "389C" "69B" "1142C" "184A" "311B" "5E" "85C" "135E" "148A" "667A" "133A" "368A" "444B" "32B" "365A" "301C" "167A" "369G" "12E" "431A" "344A" "249A" "355A" "76B" "398A" "351A" "49A" "731B" "731B" "354A" "127O" "232A" "106Y" "102A" "199A" "615B" "78B" "53B" "428B" "158A" "35D" "354S" "11D" "53A" "280A" "887B" "32B" "108A" "77A" "238B" "342B" "123B" "722B" "44A" "22B" "331A" "89B" "298A" "92L" "1128A" "97H" "7B" "81B" "245A" "410A" "289A" "21A" "65L" "124B" "53D" "152A" "36C" "206X" "112A" "146A" "100H" "125A" "56A" "526A" "54A" "6M" "99A" "159N" "135B" "198A" "46B" "99B" "1432B" "190L" "90D" "8U" "9A" "432B" "156A" "45A" "81B" "21A" "418A" "244A" "78A" "927B" "331A" "126E" "62A" "170B" "263A" "78A" "32B" "35A" "71B" "447B" "8B" "157A" "102B" "18B" "24I" "74A" "54A" "30A" "11B" "20B" "157E" "67A" "8A" "235A" "225B" "664A" "98A" "133A" "100B" "67D" "31B" "455A" "760C" "1785A" "163B" "136A" "140N" "622B" "200A" "45C" "28C" "364A" "519D" "586B")

for i in {0..200}
do
    srun /PATH_TO_ROSETTA/source/bin/rosetta_scripts.default.linuxiccrelease -parser:protocol recovery.xml -ignore_unrecognized_res -out:file:score_only recover_leu.sc -s ${pdb_id[$i]}.pdb -parser:script_vars c1=${chains1[$i]} c2=${chains2[$i]} r=${mut_res[$i]} -out:no_nstruct_label -mute core.scoring.sc.ShapeIdentityCalculator -in:file:native ${pdb_id[$i]}.pdb -mute all
done
    
