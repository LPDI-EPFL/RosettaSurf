#!/bin/bash
#SBATCH --nodes 1
#SBATCH --ntasks-per-node 1
#SBATCH --cpus-per-task 1
#SBATCH --mem 8192
#SBATCH --time 48:00:00
#SBATCH --partition serial
#SBATCH --output=./gln.%A_%a.out
#SBATCH --error=./gln.%A_%a.err

pdb_id=("1TY4_A_C" "4ZI2_A_C" "1IRA_Y_X" "2KWO_B_A" "5B75_A_B" "2OOR_AB_C" "2I26_N_L" "1LW6_E_I" "2NQD_A_B" "2N1D_A_B" "2L0F_A_B" "4XNY_HL_G" "5VEB_AB_X" "3WKM_IM_B" "4I6L_A_B" "5FV2_X_A" "4JEU_A_B" "1JWH_CD_A" "6CH7_QR_G" "4YH7_A_B" "3L95_HL_Y" "1DE4_AB_CF" "5BK1_CD_B" "2NQD_A_B" "1JPS_HL_T" "3BSZ_NM_E" "4AL8_HL_C" "1IQD_AB_C" "1TM1_E_I" "3F50_A_B" "2K2S_A_B" "2C7N_A_B" "4FZA_A_B" "4KUC_FE_I" "3N06_A_B" "3P95_A_E" "4APF_A_B" "6B08_CB_A" "5CTR_A_C" "1ZVH_L_A" "4C7N_A_B" "2LD7_A_B" "3P71_T_C" "4TQ0_A_B" "2WJV_A_D" "3D5S_A_C" "4NSO_A_B" "3FPU_A_B" "2VSM_A_B" "3G7A_A_B" "5TH9_HL_A" "5SZH_A_B" "1DP5_A_B" "1Z0K_A_B" "5IJ9_A_B" "2KWI_A_B" "1VG0_A_B" "5UEA_HL_D" "1P6A_A_B" "3O2D_HL_A" "2CFH_A_C" "2G45_A_B" "1USV_A_B" "4HT1_HL_T" "5B77_A_B" "3IA3_A_D" "4ZQU_A_B" "1Y64_A_B" "5BK1_CD_B" "4RS1_B_A" "2LP0_A_B" "4YDK_HL_G" "5JG6_A_B" "3O43_A_B" "4IRZ_HL_A" "4CPA_A_I" "3RO2_A_B" "5VIG_AB_G" "2OMX_A_B" "4KSD_A_B" "3CX7_A_B" "3IDB_A_B" "3VG9_CB_A" "1C9T_A_G" "1IBR_A_B" "4YYP_A_B" "2OOR_AB_C" "3LBX_A_B" "1K4C_AB_C" "1DEE_A_B" "4YOC_A_C" "4RGN_FG_S" "4JPW_HL_G" "5VEB_AB_X" "3K9M_A_C" "4AWX_A_B" "4XL5_A_C" "1KAC_A_B" "2QC1_A_B" "2VSM_A_B" "3OHM_A_B" "2WO3_A_B" "4PLJ_DC_B" "5J28_A_C" "4CT0_A_B" "2OUL_A_B" "1XD3_A_B" "2P43_A_B" "4OL0_A_B" "3OUN_A_B" "4AL8_HL_C" "1R8S_A_E" "4CDK_A_E" "3DXD_A_B" "5T3Z_DE_G" "3P30_HL_A" "1IB1_AB_E" "2LXM_A_B" "6CMG_CB_A" "4EUK_A_B" "3FHC_A_B" "5LI1_A_B" "2HD5_A_B" "3G9W_A_D" "2N73_A_B" "1TAW_A_B" "3C4P_A_B" "1RLB_ABCD_E" "3BRV_A_B" "3CX7_A_B" "1U0S_Y_A" "3MJ7_A_B" "3IXE_A_B" "3R1G_HL_B" "3BZD_A_B" "5AGW_B_C" "2B10_A_B" "4Q6I_ED_J" "1A2K_C_AB" "4DID_A_B" "2CPK_E_I" "3F7P_A_C" "4S1R_HL_G" "4UF1_A_B" "4YBQ_FE_A" "4XTR_EF_A" "4HCP_A_B" "2GOX_A_B" "4DBG_A_B" "1T44_G_A" "5W06_HL_T" "5DFV_EF_B" "5UDC_EG_D" "1DP5_A_B" "1M5N_S_Q" "5BJZ_CL_A" "4IDJ_HL_A" "3SKU_A_D" "4XXB_A_B" "4UEM_A_B" "3TU3_A_B" "4YC7_A_B" "4BRW_A_B" "1ZR0_A_B" "3KLS_A_X" "2L29_A_B" "3MAC_HL_A" "3CX6_A_B" "1FC2_C_D" "2KWJ_B_A" "2LWW_A_B" "4DG4_A_E" "3MZW_A_B" "3O40_A_B" "4G6M_HL_A" "2A6D_L_H" "4YEB_A_B" "3U82_A_B" "4NSO_A_B" "4P5T_A_B" "6AQ7_HL_A" "3F50_A_B" "1VEU_A_B" "1ZMY_A_L" "3UKZ_B_C" "3CQG_A_B" "1GL0_E_I" "2LWW_A_B" "3G3A_A_B" "3O43_A_B" "4XHU_C_D" "1TMQ_A_B" "2J88_HL_A" "4W6W_A_B" "2V6X_A_B" "4ENE_EF_B" "5SZH_A_B" "2MUR_A_B" "4S1S_HL_G" "4ZRJ_A_B")
chains1=("A" "C" "X" "A" "B" "C" "L" "E" "B" "B" "B" "H,L" "X" "B" "B" "X" "B" "A" "G" "B" "Y" "A,B" "B" "B" "H,L" "E" "H,L" "C" "E" "B" "B" "A" "A" "I" "A" "A" "B" "A" "A" "A" "A" "A" "T" "B" "A" "C" "A" "B" "A" "A" "A" "B" "A" "B" "A" "B" "B" "H,L" "A" "A" "A" "B" "A" "H,L" "B" "A" "B" "B" "B" "A" "A" "H,L" "A" "A" "A" "I" "B" "G" "A" "B" "B" "A" "A" "A" "A" "B" "A,B" "A" "C" "A" "C" "S" "H,L" "A,B" "C" "A" "A" "B" "A" "A" "A" "B" "D,C" "A" "B" "A" "B" "A" "B" "B" "C" "E" "A" "A" "G" "A" "E" "A" "A" "A" "B" "B" "B" "A" "A" "A" "A" "E" "A" "A" "A" "B" "B" "B" "B" "B" "B" "J" "C" "B" "E" "C" "G" "B" "A" "A" "B" "B" "B" "G" "T" "B" "D" "A" "S" "A" "H,L" "D" "A" "B" "B" "B" "A" "A" "A" "A" "A" "A" "C" "B" "B" "A" "A" "B" "A" "L" "B" "B" "A" "A" "H,L" "A" "A" "L" "C" "A" "I" "A" "B" "B" "C" "A" "A" "B" "A" "B" "A" "B" "H,L" "A")
chains2=("C" "A" "Y" "B" "A" "A,B" "N" "I" "A" "A" "A" "G" "A,B" "I,M" "A" "A" "A" "C,D" "Q,R" "A" "H,L" "C,F" "C,D" "A" "T" "N,M" "C" "A,B" "I" "A" "A" "B" "B" "F,E" "B" "E" "A" "C,B" "C" "L" "B" "B" "C" "A" "D" "A" "B" "A" "B" "B" "H,L" "A" "B" "A" "B" "A" "A" "D" "B" "H,L" "C" "A" "B" "T" "A" "D" "A" "A" "C,D" "B" "B" "G" "B" "B" "H,L" "A" "A" "A,B" "B" "A" "A" "B" "C,B" "G" "B" "A" "C" "B" "A,B" "B" "A" "F,G" "G" "X" "A" "B" "C" "A" "B" "B" "B" "A" "B" "C" "A" "B" "A" "B" "A" "A" "H,L" "A" "E" "B" "D,E" "H,L" "A,B" "B" "C,B" "B" "A" "A" "A" "D" "B" "B" "B" "A,B,C,D" "B" "B" "Y" "A" "A" "H,L" "A" "C" "A" "E,D" "A,B" "A" "I" "A" "H,L" "A" "F,E" "E,F" "A" "A" "A" "A" "H,L" "E,F" "E,G" "B" "Q" "C,L" "A" "A" "B" "A" "A" "A" "B" "B" "X" "B" "H,L" "B" "D" "A" "A" "E" "B" "A" "H,L" "H" "A" "A" "B" "B" "A" "B" "B" "A" "B" "B" "E" "B" "A" "A" "D" "B" "H,L" "A" "B" "E,F" "B" "A" "G" "B")
mut_res=("137A" "80C" "36X" "297A" "5B" "61C" "57L" "103E" "21B" "232B" "686B" "61H" "540X" "253B" "49B" "22X" "119B" "36A" "328G" "68B" "1467Y" "64A" "152B" "19B" "55H" "156E" "27L" "2222C" "103E" "28B" "40B" "50A" "228A" "112I" "73A" "192A" "133B" "125A" "490A" "101A" "14A" "152A" "310T" "20B" "211A" "62C" "942A" "49B" "492A" "7A" "199A" "60B" "13A" "462B" "176A" "433B" "67B" "92L" "496A" "94A" "43A" "40B" "314A" "55H" "19B" "24A" "31B" "1428B" "49B" "99A" "66A" "93L" "70A" "194A" "152A" "25I" "1998B" "350G" "410A" "104B" "351B" "84A" "297A" "192A" "82A" "732B" "186B" "56A" "58C" "160A" "843C" "149S" "62H" "55B" "46C" "250A" "204A" "52B" "71A" "530A" "209A" "131B" "58D" "294A" "1185B" "19A" "40B" "69A" "107B" "231B" "316C" "158E" "100A" "651A" "428G" "658A" "27E" "18A" "559A" "799A" "254B" "11B" "49B" "384A" "52A" "192A" "100A" "98E" "730A" "226A" "190A" "46B" "40B" "332B" "208B" "118B" "16B" "33J" "69C" "80B" "84E" "1237C" "105G" "77B" "234A" "301A" "40B" "134B" "613B" "155G" "69T" "125B" "202D" "244A" "159S" "325A" "61H" "68D" "110A" "335B" "70B" "67B" "269A" "192A" "80A" "1569A" "34A" "169A" "129C" "5B" "479B" "192A" "505A" "25B" "48A" "124L" "112B" "76B" "852A" "104A" "97L" "7A" "59A" "57L" "14C" "902A" "33I" "355A" "57B" "25B" "846C" "140A" "147A" "871B" "15A" "381B" "670A" "149B" "62H" "178A")

for i in {0..200}
do
    srun /PATH_TO_ROSETTA/source/bin/rosetta_scripts.default.linuxiccrelease -parser:protocol recovery.xml -ignore_unrecognized_res -out:file:score_only recover_gln.sc -s ${pdb_id[$i]}.pdb -parser:script_vars c1=${chains1[$i]} c2=${chains2[$i]} r=${mut_res[$i]} -out:no_nstruct_label -mute core.scoring.sc.ShapeIdentityCalculator -in:file:native ${pdb_id[$i]}.pdb -mute all
done
    
