#!/bin/bash
#SBATCH --nodes 1
#SBATCH --ntasks-per-node 1
#SBATCH --cpus-per-task 1
#SBATCH --mem 8192
#SBATCH --time 48:00:00
#SBATCH --partition serial
#SBATCH --output=./gly.%A_%a.out
#SBATCH --error=./gly.%A_%a.err

pdb_id=("1TM1_E_I" "3KUC_A_B" "4EQA_A_C" "1F34_A_B" "4K1R_A_B" "1MHP_XY_B" "1AN1_E_I" "4DT1_A_B" "3MCA_A_B" "2NBV_A_B" "5T33_HL_G" "4PBZ_A_B" "1HCF_AB_X" "4IOS_D_H" "4AOR_A_D" "2XNS_B_D" "4AQE_A_B" "5C8J_AB_I" "2I3S_A_B" "2WWX_A_B" "5J3H_CD_E" "1LW6_E_I" "4YFL_FI_E" "1Y48_E_I" "4C9B_A_B" "4YPI_C_G" "2RA3_A_C" "4G6V_A_B" "6ATT_HL_A" "4C2A_A_B" "1Y4D_E_I" "3ZEU_D_E" "4HCN_A_B" "2HD5_A_B" "3UBX_HL_A" "4A1U_A_B" "4YWG_IM_Q" "4NZR_HL_M" "5BK2_CD_B" "3P57_IJ_P" "2FTL_E_I" "4UEM_A_B" "1F5R_A_I" "4XP4_HL_A" "3VV2_A_B" "4UDM_B_A" "3ZUV_A_B" "5SZH_A_B" "2SNI_E_I" "3U7Y_HL_G" "1Y33_E_I" "2ES4_A_D" "4YIZ_A_B" "4APX_A_B" "5LXQ_B_A" "2OMW_A_B" "4JEH_A_B" "1Y33_E_I" "5KVE_HL_E" "5D72_MN_B" "4LGR_A_B" "3I50_HL_E" "2OMU_A_B" "4F2M_CD_F" "4ML7_A_B" "2CMR_HL_A" "2MUR_A_B" "5UG0_DC_A" "5BN5_A_B" "2J7P_A_D" "4YPG_BA_C" "4E42_A_B" "3F7P_A_C" "4CNI_HL_C" "1ZA3_HL_R" "4TSC_HL_A" "1FE8_HL_A" "1GNG_A_X" "3OJ2_A_C" "5D1L_A_B" "2X9A_D_C" "5UCB_HL_B" "4YDK_HL_G" "4DOQ_A_B" "3U7Y_HL_G" "3IFQ_A_C" "2A6K_A_B" "4JLR_HL_S" "5F96_HL_G" "2SIC_E_I" "1RY7_A_B" "1OPH_A_B" "4LSP_HL_G" "3DI3_A_B" "5JHL_HL_A" "1OYV_B_I" "3WA5_A_B" "4BOH_B_A" "4JDT_HL_G" "4YDK_HL_G" "6B0A_HL_A" "1BRS_A_D" "5F3X_A_B" "5W5Z_HL_A" "3HMX_LH_AB" "3ZNZ_A_B" "3UJG_A_B" "3DGC_L_R" "4JE4_A_B" "4KFZ_A_C" "4P5T_A_B" "5JKE_A_B" "1YRU_A_B" "6B0E_BA_E" "4WWI_A_D" "2OMY_A_B" "5F96_HL_G" "4HT1_HL_T" "3CPH_G_A" "2RU4_A_B" "3E1Z_A_B" "4KA2_A_R" "2MRO_A_B" "1A2Y_BA_C" "4NZR_HL_M" "2HTH_A_B" "4AQE_A_B" "2MLZ_B_A" "4YL8_A_B" "3KJ1_A_B" "1HCF_AB_X" "4A1S_B_E" "3DI2_A_B" "5DOB_A_B" "2BYK_A_B" "4JPV_HL_G" "1TAW_A_B" "1CZ8_YX_V" "2TGP_Z_I" "5JMC_A_B" "5DO2_CD_B" "1P6A_A_B" "3CPH_G_A" "4RX4_HL_G" "5F96_HL_G" "5GGS_AB_Z" "2SNI_E_I" "4S1R_HL_G" "2KNB_A_B" "3M63_A_B" "4K0A_A_R" "4JPV_HL_G" "3CX7_A_B" "2G81_E_I" "1OP9_A_B" "3K2M_A_D" "4ZI2_A_C" "3K9M_A_C" "2LZ6_A_B" "4WEM_A_B" "3OUW_A_B" "1BGX_HL_T" "4I0C_A_D" "1NCB_HL_N" "4NIQ_A_C" "5W6D_HL_G" "2X9A_D_C" "4YN0_A_B" "4EDX_HL_V" "1Y3D_E_I" "3C4P_A_B" "3D85_BA_C" "4YIQ_A_B" "4TQ0_A_B" "2VLN_A_B" "2WD5_A_B" "3KJ0_A_B" "5IOH_A_B" "4NQW_A_B" "4MYW_A_B" "2Z7F_E_I" "3SE9_HL_G" "4BD9_A_B" "4LSP_HL_G" "3LB6_A_C" "4IU3_A_B" "5D96_JI_D" "3OPZ_JN_C" "3SKJ_IM_F" "4S1R_HL_G" "4TSB_HL_A" "2C1M_A_B" "4I77_HL_Z" "2NZ8_A_B" "4JLR_HL_S" "2VE7_A_C" "3D9A_HL_C" "1EGJ_HL_A" "1Z3G_IM_B" "1WQJ_B_I")
chains1=("E" "B" "C" "A" "B" "X,Y" "E" "B" "A" "A" "H,L" "A" "A,B" "D" "D" "B" "A" "I" "A" "A" "C,D" "I" "F,I" "E" "A" "G" "A" "A" "H,L" "A" "E" "D" "A" "B" "H,L" "A" "I,M" "M" "B" "P" "E" "B" "A" "A" "A" "A" "B" "B" "E" "G" "E" "D" "B" "A" "A" "A" "A" "E" "H,L" "M,N" "A" "E" "A" "F" "B" "A" "B" "A" "A" "D" "B,A" "A" "A" "H,L" "R" "A" "H,L" "A" "A" "A" "C" "B" "G" "A" "H,L" "A" "B" "H,L" "G" "E" "A" "B" "H,L" "B" "A" "B" "B" "A" "G" "G" "A" "D" "A" "A" "L,H" "B" "B" "R" "A" "A" "B" "B" "B" "B,A" "D" "B" "G" "H,L" "G" "B" "B" "A" "A" "B,A" "M" "A" "B" "B" "A" "A" "A,B" "B" "B" "A" "A" "G" "A" "V" "I" "A" "C,D" "B" "A" "H,L" "G" "Z" "I" "G" "A" "B" "A" "G" "B" "E" "B" "D" "A" "C" "B" "A" "B" "T" "A" "H,L" "A" "H,L" "D" "A" "H,L" "E" "A" "C" "A" "A" "B" "B" "B" "B" "A" "A" "E" "G" "A" "G" "A" "B" "J,I" "C" "I,M" "G" "H,L" "B" "Z" "A" "H,L" "A" "C" "H,L" "B" "B")
chains2=("I" "A" "A" "B" "A" "B" "I" "A" "B" "B" "G" "B" "X" "H" "A" "D" "B" "A,B" "B" "B" "E" "E" "E" "I" "B" "C" "C" "B" "A" "B" "I" "E" "B" "A" "A" "B" "Q" "H,L" "C,D" "I,J" "I" "A" "I" "H,L" "B" "B" "A" "A" "I" "H,L" "I" "A" "A" "B" "B" "B" "B" "I" "E" "B" "B" "H,L" "B" "C,D" "A" "H,L" "A" "D,C" "B" "A" "C" "B" "C" "C" "H,L" "H,L" "A" "X" "C" "B" "D" "H,L" "H,L" "B" "G" "C" "A" "S" "H,L" "I" "B" "A" "G" "A" "H,L" "I" "A" "B" "H,L" "H,L" "H,L" "A" "B" "H,L" "A,B" "A" "A" "L" "B" "C" "A" "A" "A" "E" "A" "A" "H,L" "T" "A" "A" "A" "R" "B" "C" "H,L" "B" "A" "A" "B" "B" "X" "E" "A" "B" "B" "H,L" "B" "Y,X" "Z" "B" "B" "A" "G" "G" "H,L" "A,B" "E" "H,L" "B" "A" "R" "H,L" "A" "I" "A" "A" "C" "A" "A" "B" "A" "H,L" "D" "N" "C" "G" "C" "B" "V" "I" "B" "B,A" "B" "B" "A" "A" "A" "A" "B" "B" "I" "H,L" "B" "H,L" "C" "A" "D" "J,N" "F" "H,L" "A" "A" "H,L" "B" "S" "C" "H,L" "A" "I,M" "I")
mut_res=("154E" "90B" "85C" "109A" "10B" "103X" "142E" "187B" "509A" "101A" "97H" "371A" "1A" "103D" "15D" "112B" "140A" "133I" "79A" "66A" "101C" "83I" "95I" "127E" "44A" "22G" "142A" "246A" "99L" "1324A" "100E" "80D" "157A" "10B" "50L" "138A" "98I" "186M" "69B" "6P" "216E" "317B" "193A" "512A" "138A" "30A" "113B" "-1B" "100E" "459G" "219E" "97D" "1271B" "140A" "557A" "411A" "270A" "128E" "96H" "95M" "158A" "78E" "412A" "529F" "98B" "207A" "147B" "228A" "226A" "233D" "93A" "40A" "155A" "30L" "26R" "22A" "30L" "262A" "67A" "82A" "42C" "7B" "124G" "193A" "54H" "413A" "44B" "31L" "366G" "128E" "35A" "216B" "55H" "83B" "102A" "219B" "98B" "456A" "472G" "473G" "19A" "31D" "104A" "40A" "104H" "75B" "387B" "61R" "67A" "61A" "104B" "80B" "98B" "29A" "402D" "-3B" "473G" "100H" "254G" "157B" "23B" "366A" "76A" "53B" "446M" "47A" "161B" "469B" "286A" "262A" "12A" "222B" "83B" "53A" "59A" "198G" "216A" "88V" "36I" "1292A" "54C" "53B" "54A" "55H" "429G" "90Z" "83I" "473G" "47A" "48B" "367A" "458G" "445B" "193E" "16B" "86D" "50A" "5C" "53B" "30A" "11B" "389T" "19A" "33H" "4A" "29L" "341D" "52A" "100H" "127E" "236A" "86C" "48A" "242A" "95B" "582B" "14B" "396B" "39A" "218A" "193E" "366G" "275A" "459G" "110A" "133B" "103J" "124C" "98I" "429G" "54H" "25B" "56Z" "60A" "93L" "159A" "616C" "55H" "72B" "31B")

for i in {0..200}
do
    srun /PATH_TO_ROSETTA/source/bin/rosetta_scripts.default.linuxiccrelease -parser:protocol recovery.xml -ignore_unrecognized_res -out:file:score_only recover_gly.sc -s ${pdb_id[$i]}.pdb -parser:script_vars c1=${chains1[$i]} c2=${chains2[$i]} r=${mut_res[$i]} -out:no_nstruct_label -mute core.scoring.sc.ShapeIdentityCalculator -in:file:native ${pdb_id[$i]}.pdb -mute all
done
    
