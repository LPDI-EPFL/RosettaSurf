#!/bin/bash
#SBATCH --nodes 1
#SBATCH --ntasks-per-node 1
#SBATCH --cpus-per-task 1
#SBATCH --mem 8192
#SBATCH --time 48:00:00
#SBATCH --partition serial
#SBATCH --output=./lys.%A_%a.out
#SBATCH --error=./lys.%A_%a.err

pdb_id=("3TSR_A_E" "5GGV_HL_Y" "1H9D_A_B" "3IDC_A_B" "1JK9_B_A" "5CUS_HL_A" "5TIH_HL_A" "1SHY_A_B" "3CX7_A_B" "2X89_F_G" "5EU7_EC_A" "4IKA_A_D" "5AAW_A_C" "3MJ7_A_B" "5D3I_A_B" "2VXQ_HL_A" "1LP1_A_B" "5UOE_PQ_C" "2J12_A_B" "3WO3_A_B" "2P45_A_B" "3CQC_A_B" "3FII_A_B" "5KW9_HL_A" "1AVZ_B_C" "2R56_HL_A" "2L0F_A_B" "4O9H_HL_A" "2M55_A_B" "5SZI_A_B" "2J7P_A_D" "4AYI_A_D" "4LLO_A_B" "4KDI_A_C" "4M1L_A_B" "5IKC_BA_M" "1SYQ_A_B" "1GP2_A_BG" "4JDT_HL_G" "1KKL_ABC_H" "4K5B_D_A" "4GAF_B_A" "3GNI_A_B" "1K93_A_D" "4IRZ_HL_A" "5BN5_A_B" "1DFJ_E_I" "1H0D_BA_C" "4P3Y_A_B" "2V5Q_A_D" "1NSN_HL_S" "2AQ3_A_B" "6AOD_BA_C" "4MSM_A_B" "2BYM_A_B" "3GJ5_A_B" "1WRD_A_B" "3S35_HL_X" "4PEQ_A_B" "1CBW_ABC_D" "3PNR_A_B" "4ZKC_A_B" "5SX5_HL_N" "2W81_A_D" "2HQW_A_B" "5DJT_A_B" "4HGM_B_A" "5LQB_HL_A" "4M5F_A_B" "4TSB_HL_A" "5DOB_A_B" "1FQ1_A_B" "2Y8S_A_B" "3V4Y_A_B" "2Z3Q_A_B" "5NMV_HL_K" "2NYY_DC_A" "1H0D_BA_C" "3UZ0_A_B" "3AJB_A_B" "2I3S_A_B" "3G6D_LH_A" "5D70_HL_A" "4Q96_D_E" "3QWO_AB_C" "4RWY_HL_A" "2ARJ_HL_Q" "5W5Z_HL_A" "4BOH_B_A" "3AJB_A_B" "4K1R_A_B" "3AU4_A_B" "2M0G_A_B" "3ZWZ_A_B" "1Z92_A_B" "4IU3_A_B" "5CUS_HL_A" "6B0E_BA_E" "3GNI_A_B" "3SGK_A_B" "4HCN_A_B" "4I77_HL_Z" "5VEB_AB_X" "2JJS_A_C" "3LEV_L_H" "3UZ0_A_B" "3ME2_A_R" "4U1G_BC_A" "3CX7_A_B" "1UJ3_BA_C" "2D10_A_E" "4BYF_C_D" "4EDX_HL_V" "4S1R_HL_G" "5FZT_A_B" "3IDC_A_B" "2MTA_HL_A" "5TUD_CB_A" "4CT0_A_B" "1EER_A_BC" "3AON_A_B" "2N73_A_B" "3UJG_A_B" "4DN4_LH_M" "1KAC_A_B" "4FFY_HL_A" "2R9P_A_E" "1M27_AB_C" "5D72_MN_B" "5IUS_A_C" "5J28_A_C" "4RT6_A_B" "4J4P_HL_A" "3NCB_A_B" "3ZJY_E_D" "1E4K_AB_C" "4JEU_A_B" "2X89_F_G" "4NM3_A_B" "1Y6K_L_R" "3H6G_A_B" "2B0Z_A_B" "5J28_A_C" "5B71_BA_E" "3VG9_CB_A" "4ZRP_A_C" "3LEV_L_H" "4YN0_A_B" "3AON_A_B" "1Z5Y_D_E" "5GLH_A_B" "3B9K_HL_B" "3FP6_E_I" "3OUX_A_B" "2FTL_E_I" "4UU9_AB_C" "2J7P_A_D" "1DP5_A_B" "2MLZ_B_A" "2Y5B_A_B" "3ULA_A_D" "3WKM_IM_B" "4EUK_A_B" "3R85_A_E" "3GB8_A_B" "3ZKQ_A_D" "3WKT_A_C" "2Q5D_A_C" "4EXP_A_X" "3BRV_A_B" "4RJF_A_B" "2LP0_A_B" "2AYO_A_B" "4DX8_A_J" "3UL0_B_C" "4ZKC_A_B" "4ZXB_CD_E" "2LP4_A_Y" "2AYO_A_B" "3G9W_A_D" "1SYX_A_B" "4YL8_A_B" "3UZQ_A_B" "2UZI_HL_R" "2OZA_B_A" "5UDC_EG_D" "5CTR_A_C" "1FY8_E_I" "3HTU_A_B" "4HCN_A_B" "2GTP_A_D" "3L9J_C_T" "3SOB_HL_B" "3C66_A_C" "1DJS_A_B" "3BLH_A_B" "5BOZ_A_G" "4V1D_DE_C" "1MXE_A_E" "1G9M_HL_G")
chains1=("A" "Y" "B" "A" "B" "A" "A" "A" "B" "F" "A" "A" "C" "B" "B" "A" "A" "C" "A" "A" "A" "B" "A" "H,L" "B" "H,L" "A" "A" "A" "A" "A" "A" "A" "C" "A" "B,A" "A" "B,G" "H,L" "H" "A" "B" "A" "A" "A" "B" "E" "C" "B" "A" "S" "A" "C" "B" "A" "A" "B" "X" "A" "D" "B" "B" "N" "D" "B" "A" "B" "A" "A" "A" "A" "A" "A" "B" "B" "K" "A" "B,A" "B" "B" "A" "A" "H,L" "D" "C" "A" "Q" "H,L" "A" "A" "B" "A" "B" "B" "A" "A" "A" "E" "A" "B" "B" "H,L" "X" "A" "H" "A" "A" "A" "A" "C" "E" "D" "V" "G" "B" "A" "A" "A" "A" "A" "A" "B" "B" "M" "A" "A" "E" "A,B" "M,N" "C" "A" "A" "A" "B" "D" "C" "B" "F" "A" "L" "A" "B" "C" "E" "A" "A" "H" "B" "A" "E" "A" "B" "E" "A" "I" "C" "D" "B" "B" "A" "D" "B" "A" "E" "A" "A" "A" "C" "A" "B" "B" "A" "B" "J" "C" "B" "C,D" "Y" "A" "A" "A" "A" "B" "H,L" "B" "D" "A" "I" "A" "B" "D" "T" "B" "A" "A" "B" "G" "C" "E" "G")
chains2=("E" "H,L" "A" "B" "A" "H,L" "H,L" "B" "A" "G" "E,C" "D" "A" "A" "A" "H,L" "B" "P,Q" "B" "B" "B" "A" "B" "A" "C" "A" "B" "H,L" "B" "B" "D" "D" "B" "A" "B" "M" "B" "A" "G" "A,B,C" "D" "A" "B" "D" "H,L" "A" "I" "B,A" "A" "D" "H,L" "B" "B,A" "A" "B" "B" "A" "H,L" "B" "A,B,C" "A" "A" "H,L" "A" "A" "B" "A" "H,L" "B" "H,L" "B" "B" "B" "A" "A" "H,L" "D,C" "C" "A" "A" "B" "L,H" "A" "E" "A,B" "H,L" "H,L" "A" "B" "B" "A" "B" "A" "A" "B" "B" "H,L" "B,A" "B" "A" "A" "Z" "A,B" "C" "L" "B" "R" "B,C" "B" "B,A" "A" "C" "H,L" "H,L" "A" "B" "H,L" "C,B" "B" "B,C" "B" "A" "A" "L,H" "B" "H,L" "A" "C" "B" "A" "C" "B" "H,L" "A" "E" "A,B" "A" "G" "B" "R" "B" "A" "A" "B,A" "C,B" "C" "L" "A" "B" "D" "B" "H,L" "I" "B" "E" "A,B" "A" "A" "A" "B" "A" "I,M" "B" "A" "B" "D" "C" "A" "X" "A" "A" "B" "A" "A" "B" "A" "E" "A" "B" "D" "B" "B" "A" "R" "A" "E,G" "C" "E" "B" "A" "A" "C" "H,L" "C" "B" "A" "A" "D,E" "A" "H,L")
mut_res=("32A" "1Y" "28B" "213A" "136B" "337A" "66A" "516A" "480B" "91F" "186A" "315A" "305C" "104B" "212B" "75A" "28A" "303C" "202A" "93A" "61A" "975B" "146A" "35L" "82B" "57H" "6A" "27A" "75A" "3A" "246A" "405A" "709A" "4C" "76A" "100B" "35A" "89B" "62H" "40H" "144A" "12B" "301A" "665A" "208A" "329B" "66E" "40C" "49B" "143A" "97S" "66A" "509C" "11B" "48A" "12A" "48B" "266X" "31A" "15D" "256B" "49B" "443N" "107D" "877B" "544A" "233B" "63A" "171A" "116A" "60A" "54A" "200A" "175B" "36B" "20K" "903A" "91A" "105B" "33B" "317A" "104A" "31L" "101D" "9C" "460A" "84Q" "59H" "532A" "324A" "11B" "2031A" "462B" "2027B" "64A" "103A" "299A" "24E" "96A" "370B" "6B" "56H" "543X" "53A" "129H" "190A" "247A" "196A" "94A" "766C" "351E" "95D" "50V" "282G" "477B" "83A" "74A" "211A" "379A" "154A" "151A" "162B" "491B" "49M" "451A" "343A" "15E" "79A" "51N" "124C" "297A" "787A" "391A" "136B" "38D" "158C" "2B" "94F" "271A" "34L" "169A" "73B" "535C" "109E" "227A" "105A" "143H" "354B" "63A" "106E" "346A" "27B" "97E" "335A" "15I" "14C" "256D" "24B" "415B" "475A" "91D" "276B" "787A" "167E" "537A" "79A" "519A" "54C" "187A" "96B" "141B" "19A" "48B" "187J" "17C" "46B" "59C" "126Y" "299A" "327A" "125A" "296A" "310B" "56H" "118B" "209D" "529A" "15I" "174A" "33B" "171D" "65T" "202B" "478A" "164A" "6B" "100G" "8C" "302E" "421G")

for i in {0..200}
do
    srun /PATH_TO_ROSETTA/source/bin/rosetta_scripts.default.linuxiccrelease -parser:protocol recovery.xml -ignore_unrecognized_res -out:file:score_only recover_lys.sc -s ${pdb_id[$i]}.pdb -parser:script_vars c1=${chains1[$i]} c2=${chains2[$i]} r=${mut_res[$i]} -out:no_nstruct_label -mute core.scoring.sc.ShapeIdentityCalculator -in:file:native ${pdb_id[$i]}.pdb -mute all
done
    
