#!/bin/bash
#SBATCH --nodes 1
#SBATCH --ntasks-per-node 1
#SBATCH --cpus-per-task 1
#SBATCH --mem 8192
#SBATCH --time 48:00:00
#SBATCH --partition serial
#SBATCH --output=./cys.%A_%a.out
#SBATCH --error=./cys.%A_%a.err

pdb_id=("3RGF_A_B" "1OP9_A_B" "1OPH_A_B" "4AOQ_A_D" "4DOQ_A_B" "1F34_A_B" "2K2S_A_B" "5BV7_HL_A" "1C9P_A_B" "3GJ4_A_B" "4OJK_A_C" "1CGI_E_I" "3SJV_D_E" "4U30_A_X" "3SGB_E_I" "1M1E_A_B" "6BDZ_HL_A" "4RWS_A_C" "2LP0_A_B" "3L33_A_E" "2DD8_H_L" "5UDC_EG_D" "5O4G_BA_C" "4UT9_JN_D" "3P57_IJ_P" "1PVH_A_B" "4REY_A_B" "1TMQ_A_B" "3NPS_BC_A" "4KA2_A_R" "1LDT_T_L" "2V3B_A_B" "3N06_A_B" "2VER_A_N" "2R9P_A_E" "1HIA_AB_I" "1G9M_HL_G" "4X33_A_B" "1TAW_A_B" "1I4E_A_B" "3KNB_A_B" "4J2Y_A_B" "1O9A_A_B" "4I77_HL_Z" "3UL4_A_B" "4KFZ_A_C" "3PVM_A_B" "1YC0_A_I" "3ZYJ_A_B" "3GJ7_A_B" "1I9R_HL_ABC" "6ATT_HL_A" "3RDZ_A_C" "3RO2_A_B" "1UUZ_A_D" "2ONL_A_C" "2X89_F_G" "3G6J_E_F" "3BRT_A_B" "1ZLI_A_B" "1F34_A_B" "5FR2_A_B" "3V96_A_B" "4U4C_A_B" "1JZD_AB_C" "3GB8_A_B" "5HPK_A_B" "2MEJ_A_B" "4GI3_A_C" "2VLP_A_B" "4PQT_A_B" "2SIC_E_I" "1FY8_E_I" "3RAJ_HL_A" "2G81_E_I" "1YC0_A_I" "3FXD_A_B" "5FR1_A_B" "2XA0_A_C" "6CMG_CB_A" "3NCC_A_B" "2N73_A_B" "1I2M_A_B" "1AVX_A_B" "5IJ9_A_B" "3IFQ_A_C" "2DD8_H_L" "5TUD_CB_A" "2MZD_A_B" "1PJM_A_B" "2QUR_A_B" "4UU9_AB_C" "4XXB_A_B" "4CMH_BC_A" "5FCU_HL_G" "4ZK9_A_B" "1RI8_A_B" "3SJV_D_E" "1CGI_E_I" "5DMJ_A_B" "4AN7_A_B" "2Y8T_A_B" "4JEH_A_B" "4H3P_A_B" "1M1E_A_B" "4MWF_HL_C" "1FMO_E_I" "4M0W_A_B" "3UIR_A_C" "5O4G_BA_C" "3MZG_A_B" "4ZKC_A_B" "2HD5_A_B" "3MZG_A_B" "3BN9_FE_A" "1R0R_E_I" "4ZFG_HL_A" "4Z80_A_C" "3V96_A_B" "3K9M_A_C" "4UDM_B_A" "1HIA_AB_I" "3SGQ_E_I" "1UUZ_A_D" "2LQH_A_B" "1ZR0_A_B" "2NYZ_AB_D" "3TGK_E_I" "1ZJD_A_B" "1AN1_E_I" "6AOD_BA_C" "1XT9_A_B" "1FY8_E_I" "1OPH_A_B" "1NW9_B_A" "2UUY_A_B" "1OP9_A_B" "2HLE_A_B" "4A94_A_D" "2ARP_A_F" "2PTC_E_I" "1AN1_E_I" "1SMF_E_I" "4DX8_A_J" "4RWS_A_C" "2VE7_A_C" "3SF4_A_D" "5GLH_A_B" "1CBW_ABC_D" "4DG4_A_E" "2J0T_A_D" "2NZ1_X_Y" "2DSP_B_I" "5HVF_A_B" "3AAA_AB_C" "2B10_A_B" "4TNW_IO_D" "1XQS_A_C" "4Q96_D_E" "4WFF_ED_A" "3FP6_E_I" "5IMT_A_D" "3EGG_A_C" "4Z80_A_C" "3RAJ_HL_A" "5CTR_A_C" "4C5G_A_B" "3QUM_KM_Q" "2AW2_A_B" "2UUY_A_B" "4U32_X_A" "2P4A_A_B" "3DXC_A_B" "2Z7F_E_I" "3UIR_A_C" "2P44_A_B" "1Z5Y_D_E" "2Z7F_E_I" "2I9B_E_A" "4PEQ_A_B" "4RWS_A_C" "3FPU_A_B" "1OB1_BA_C" "3GQI_A_B" "4A49_A_B" "3DXD_A_B" "3GXU_A_B" "2G81_E_I" "3NCC_A_B" "3WA0_A_G" "1ID5_H_L" "2V3B_A_B" "1HIA_AB_I" "1C9T_A_G" "4GIQ_A_R" "2WP3_T_O" "3BK3_A_C" "2KT5_A_B" "2AW2_A_B" "2WO3_A_B")
chains1=("B" "B" "B" "A" "B" "B" "B" "H,L" "A" "B" "C" "E" "D" "A" "E" "A" "A" "A" "A" "A" "H" "D" "C" "D" "P" "B" "A" "B" "A" "R" "T" "B" "A" "N" "E" "I" "G" "A" "A" "A" "A" "B" "A" "Z" "B" "A" "A" "I" "A" "B" "A,B,C" "A" "A" "B" "A" "A" "G" "E" "A" "B" "B" "A" "A" "A" "A,B" "A" "A" "B" "C" "A" "A" "I" "E" "A" "E" "A" "B" "A" "C" "A" "A" "B" "B" "A" "B" "A" "L" "A" "A" "A" "A" "C" "A" "A" "G" "B" "A" "E" "E" "A" "A" "B" "A" "A" "A" "C" "E" "A" "C" "C" "A" "B" "A" "A" "A" "I" "A" "A" "A" "A" "A" "A,B" "E" "A" "B" "A" "D" "E" "A" "E" "C" "A" "I" "B" "A" "A" "B" "A" "D" "F" "E" "I" "I" "A" "C" "A" "D" "B" "A,B,C" "E" "D" "Y" "I" "A" "C" "B" "D" "A" "D" "A" "E" "D" "A" "A" "A" "A" "A" "Q" "B" "B" "X" "A" "A" "E" "A" "A" "E" "I" "A" "A" "A" "B" "C" "B" "A" "A" "A" "E" "A" "A" "L" "B" "A,B" "A" "R" "O" "C" "B" "B" "A")
chains2=("A" "A" "A" "D" "A" "A" "A" "A" "B" "A" "A" "I" "E" "X" "I" "B" "H,L" "C" "B" "E" "L" "E,G" "B,A" "J,N" "I,J" "A" "B" "A" "B,C" "A" "L" "A" "B" "A" "A" "A,B" "H,L" "B" "B" "B" "B" "A" "B" "H,L" "A" "C" "B" "A" "B" "A" "H,L" "H,L" "C" "A" "D" "C" "F" "F" "B" "A" "A" "B" "B" "B" "C" "B" "B" "A" "A" "B" "B" "E" "I" "H,L" "I" "I" "A" "B" "A" "C,B" "B" "A" "A" "B" "A" "C" "H" "C,B" "B" "B" "B" "A,B" "B" "B,C" "H,L" "A" "B" "D" "I" "B" "B" "A" "B" "B" "B" "H,L" "I" "B" "A" "B,A" "B" "A" "B" "B" "F,E" "E" "H,L" "C" "B" "C" "B" "I" "I" "D" "A" "B" "A,B" "I" "B" "I" "B,A" "B" "E" "A" "B" "B" "A" "B" "A" "A" "I" "E" "E" "J" "A" "C" "A" "A" "D" "A" "A" "X" "B" "B" "A,B" "A" "I,O" "C" "E" "E,D" "I" "A" "C" "C" "H,L" "C" "B" "K,M" "A" "A" "A" "B" "B" "I" "C" "B" "D" "E" "E" "B" "C" "A" "B,A" "A" "B" "B" "B" "I" "B" "G" "H" "A" "I" "G" "A" "T" "A" "A" "A" "B")
mut_res=("149B" "77B" "191B" "64A" "71B" "79B" "36B" "109H" "58A" "812B" "76C" "58E" "171D" "191A" "58E" "429A" "479A" "274A" "22A" "58A" "216H" "69D" "170C" "74D" "68P" "18B" "103A" "557B" "220A" "10R" "191T" "9B" "191A" "39N" "38E" "48I" "205G" "50A" "42A" "2A" "27A" "42B" "104A" "29Z" "52B" "80A" "883A" "283I" "327A" "730B" "178A" "202A" "43A" "1997B" "64A" "162A" "80G" "214E" "716A" "10B" "146B" "190A" "3A" "1014A" "98A" "623A" "682A" "182B" "48C" "23A" "317A" "101I" "58E" "254A" "58E" "594A" "48B" "190A" "62C" "240A" "199A" "164B" "93B" "58A" "129B" "420A" "213L" "128A" "74A" "859A" "199A" "27C" "25A" "201A" "54G" "52B" "105A" "182E" "191E" "119A" "191A" "1323B" "45A" "161A" "619A" "503C" "199E" "271A" "40C" "173C" "191A" "11B" "223A" "199A" "220A" "16I" "450A" "317A" "99A" "26A" "48A" "191B" "58E" "59A" "139B" "191A" "48D" "42E" "191A" "191E" "553C" "163A" "38I" "58B" "327A" "61A" "95B" "184A" "38D" "196F" "42E" "6I" "9I" "143A" "12C" "137A" "41D" "3B" "58B" "14E" "3D" "52Y" "52I" "69A" "45C" "17B" "191D" "214A" "100D" "78A" "42E" "45D" "291A" "283A" "275A" "537A" "637A" "157Q" "29B" "38B" "14X" "110A" "654A" "58E" "737A" "110A" "80E" "97I" "11A" "65A" "186A" "51B" "12C" "646B" "404A" "654A" "163A" "191E" "191A" "300A" "1L" "42B" "42A" "58A" "97R" "13O" "29C" "115B" "37B" "191A")

for i in {0..200}
do
    srun /PATH_TO_ROSETTA/source/bin/rosetta_scripts.default.linuxiccrelease -parser:protocol recovery.xml -ignore_unrecognized_res -out:file:score_only recover_cys.sc -s ${pdb_id[$i]}.pdb -parser:script_vars c1=${chains1[$i]} c2=${chains2[$i]} r=${mut_res[$i]} -out:no_nstruct_label -mute core.scoring.sc.ShapeIdentityCalculator -in:file:native ${pdb_id[$i]}.pdb -mute all
done
    
