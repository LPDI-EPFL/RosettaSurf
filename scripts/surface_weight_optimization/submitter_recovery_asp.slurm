#!/bin/bash
#SBATCH --nodes 1
#SBATCH --ntasks-per-node 1
#SBATCH --cpus-per-task 1
#SBATCH --mem 8192
#SBATCH --time 48:00:00
#SBATCH --partition serial
#SBATCH --output=./asp.%A_%a.out
#SBATCH --error=./asp.%A_%a.err

pdb_id=("3UZ0_A_B" "4XP4_HL_A" "1WPX_A_B" "2MRE_A_B" "4EDX_HL_V" "1IB1_AB_E" "5F9O_HL_G" "5OCC_HL_A" "5W08_OP_E" "4RGN_FG_S" "2OUL_A_B" "5W0K_HL_A" "4F15_HI_G" "2M04_A_B" "5VYF_HL_F" "2P8Q_A_B" "3TT1_HL_B" "5IP4_A_E" "5DFW_A_H" "2ASS_A_B" "5F9W_HL_G" "1HE1_C_A" "2ZCH_HL_P" "4DT1_A_B" "1NDM_BA_C" "3QML_A_C" "1E6E_A_B" "2GNG_A_I" "5VEB_AB_X" "6BIT_JL_G" "2PMS_A_C" "3QWO_AB_C" "1JTD_B_A" "3OUX_A_B" "4FFY_HL_A" "4HDO_A_B" "4HKX_AB_E" "4HEP_A_G" "1B6C_A_B" "1KXV_A_C" "5EN2_AB_C" "1BVK_DE_F" "2SIC_E_I" "1WQJ_B_I" "4IYP_A_C" "1FQJ_A_B" "1PJN_A_B" "4C5G_A_B" "2L0F_A_B" "1OPH_A_B" "3D1M_A_D" "4O9H_HL_A" "1F6M_A_C" "2DD8_H_L" "4TQ0_A_B" "4HGK_A_D" "3HMX_LH_AB" "1NDG_BA_C" "4ZII_A_C" "5MES_HL_A" "5D7L_A_B" "2I9B_E_A" "3HO5_B_H" "5GZO_HL_A" "1Y6K_L_R" "2VLN_A_B" "4UEM_A_B" "3UX9_A_B" "4WND_A_B" "2YC1_AB_C" "3D85_BA_C" "2Z8W_A_D" "3G6D_LH_A" "4KT3_A_B" "5AJJ_A_B" "2ARJ_HL_Q" "1A22_A_B" "4RWY_HL_A" "5XJ4_HL_A" "4RGM_HL_S" "3PGF_HL_A" "4QRP_K_L" "3SGK_A_B" "2WWX_A_B" "2X9A_D_C" "4EKC_A_B" "3RBB_A_B" "5O4G_BA_C" "1EER_A_BC" "5IUS_A_C" "1EER_A_BC" "4GXU_MN_ABEFCD" "1RJC_A_B" "1BVK_DE_F" "5VIG_AB_G" "5XHV_PQ_A" "1P69_A_B" "5OCC_HL_A" "2VXT_HL_I" "4RWS_A_C" "2VOG_A_B" "3QLU_A_C" "3RZW_D_A" "1YC0_A_I" "1EGJ_HL_A" "1ZTX_HL_E" "1ZM4_A_B" "5SV3_A_B" "4YDI_HL_G" "5BJZ_CL_A" "4RT6_A_B" "4BRU_A_B" "2GAF_D_A" "4CC4_A_B" "1J7V_L_R" "4DBG_A_B" "1BKD_R_S" "4AQE_A_B" "5LXQ_B_A" "2Z58_A_B" "5VLP_HL_A" "3WWN_A_B" "5F3B_AB_C" "5B77_A_B" "5DCQ_C_F" "4MXV_FE_B" "4V0O_F_E" "2OT8_A_C" "4YN0_A_B" "4CVW_A_C" "4YEB_A_B" "4MI8_A_C" "3ME2_A_R" "1WDW_BD_A" "3TSR_A_E" "5FR2_A_B" "4Y61_A_B" "4YDI_HL_G" "5EO9_A_B" "4RJF_A_B" "2WO2_A_B" "1MLC_AB_E" "1FMO_E_I" "4D9Q_ED_B" "5FR1_A_B" "1K93_A_D" "3KBT_A_D" "4EDX_HL_V" "4G6V_A_B" "4KA2_A_R" "2B4J_AB_C" "4XLW_A_B" "5UTZ_JK_I" "4MRT_C_A" "3WDG_A_B" "3KLS_A_X" "3GXU_A_B" "1M1E_A_B" "5YY5_HL_A" "1IQD_AB_C" "4XNQ_BA_D" "4XXB_A_B" "4PJ2_A_D" "5D5M_A_B" "5BV7_HL_A" "6BPE_EF_D" "3VI4_FE_B" "4RWS_A_C" "4HCN_A_B" "3U82_A_B" "3PVM_A_B" "4XP4_HL_A" "2MLX_B_A" "5ET1_A_C" "6BPA_BC_A" "2B7C_A_B" "4GN5_A_D" "4YOC_A_C" "2M0J_A_B" "4HEP_A_G" "2XWT_AB_C" "1F7Z_A_I" "1SMF_E_I" "4IJ3_CB_A" "3OUW_A_B" "2XTJ_DB_A" "2MLZ_B_A" "1EJA_A_B" "3K6G_A_D" "4IU3_A_B" "4XVT_HL_G" "2BQZ_A_B" "3RDZ_A_C" "3V4Y_A_B" "4DXA_A_B" "3TAC_A_B" "4RT6_A_B" "4DH2_A_B" "5LI1_A_B" "2HD5_A_B")
chains1=("A" "A" "B" "B" "H,L" "A,B" "G" "A" "E" "S" "A" "A" "H,I" "B" "H,L" "A" "H,L" "E" "A" "A" "G" "C" "H,L" "A" "C" "C" "A" "A" "X" "J,L" "C" "C" "A" "B" "H,L" "A" "A,B" "A" "A" "C" "A,B" "F" "E" "I" "C" "B" "B" "A" "B" "A" "D" "A" "A" "H" "A" "D" "A,B" "B,A" "A" "A" "B" "E" "B" "H,L" "L" "A" "B" "A" "B" "A,B" "B,A" "D" "L,H" "B" "A" "H,L" "A" "A" "A" "S" "A" "K" "B" "A" "C" "A" "A" "B,A" "A" "C" "B,C" "A,B,E,F,C,D" "A" "D,E" "G" "P,Q" "B" "H,L" "I" "C" "A" "C" "A" "A" "H,L" "H,L" "B" "A" "G" "A" "A" "A" "D" "A" "L" "A" "R" "A" "A" "A" "H,L" "B" "C" "A" "F" "B" "E" "A" "A" "A" "B" "A" "R" "A" "E" "B" "A" "G" "A" "A" "B" "A,B" "E" "B" "B" "D" "D" "V" "B" "A" "C" "A" "I" "A" "B" "X" "A" "B" "H,L" "A,B" "B,A" "A" "A" "A" "A" "E,F" "B" "A" "A" "A" "A" "A" "A" "C" "B,C" "A" "D" "C" "A" "A" "C" "A" "E" "C,B" "B" "A" "B" "A" "D" "B" "H,L" "A" "C" "A" "A" "A" "A" "A" "A" "A")
chains2=("B" "H,L" "A" "A" "V" "E" "H,L" "H,L" "O,P" "F,G" "B" "H,L" "G" "A" "F" "B" "B" "A" "H" "B" "H,L" "A" "P" "B" "B,A" "A" "B" "I" "A,B" "G" "A" "A,B" "B" "A" "A" "B" "E" "G" "B" "A" "C" "D,E" "I" "B" "A" "A" "A" "B" "A" "B" "A" "H,L" "C" "L" "B" "A" "L,H" "C" "C" "H,L" "A" "A" "H" "A" "R" "B" "A" "B" "A" "C" "C" "A" "A" "A" "B" "Q" "B" "H,L" "H,L" "H,L" "H,L" "L" "A" "B" "D" "B" "B" "C" "B,C" "A" "A" "M,N" "B" "F" "A,B" "A" "A" "A" "H,L" "A" "B" "A" "D" "I" "A" "E" "A" "B" "H,L" "C,L" "B" "B" "A" "B" "R" "B" "S" "B" "B" "B" "A" "A" "A,B" "B" "C" "F,E" "F" "C" "B" "C" "A" "C" "A" "B,D" "A" "A" "B" "H,L" "B" "B" "A" "E" "I" "E,D" "A" "A" "A" "H,L" "A" "R" "A,B" "B" "J,K" "C" "A" "A" "B" "A" "A" "C" "D" "B" "D" "B" "H,L" "D" "F,E" "C" "B" "B" "B" "H,L" "B" "A" "A" "B" "A" "A" "B" "G" "A,B" "I" "I" "A" "A" "D,B" "A" "B" "A" "A" "G" "B" "A" "B" "B" "B" "B" "B" "B" "B")
mut_res=("209A" "509A" "513B" "203B" "54H" "213A" "457G" "157A" "190E" "127S" "153A" "502A" "61H" "85B" "59H" "719A" "32L" "294E" "138A" "1144A" "368G" "63C" "28L" "197A" "701C" "388C" "382A" "166A" "572X" "31J" "237C" "7C" "271A" "12B" "94L" "428A" "95B" "20A" "37A" "61C" "54A" "119F" "99E" "12I" "148C" "399B" "280B" "656A" "709B" "280A" "872D" "26A" "139A" "101H" "10A" "113D" "41A" "332B" "84A" "313A" "34B" "254E" "377B" "32L" "28L" "62A" "287B" "32A" "1009B" "57A" "101B" "33D" "49L" "154B" "118A" "54H" "171A" "474A" "61A" "29S" "95A" "138K" "399B" "31A" "25C" "243A" "90A" "104B" "8A" "26C" "61B" "190A" "52A" "54E" "336G" "103P" "56B" "34L" "178I" "9C" "58A" "109C" "77A" "429A" "96H" "100H" "484B" "59A" "368G" "95A" "551A" "305A" "260D" "83A" "44L" "63A" "69R" "15A" "558A" "246A" "108H" "51B" "30C" "282A" "145F" "56B" "107E" "543A" "68A" "730A" "46B" "70A" "124R" "43A" "32E" "45B" "287A" "461G" "126A" "122A" "107B" "100B" "241E" "164B" "45B" "93D" "920D" "24V" "73B" "474A" "366C" "469A" "84I" "40A" "59B" "147X" "33A" "66B" "53H" "97B" "103B" "129A" "76A" "235A" "343A" "50E" "120B" "97A" "108A" "215A" "580A" "599A" "380A" "1264C" "50B" "91A" "48D" "758C" "80A" "21A" "203C" "194A" "194E" "98C" "12B" "238A" "391B" "194A" "309D" "219B" "106H" "338A" "46C" "154A" "38A" "260A" "738A" "94A" "295A" "349A")

for i in {0..200}
do
    srun /PATH_TO_ROSETTA/source/bin/rosetta_scripts.default.linuxiccrelease -parser:protocol recovery.xml -ignore_unrecognized_res -out:file:score_only recover_asp.sc -s ${pdb_id[$i]}.pdb -parser:script_vars c1=${chains1[$i]} c2=${chains2[$i]} r=${mut_res[$i]} -out:no_nstruct_label -mute core.scoring.sc.ShapeIdentityCalculator -in:file:native ${pdb_id[$i]}.pdb -mute all
done
    
