#!/bin/bash
#SBATCH --nodes 1
#SBATCH --ntasks-per-node 1
#SBATCH --cpus-per-task 1
#SBATCH --mem 8192
#SBATCH --time 48:00:00
#SBATCH --partition serial
#SBATCH --output=./arg.%A_%a.out
#SBATCH --error=./arg.%A_%a.err

pdb_id=("3OUW_A_B" "1L4Z_A_B" "3MXW_LH_A" "3QC8_A_B" "4S1S_HL_G" "3O34_A_B" "5JZ7_CD_A" "1K4C_AB_C" "3DVU_A_C" "3FN1_B_A" "4RS1_B_A" "3AON_A_B" "4C7N_A_B" "4ZKC_A_B" "1JIW_P_I" "4XTR_EF_A" "2C7N_A_B" "1FBI_HL_X" "4MRT_C_A" "4DBG_A_B" "3Q3G_HF_I" "6CK9_DE_B" "5VCN_FE_A" "3QC8_A_B" "2OMU_A_B" "1AVA_A_C" "1EXB_ABDC_EGFH" "1SQ0_A_B" "1TQB_BC_A" "3ZJY_E_D" "2KT5_A_B" "2B2X_HL_A" "3O43_A_B" "3WN7_A_B" "4C7N_A_B" "1H1V_A_G" "1DHK_A_B" "2KXW_A_B" "4EQA_A_C" "3N4I_A_B" "4CJ2_B_C" "3RGF_A_B" "4UWX_A_C" "2WPT_A_B" "3TU3_A_B" "2MUR_A_B" "3D7U_A_B" "2MRE_A_B" "2M0G_A_B" "2G45_A_B" "3KR3_HL_D" "3EAB_A_G" "2P8Q_A_B" "1XQS_A_C" "2M04_A_B" "1AVZ_B_C" "1UUG_A_B" "4GN4_B_A" "3L9J_C_T" "2JGZ_A_B" "5ANM_BA_G" "5OCC_HL_A" "4P3Y_A_B" "4U4C_A_B" "4HX3_BD_A" "4AYE_A_D" "2Y5B_A_B" "1L4D_A_B" "5BNQ_A_R" "3H2U_A_B" "5D5M_A_B" "1LZW_A_B" "3P71_T_C" "2XA0_A_C" "4EHQ_A_G" "1AKJ_AB_DE" "4WND_A_B" "4B1Y_B_M" "2VH5_HL_R" "5EU7_EC_A" "3WO3_A_B" "4UWX_A_C" "3RBB_A_B" "5W0D_BC_A" "3K1R_A_B" "4CVW_A_C" "5CXB_A_B" "1ZHH_A_B" "4YC7_A_B" "3RO2_A_B" "4YJ4_A_B" "2UYZ_A_B" "5DUP_HL_A" "1IBR_A_B" "1IB1_AB_E" "3V4Y_A_B" "2MLZ_B_A" "1O9A_A_B" "4K81_A_B" "1YRU_A_B" "3KJ2_A_B" "1K93_A_D" "4ZQU_A_B" "2P45_A_B" "1E6E_A_B" "3WKT_A_C" "3MZG_A_B" "2Y8S_A_B" "5LXQ_B_A" "4DTG_HL_K" "1FLE_E_I" "5JSB_A_B" "4APX_A_B" "1E96_A_B" "4OFY_A_D" "2ONL_A_C" "1OSP_HL_O" "3AON_A_B" "3LAQ_A_U" "4PAS_A_B" "4RT6_A_B" "3U82_A_B" "4ZV4_A_C" "1FC2_C_D" "5BN5_A_B" "1X1U_A_D" "4WV1_BA_C" "4V0M_F_E" "3C66_A_C" "3H3G_A_B" "5BN5_A_B" "5GMQ_BC_A" "4U97_A_B" "2LZ6_A_B" "1I4E_A_B" "4IOP_A_B" "1NFD_FE_B" "4JEU_A_B" "3SJH_A_B" "3LMS_A_B" "1A22_A_B" "3GNI_A_B" "5HPS_A_B" "1NDM_BA_C" "4B1X_B_M" "4FZA_A_B" "3TAC_A_B" "2XWT_AB_C" "4L0P_A_B" "2KWV_A_B" "3RO2_A_B" "3EO1_AB_CF" "2HD5_A_B" "1OGY_A_B" "4NZW_A_B" "2OUL_A_B" "3MAC_HL_A" "4RWT_A_D" "3Q9U_A_C" "4XXB_A_B" "1J7V_L_R" "3LAQ_A_U" "1T44_G_A" "1OGY_A_B" "2CFH_A_C" "5CZF_A_D" "3OPZ_JN_C" "2MRE_A_B" "2N01_A_B" "2MZD_A_B" "1YRT_A_B" "4D0N_A_B" "4IYP_A_C" "3BH6_A_B" "3V4Y_A_B" "4RT6_A_B" "3ONW_A_C" "1TA3_A_B" "3TKL_A_B" "4Y5O_A_B" "1P27_A_B" "1Y6M_L_R" "3D9A_HL_C" "4D3C_HL_A" "2N2H_A_B" "4NL9_A_C" "3W9E_AB_C" "5UTZ_JK_I" "4H5S_A_B" "5JSB_A_B" "5WI9_HL_A" "2C7N_A_B" "4A1S_B_E" "3D5R_A_C" "3ONW_A_C" "2PTC_E_I" "1HCF_AB_X" "4G59_A_C" "2MLZ_B_A" "4DBG_A_B")
chains1=("A" "A" "L,H" "B" "H,L" "B" "A" "A,B" "C" "A" "B" "B" "A" "B" "I" "A" "B" "X" "A" "B" "I" "D,E" "A" "B" "A" "A" "A,B,D,C" "A" "A" "E" "B" "A" "B" "A" "A" "G" "B" "B" "A" "B" "B" "A" "C" "A" "A" "B" "A" "A" "B" "A" "D" "G" "B" "A" "B" "C" "A" "B" "C" "B" "G" "A" "B" "B" "A" "A" "B" "A" "A" "A" "B" "B" "C" "C" "G" "D,E" "A" "M" "H,L" "A" "B" "C" "A" "B,C" "B" "A" "A" "B" "B" "A" "A" "A" "H,L" "B" "E" "A" "B" "A" "B" "B" "A" "D" "B" "B" "A" "C" "A" "A" "B" "K" "I" "B" "A" "B" "D" "C" "H,L" "A" "A" "B" "B" "A" "C" "C" "A" "A" "C" "F" "A" "B" "A" "A" "A" "A" "B" "A" "B" "B" "A" "A" "A" "A" "B" "C" "M" "A" "A" "C" "A" "B" "A" "C,F" "B" "A" "A" "B" "A" "D" "A" "A" "L" "A" "A" "B" "C" "A" "C" "A" "B" "A" "A" "B" "A" "A" "A" "A" "A" "B" "A" "A" "B" "R" "C" "H,L" "B" "A" "A,B" "I" "B" "B" "A" "A" "B" "C" "A" "I" "A,B" "C" "A" "B")
chains2=("B" "B" "A" "A" "G" "A" "C,D" "C" "A" "B" "A" "A" "B" "A" "P" "E,F" "A" "H,L" "C" "A" "H,F" "B" "F,E" "A" "B" "C" "E,G,F,H" "B" "B,C" "D" "A" "H,L" "A" "B" "B" "A" "A" "A" "C" "A" "C" "B" "A" "B" "B" "A" "B" "B" "A" "B" "H,L" "A" "A" "C" "A" "B" "B" "A" "T" "A" "B,A" "H,L" "A" "A" "B,D" "D" "A" "B" "R" "B" "A" "A" "T" "A" "A" "A,B" "B" "B" "R" "E,C" "A" "A" "B" "A" "A" "C" "B" "A" "A" "B" "B" "B" "A" "A" "A,B" "B" "A" "B" "A" "A" "B" "A" "A" "A" "B" "A" "B" "B" "A" "H,L" "E" "A" "B" "A" "A" "A" "O" "B" "U" "A" "A" "B" "A" "D" "B" "D" "B,A" "E" "C" "A" "B" "B,C" "B" "B" "A" "B" "F,E" "A" "B" "B" "B" "B" "A" "B,A" "B" "B" "B" "A,B" "B" "A" "B" "A,B" "A" "B" "B" "A" "H,L" "A" "C" "B" "R" "U" "G" "A" "A" "D" "J,N" "B" "A" "B" "B" "A" "C" "B" "B" "B" "C" "A" "B" "B" "A" "L" "H,L" "A" "A" "C" "C" "J,K" "A" "A" "H,L" "B" "E" "A" "C" "E" "X" "A" "B" "A")
mut_res=("474A" "561A" "98H" "577B" "61H" "26B" "59A" "93B" "115C" "390A" "170B" "18B" "16A" "24B" "62I" "254A" "42B" "73X" "34A" "621B" "208I" "98D" "110A" "621B" "212A" "128A" "203A" "571A" "159A" "784E" "107B" "222A" "16B" "415A" "37A" "498G" "71B" "1918B" "87A" "160B" "73B" "65A" "569C" "24A" "12A" "142B" "279A" "42A" "452B" "221A" "34D" "191G" "63B" "217A" "80B" "96C" "195A" "35B" "120C" "283B" "342G" "176A" "86B" "40B" "51A" "404A" "118B" "561A" "284A" "925A" "12B" "216B" "135C" "78C" "83G" "4D" "196A" "516M" "100H" "187A" "25B" "575C" "75A" "112B" "445B" "697A" "198A" "146B" "115B" "236A" "139A" "17A" "56L" "15B" "29E" "74A" "440B" "101A" "41B" "90B" "263A" "126D" "28B" "106B" "370A" "183C" "192A" "111A" "138B" "34K" "22I" "108B" "94A" "102B" "115D" "386C" "99H" "51A" "30A" "799B" "185B" "36A" "267C" "146C" "253A" "59A" "248C" "420F" "510A" "21B" "330A" "511A" "361A" "72A" "2413B" "158A" "120B" "114B" "28A" "127A" "64A" "268A" "9B" "621C" "465M" "268A" "281A" "80C" "160A" "42B" "316A" "94C" "74B" "33A" "268A" "91B" "38A" "298D" "115A" "18A" "24L" "28A" "62A" "117B" "50C" "37A" "117C" "72A" "172B" "9A" "202A" "2140B" "221A" "72A" "261A" "462A" "178A" "137B" "111A" "326A" "108B" "96R" "673C" "102H" "672B" "57A" "30A" "81I" "37B" "55B" "411A" "47A" "219B" "75C" "205A" "39I" "53A" "91C" "321A" "616B")

for i in {0..200}
do
    srun /PATH_TO_ROSETTA/source/bin/rosetta_scripts.default.linuxiccrelease -parser:protocol recovery.xml -ignore_unrecognized_res -out:file:score_only recover_arg.sc -s ${pdb_id[$i]}.pdb -parser:script_vars c1=${chains1[$i]} c2=${chains2[$i]} r=${mut_res[$i]} -out:no_nstruct_label -mute core.scoring.sc.ShapeIdentityCalculator -in:file:native ${pdb_id[$i]}.pdb -mute all
done
    
