#!/bin/bash
#SBATCH --nodes 1
#SBATCH --ntasks-per-node 1
#SBATCH --cpus-per-task 1
#SBATCH --mem 8192
#SBATCH --time 48:00:00
#SBATCH --partition serial
#SBATCH --output=./pro.%A_%a.out
#SBATCH --error=./pro.%A_%a.err

pdb_id=("3BLH_A_B" "2NY1_DC_A" "3KNB_A_B" "1TDQ_A_B" "1YQV_HL_Y" "3EOA_LH_I" "4F15_HI_G" "4WND_A_B" "6B0A_HL_A" "2KWJ_B_A" "1H9D_A_B" "2WY3_B_A" "1Z3G_IM_B" "6B08_CB_A" "3ZEU_D_E" "4GAF_B_A" "3OJ2_A_C" "3FHC_A_B" "1T01_A_B" "1Y64_A_B" "1YDI_A_B" "1XQS_A_C" "1BKD_R_S" "3D7T_A_B" "2MFQ_A_B" "4YIZ_A_B" "4DM6_A_E" "4ERS_HL_A" "2CMR_HL_A" "2W8B_A_H" "3WLW_HL_B" "1WPX_A_B" "1H9D_A_B" "5UEM_HL_G" "2KWU_A_B" "4CT0_A_B" "5CZV_HL_A" "3S8V_A_X" "3REA_A_B" "1UUG_A_B" "1T01_A_B" "2LFW_A_B" "3IXS_A_B" "4Z80_A_C" "4AOQ_A_D" "5HPK_A_B" "3UZV_A_B" "3HO5_B_H" "4QHU_BA_D" "5DC4_A_B" "4F0A_A_B" "1K4C_AB_C" "6CMG_CB_A" "2L14_A_B" "4G01_A_B" "3GI9_HL_C" "2B0Z_A_B" "2L29_A_B" "4AYI_A_D" "2MFQ_A_B" "4M0W_A_B" "4P5T_A_B" "2GWW_A_B" "5VLP_HL_A" "6AOD_BA_C" "4RWY_HL_A" "3F7P_A_C" "4HT1_HL_T" "4YL8_A_B" "2OMZ_A_B" "1AVX_A_B" "3OUX_A_B" "5VL7_HL_B" "4PBW_B_E" "3ONA_A_B" "2LKM_A_B" "4ZV4_A_C" "3N4I_A_B" "1RV6_VW_X" "5FV2_X_A" "5IOH_A_B" "4BD9_A_B" "3MCA_A_B" "3VLB_A_B" "2HMI_CD_AB" "4Z80_A_C" "4F38_A_B" "1NW9_B_A" "4V0M_F_E" "5D7L_A_B" "5D7L_A_B" "4J4P_HL_A" "3MAC_HL_A" "3V4Y_A_B" "1ES0_A_B" "3ZEU_D_E" "4N7Z_A_B" "3ZRZ_A_C" "1Z3G_IM_B" "1EZU_C_AB" "3AON_A_B" "4U0Q_A_B" "1F51_AB_E" "4NU1_A_B" "4Z80_A_C" "2HLE_A_B" "4YL8_A_B" "2SNI_E_I" "4EKC_A_B" "5D72_MN_B" "2NYZ_AB_D" "4XL5_A_C" "1LK3_IM_B" "3H8K_A_B" "1NW9_B_A" "3AJB_A_B" "3KS0_HL_B" "2AW2_A_B" "3LVK_AC_B" "2Y8T_A_B" "4UEM_A_B" "3ZET_A_B" "1JTG_B_A" "4JB9_HL_G" "3W2D_HL_A" "4ZPT_HL_S" "1G9I_E_I" "3IDC_A_B" "2KT5_A_B" "2Y8S_A_B" "1RV6_VW_X" "3ZRZ_A_C" "1FE8_HL_A" "3QWQ_A_B" "4N7Z_A_B" "4BOH_B_A" "1T44_G_A" "3HCT_A_B" "5LI1_A_B" "1A14_HL_N" "4YOC_A_C" "5B77_A_B" "1A22_A_B" "3WDG_A_B" "2VLQ_A_B" "4JS0_A_B" "2OIN_A_C" "4RWT_A_D" "5CZV_HL_A" "4OFY_A_D" "1JWH_CD_A" "2RF9_A_C" "3ZWZ_A_B" "1NCA_HL_N" "3SKU_A_D" "5CXB_A_B" "1OGY_A_B" "5CXB_A_B" "3TU3_A_B" "2M5A_A_B" "1JIW_P_I" "5H35_FG_E" "4G59_A_C" "4A49_A_B" "3RKD_DC_B" "4DJ9_A_B" "4LZX_A_B" "3GNI_A_B" "1P6A_A_B" "4XLW_A_B" "4MQV_A_B" "4Z80_A_C" "1M5N_S_Q" "2R29_HL_A" "5HI5_CD_A" "4X7S_H_L" "6BP2_HL_A" "5F96_HL_G" "3SRI_A_B" "3C59_A_B" "5IJ9_A_B" "4XL1_A_B" "3H6G_A_B" "2XQB_HL_A" "5XMH_DC_B" "1Z5Y_D_E" "1JZD_AB_C" "3WKM_IM_B" "1NVU_Q_S" "4IJ3_CB_A" "3FIE_A_C" "3HCT_A_B" "2OMV_A_B" "4BWQ_E_F" "1Y8N_A_B" "5XXY_HL_A" "3HI6_XY_B" "4QZV_A_B" "1J7V_L_R" "3KBT_A_D")
chains1=("A" "A" "B" "B" "Y" "I" "H,I" "B" "A" "A" "B" "B" "B" "A" "D" "B" "C" "B" "B" "A" "A" "A" "S" "B" "B" "B" "A" "H,L" "H,L" "A" "B" "A" "A" "H,L" "A" "A" "A" "A" "B" "A" "A" "B" "B" "C" "D" "B" "A" "B" "D" "B" "A" "A,B" "C,B" "A" "A" "H,L" "B" "A" "D" "B" "A" "A" "A" "A" "C" "H,L" "C" "T" "B" "B" "B" "B" "B" "E" "B" "A" "A" "A" "X" "A" "B" "B" "A" "B" "A,B" "C" "A" "B" "F" "A" "B" "A" "H,L" "A" "A" "E" "B" "C" "B" "C" "B" "B" "E" "A" "A" "A" "B" "I" "A" "B" "A,B" "C" "I,M" "A" "A" "A" "B" "B" "A,C" "B" "B" "A" "A" "H,L" "H,L" "S" "I" "A" "B" "A" "V,W" "A" "A" "B" "A" "A" "G" "A" "A" "N" "C" "A" "B" "A" "B" "B" "A" "A" "A" "D" "A" "A" "A" "N" "D" "A" "A" "A" "B" "B" "I" "E" "A" "A" "B" "A" "B" "B" "A" "B" "A" "C" "S" "A" "A" "H" "A" "H,L" "A" "A" "B" "A" "B" "H,L" "D,C" "D" "A,B" "B" "S" "A" "A" "B" "B" "F" "B" "H,L" "B" "B" "L" "A")
chains2=("B" "D,C" "A" "A" "H,L" "L,H" "G" "A" "H,L" "B" "A" "A" "I,M" "C,B" "E" "A" "A" "A" "A" "B" "B" "C" "R" "A" "A" "A" "E" "A" "A" "H" "H,L" "B" "B" "G" "B" "B" "H,L" "X" "A" "B" "B" "A" "A" "A" "A" "A" "B" "H" "B,A" "A" "B" "C" "A" "B" "B" "C" "A" "B" "A" "A" "B" "B" "B" "H,L" "B,A" "A" "A" "H,L" "A" "A" "A" "A" "H,L" "B" "A" "B" "C" "B" "V,W" "X" "A" "A" "B" "A" "C,D" "A" "B" "A" "E" "B" "A" "H,L" "A" "B" "B" "D" "A" "A" "I,M" "A,B" "A" "A" "A,B" "B" "C" "B" "A" "E" "B" "M,N" "D" "A" "B" "B" "B" "B" "H,L" "A" "B" "A" "A" "B" "B" "G" "A" "H,L" "E" "B" "A" "B" "X" "C" "H,L" "A" "B" "B" "A" "B" "B" "H,L" "A" "B" "A" "B" "A" "A" "C" "D" "H,L" "A" "C,D" "C" "B" "H,L" "A" "B" "B" "B" "A" "A" "P" "F,G" "C" "B" "D,C" "B" "A" "A" "B" "A" "B" "A" "Q" "H,L" "C,D" "L" "H,L" "G" "B" "B" "A" "B" "A" "A" "B" "E" "C" "I,M" "Q" "C,B" "C" "A" "A" "E" "A" "A" "X,Y" "A" "R" "D")
mut_res=("11A" "437A" "13B" "114B" "70Y" "144I" "98I" "999B" "106A" "354A" "2B" "163B" "63B" "106A" "40D" "126B" "253C" "218B" "628B" "367A" "38A" "287A" "945S" "525B" "505B" "1289B" "410A" "8L" "97H" "312A" "172B" "235A" "157A" "30H" "694A" "319A" "1602A" "771A" "94B" "86A" "43A" "45B" "146B" "1302C" "29D" "8B" "364A" "314B" "104D" "88B" "130A" "95B" "109C" "2059A" "189A" "100H" "76B" "1599A" "106D" "510B" "224A" "43A" "38A" "540A" "392C" "95L" "1327C" "135T" "2141B" "-2B" "561B" "23B" "364B" "98E" "20B" "222A" "114A" "107A" "173X" "33A" "401B" "76B" "481A" "132B" "225B" "1309C" "71A" "247B" "419F" "32A" "32B" "333A" "28L" "192A" "81A" "57E" "237B" "577C" "61B" "492C" "16B" "133B" "1305E" "294A" "319A" "151A" "2140B" "52I" "185A" "89B" "274A" "121C" "101I" "20A" "325A" "321A" "64B" "17B" "66A" "1309B" "315B" "40A" "167A" "99H" "80H" "531S" "315I" "202A" "113B" "339A" "97V" "150A" "962A" "51B" "701A" "437A" "159G" "71A" "417A" "331N" "852C" "301A" "306B" "183A" "88B" "276B" "96A" "367A" "1595A" "71D" "104A" "913A" "350A" "326N" "130D" "341A" "194A" "299A" "402B" "120B" "65I" "57E" "14A" "417A" "592B" "43A" "419B" "64B" "417A" "112B" "222A" "1308C" "106S" "364A" "126A" "62H" "100A" "57H" "184A" "90A" "259B" "480A" "161B" "96H" "33D" "13D" "198A" "117B" "978S" "137A" "130A" "63B" "47B" "246F" "142B" "102H" "144B" "149B" "20L" "1716A")

for i in {0..200}
do
    srun /PATH_TO_ROSETTA/source/bin/rosetta_scripts.default.linuxiccrelease -parser:protocol recovery.xml -ignore_unrecognized_res -out:file:score_only recover_pro.sc -s ${pdb_id[$i]}.pdb -parser:script_vars c1=${chains1[$i]} c2=${chains2[$i]} r=${mut_res[$i]} -out:no_nstruct_label -mute core.scoring.sc.ShapeIdentityCalculator -in:file:native ${pdb_id[$i]}.pdb -mute all
done
    
