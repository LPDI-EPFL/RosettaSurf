#!/bin/bash
#SBATCH --nodes 1
#SBATCH --ntasks-per-node 1
#SBATCH --cpus-per-task 1
#SBATCH --mem 8192
#SBATCH --time 48:00:00
#SBATCH --partition serial
#SBATCH --output=./ile.%A_%a.out
#SBATCH --error=./ile.%A_%a.err

pdb_id=("5ABV_A_B" "3BLH_A_B" "2I3S_A_B" "5ABV_A_B" "4REY_A_B" "1Z3G_IM_B" "3P71_T_C" "3R1G_HL_B" "2MCN_A_B" "3U7Y_HL_G" "4F9P_A_B" "1OPH_A_B" "5DJT_A_B" "4NU1_A_B" "6CMG_CB_A" "4REY_A_B" "2C1T_A_C" "5EU7_EC_A" "5EO9_A_B" "4K9E_HL_C" "3FPU_A_B" "3AJB_A_B" "2WD5_A_B" "1DHK_A_B" "2BE6_A_D" "3KLS_A_X" "1NF3_A_C" "4QHU_BA_D" "4V0N_D_C" "3V6O_CE_A" "1JPS_HL_T" "3P9W_A_B" "3AON_A_B" "1K4C_AB_C" "5SZK_A_B" "1TM7_E_I" "3L89_ABC_M" "3TGK_E_I" "2SNI_E_I" "4J2Y_A_B" "4F38_A_B" "3TG1_A_B" "4DID_A_B" "4WNN_A_B" "2L0F_A_B" "4AYE_A_D" "1WDW_BD_A" "3PC8_A_C" "5B76_A_B" "2HRK_A_B" "3FHC_A_B" "4PAS_A_B" "2RU4_A_B" "4KR0_A_B" "3OHM_A_B" "1ZLI_A_B" "4S1S_HL_G" "4LVH_HI_G" "3ZO0_A_B" "2ZJS_HL_Y" "3U30_CB_A" "5TE7_HL_G" "1BKD_R_S" "5KJR_HL_G" "3KW5_A_B" "4PBZ_A_B" "4KR0_A_B" "4OVN_A_F" "5C3F_A_B" "3BX7_A_C" "4QVF_A_B" "1DE4_AB_CF" "3WRX_A_C" "4UU9_AB_C" "3RPG_B_C" "3SRI_A_B" "2XNS_B_D" "1T63_A_B" "4AWX_A_B" "3F50_A_B" "4GNK_A_B" "3AU4_A_B" "2MJ5_A_B" "2MBB_A_B" "2VSM_A_B" "2A78_A_B" "2M5A_A_B" "2WP3_T_O" "2LKM_A_B" "4U0Q_A_B" "2ONL_A_C" "1TZH_HL_V" "3RGF_A_B" "3GC3_A_B" "4G35_A_B" "2I3S_A_B" "3ZET_A_B" "1AXI_A_B" "1DP5_A_B" "3GC3_A_B" "2OT8_A_C" "2QXV_A_B" "4PER_A_B" "2P4A_A_B" "3G04_BA_C" "3OIQ_A_B" "4QXA_A_B" "3BDY_HL_V" "4DX8_A_J" "3FII_A_B" "4PBW_B_E" "2I3T_A_B" "4DKF_HL_A" "2WH6_A_B" "5C3F_A_B" "1RKE_A_B" "3H6G_A_B" "4XKL_A_B" "3RO2_A_B" "2SNI_E_I" "4WNN_A_B" "2N73_A_B" "4HCP_A_B" "1NF3_A_C" "5DFV_EF_B" "3TL8_A_B" "5D1K_A_B" "3AON_A_B" "4DM6_A_E" "3G9W_A_D" "2M5B_A_B" "3IOL_A_B" "2MUR_A_B" "4WEM_A_B" "2F4M_A_B" "1R8S_A_E" "2OIN_A_C" "3C66_A_C" "3GXU_A_B" "2ARP_A_F" "2XHE_A_B" "1Y4A_E_I" "2MBB_A_B" "4LW4_AB_C" "3N06_A_B" "4C7N_A_B" "3W8I_A_B" "3KUD_A_B" "3P71_T_C" "5BN5_A_B" "5XXY_HL_A" "3SJD_C_D" "3G04_BA_C" "2VER_A_N" "4DBG_A_B" "5DHV_AB_N" "3RAJ_HL_A" "5W2B_HL_A" "4DZU_A_B" "5DFV_EF_B" "4EKD_A_B" "1UAD_A_C" "4DM8_A_C" "4MIT_A_E" "4KA2_A_R" "3V4Y_A_B" "5KAQ_FG_C" "3HCU_A_B" "2WH6_A_B" "4JR9_HL_A" "3O40_A_B" "2X1X_E_R" "4DX8_A_J" "3BDY_HL_V" "1AXI_A_B" "5UG0_DC_A" "2W2X_A_D" "3ONA_A_B" "5BOZ_A_G" "3W8I_A_B" "2RVB_A_B" "3MA9_HL_A" "3CX6_A_B" "2UZI_HL_R" "3PNR_A_B" "2MLX_B_A" "1R8S_A_E" "4F48_A_B" "3WRY_A_C" "3EGG_A_C" "2L0F_A_B" "5KVD_HL_E" "2P46_A_B" "5DFV_EF_B" "3VG9_CB_A" "2WWK_T_O" "4D0G_A_C" "2NYZ_AB_D" "2IH3_AB_C" "4XL1_A_B")
chains1=("A" "A" "B" "A" "B" "B" "T" "B" "B" "G" "A" "A" "A" "B" "C,B" "B" "C" "A" "A" "C" "B" "A" "A" "A" "D" "A" "C" "D" "D" "A" "T" "A" "B" "A,B" "B" "I" "M" "I" "I" "A" "B" "B" "B" "A" "A" "D" "B,D" "C" "A" "B" "B" "A" "A" "A" "B" "A" "G" "G" "A" "Y" "A" "H,L" "S" "H,L" "B" "A" "A" "F" "B" "C" "B" "A,B" "A" "C" "B" "B" "B" "A" "A" "B" "B" "A" "B" "A" "A" "B" "B" "T" "A" "A" "C" "V" "A" "B" "B" "B" "A" "B" "A" "A" "A" "B" "A" "B" "C" "A" "A" "V" "A" "A" "B" "B" "A" "A" "B" "A" "B" "A" "B" "I" "B" "A" "A" "C" "E,F" "A" "B" "B" "A" "A" "B" "B" "B" "B" "A" "E" "C" "C" "A" "A" "A" "I" "B" "C" "A" "A" "B" "A" "T" "A" "A" "C" "C" "N" "A" "N" "H,L" "A" "A" "E,F" "A" "C" "C" "E" "A" "A" "C" "A" "B" "A" "A" "E" "A" "H,L" "B" "D,C" "A" "B" "A" "A" "B" "H,L" "B" "R" "B" "A" "E" "A" "A" "C" "B" "H,L" "B" "B" "A" "T" "C" "D" "C" "A")
chains2=("B" "B" "A" "B" "A" "I,M" "C" "H,L" "A" "H,L" "B" "B" "B" "A" "A" "A" "A" "E,C" "B" "H,L" "A" "B" "B" "B" "A" "X" "A" "B,A" "C" "C,E" "H,L" "B" "A" "C" "A" "E" "A,B,C" "E" "E" "B" "A" "A" "A" "B" "B" "A" "A" "A" "B" "A" "A" "B" "B" "B" "A" "B" "H,L" "H,I" "B" "H,L" "C,B" "G" "R" "G" "A" "B" "B" "A" "A" "A" "A" "C,F" "C" "A,B" "C" "A" "D" "B" "B" "A" "A" "B" "A" "B" "B" "A" "A" "O" "B" "B" "A" "H,L" "B" "A" "A" "A" "B" "A" "B" "B" "C" "A" "B" "A" "B,A" "B" "B" "H,L" "J" "B" "E" "A" "H,L" "B" "A" "B" "A" "B" "A" "E" "A" "B" "B" "A" "B" "B" "A" "A" "E" "D" "A" "A" "A" "A" "B" "A" "A" "A" "B" "F" "B" "E" "A" "A,B" "B" "B" "A" "B" "C" "B" "H,L" "D" "B,A" "A" "B" "A,B" "A" "H,L" "B" "B" "B" "A" "A" "A" "R" "B" "F,G" "B" "A" "H,L" "B" "R" "J" "V" "A" "A" "D" "A" "G" "B" "A" "A" "A" "H,L" "A" "B" "A" "B" "C" "A" "A" "E" "A" "E,F" "C,B" "O" "A" "A,B" "A,B" "B")
mut_res=("118A" "84A" "339B" "112A" "987B" "58B" "240T" "340B" "44B" "371G" "208A" "360A" "428A" "393B" "54C" "973B" "10C" "161A" "113A" "319C" "41B" "328A" "560A" "148A" "1624D" "510A" "131C" "28D" "415D" "482A" "152T" "80A" "90B" "52A" "41B" "49I" "115M" "18I" "56I" "10A" "139B" "210B" "50B" "44A" "44A" "199D" "289B" "913C" "208A" "121B" "248B" "784A" "78A" "295A" "863B" "247A" "371G" "166G" "253A" "350Y" "36A" "33H" "825S" "54H" "36B" "23A" "346A" "1833F" "83B" "108C" "58B" "152A" "91A" "41C" "7B" "2048B" "82B" "898A" "66A" "10B" "863B" "2040A" "946B" "82A" "588A" "97B" "131B" "16T" "214A" "204A" "375C" "91V" "59A" "80B" "8B" "343B" "77A" "105B" "73A" "370A" "642A" "49B" "455A" "32B" "152C" "32A" "40A" "83V" "139A" "149A" "73B" "365B" "74A" "57A" "82B" "109A" "152B" "44A" "2010B" "49I" "92B" "7A" "126A" "133C" "292E" "456A" "137B" "74B" "260A" "402A" "101B" "29B" "144B" "905B" "442A" "193E" "25C" "84C" "135A" "101A" "46A" "56I" "236B" "87C" "55A" "7A" "356B" "21A" "66T" "291A" "54A" "260C" "155C" "91N" "71A" "59N" "31H" "665A" "3A" "594F" "190A" "13C" "632C" "16E" "371A" "169A" "377C" "72A" "56B" "15A" "3A" "188E" "138A" "29L" "103B" "31D" "33A" "19B" "137A" "66A" "55B" "53H" "308B" "36R" "203B" "355A" "220E" "60A" "98A" "449C" "683B" "30H" "32B" "182B" "292A" "14T" "638C" "38D" "60C" "477A")

for i in {0..200}
do
    srun /PATH_TO_ROSETTA/source/bin/rosetta_scripts.default.linuxiccrelease -parser:protocol recovery.xml -ignore_unrecognized_res -out:file:score_only recover_ile.sc -s ${pdb_id[$i]}.pdb -parser:script_vars c1=${chains1[$i]} c2=${chains2[$i]} r=${mut_res[$i]} -out:no_nstruct_label -mute core.scoring.sc.ShapeIdentityCalculator -in:file:native ${pdb_id[$i]}.pdb -mute all
done
    
