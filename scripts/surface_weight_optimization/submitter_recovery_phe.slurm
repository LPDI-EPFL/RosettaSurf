#!/bin/bash
#SBATCH --nodes 1
#SBATCH --ntasks-per-node 1
#SBATCH --cpus-per-task 1
#SBATCH --mem 8192
#SBATCH --time 48:00:00
#SBATCH --partition serial
#SBATCH --output=./phe.%A_%a.out
#SBATCH --error=./phe.%A_%a.err

pdb_id=("3P0Y_HL_A" "3G6J_E_F" "4LVH_HI_G" "2QC1_A_B" "5C3F_A_B" "5J8H_A_B" "1ES0_A_B" "4Q96_D_E" "4GAF_B_A" "3G9V_A_B" "3D7U_A_B" "1W1W_B_F" "4K9E_HL_C" "4Y61_A_B" "2V4Z_A_B" "5JYL_A_B" "1QFU_HL_A" "4YDL_HL_G" "2XQR_A_B" "2DSP_B_I" "1F7Z_A_I" "1XD3_A_B" "3FPU_A_B" "4MHJ_L_H" "5JSN_A_B" "4KT1_A_E" "5USH_HL_X" "3EAB_A_G" "4CVW_A_C" "2QUR_A_B" "4K5B_D_A" "4QXA_A_B" "2Z8W_A_D" "4EIZ_A_D" "1XQS_A_C" "1TM3_E_I" "2GTP_A_D" "4LZX_A_B" "4NL9_A_C" "2XTT_A_B" "5D5M_A_B" "4MHJ_L_H" "3CX7_A_B" "3BSZ_NM_E" "3BKY_H_L" "5I9Q_BC_A" "4QHU_BA_D" "3L95_HL_Y" "3GC3_A_B" "2EFH_A_B" "5D1L_A_B" "1BKD_R_S" "4X7S_H_L" "2YQ7_A_B" "3WDG_A_B" "1FNS_HL_A" "5E6P_A_B" "3UYO_A_D" "6BP2_HL_A" "5W6G_HL_A" "4REY_A_B" "4YDK_HL_G" "1GLA_G_F" "2LD7_A_B" "2X1X_E_R" "1DHK_A_B" "2C1M_A_B" "4G01_A_B" "4RE1_A_D" "4UDM_B_A" "5VL7_HL_B" "1TM7_E_I" "4X7S_H_L" "5HPS_A_B" "4P59_HL_A" "4IRZ_HL_A" "4JRA_A_D" "3FPU_A_B" "4ZSO_BA_E" "2GNG_A_I" "2LOX_A_B" "3P95_A_E" "4LGR_A_B" "4H6J_A_B" "1NF3_A_C" "3WKT_A_C" "4KT1_A_E" "2D10_A_E" "2B42_B_A" "5SY8_HL_O" "3C4M_A_C" "5INB_A_B" "1FC2_C_D" "2W84_A_B" "2MLZ_B_A" "5TIH_HL_A" "3ONW_A_C" "2WWX_A_B" "5LWY_HL_A" "3C66_A_C" "1NSN_HL_S" "2FTM_A_B" "2VSM_A_B" "2OMV_A_B" "3OL2_A_B" "1L0Y_A_B" "4ZGY_A_B" "2L0F_A_B" "4NM3_A_B" "3ZRZ_A_C" "1JZD_AB_C" "4F48_A_B" "4NZR_HL_M" "1DP5_A_B" "4BPX_C_D" "5GGT_HL_A" "3ZWL_B_E" "4UAO_CB_A" "3R85_A_E" "5TE7_HL_G" "2YQ7_A_B" "4ZGY_A_B" "2LKM_A_B" "4E42_A_B" "2ASS_A_B" "4C4K_T_O" "4BRW_A_B" "3SJV_D_E" "5TH9_HL_A" "2HEV_F_R" "3OLM_A_D" "2L14_A_B" "3N00_A_B" "4QHU_BA_D" "4XLW_A_B" "2H9G_BA_R" "2R0K_HL_A" "3DXC_A_B" "5DMJ_A_B" "1AXI_A_B" "4Z5R_BA_N" "2A7U_A_B" "1L4Z_A_B" "5EII_HL_G" "5W2B_HL_A" "2OT3_B_A" "5VAG_CB_A" "1F5R_A_I" "3QBR_A_B" "4J2Y_A_B" "2OMU_A_B" "5D1Z_DC_I" "2ASS_A_B" "4YE4_HL_G" "4DX8_A_J" "3VYR_A_B" "5BN5_A_B" "2LD7_A_B" "3D5S_A_C" "3DXE_A_B" "1T44_G_A" "4LGP_A_B" "3GNI_A_B" "1TO1_E_I" "4FFY_HL_A" "5D8J_HL_A" "4IDJ_HL_A" "4JLR_HL_S" "3RDZ_A_C" "4JEU_A_B" "2WP3_T_O" "4CVW_A_C" "4JW3_A_C" "4AOR_A_D" "1C9T_A_G" "2BYM_A_B" "1FAK_HL_T" "1EWY_A_C" "3OUW_A_B" "4M6B_A_C" "3MA2_D_C" "1J7D_A_B" "3MC0_A_B" "4C2A_A_B" "3OJM_A_B" "4EOZ_A_B" "4JPW_HL_G" "1WPX_A_B" "3AON_A_B" "4RJF_A_B" "1RV6_VW_X" "4BYF_C_D" "5J4A_A_B" "4QWW_DC_B" "3V1C_A_B" "2OMU_A_B" "4EKC_A_B" "1GL1_A_I" "2EFH_A_B" "4L0P_A_B")
chains1=("H,L" "F" "G" "A" "A" "A" "B" "D" "A" "B" "A" "F" "H,L" "B" "B" "B" "A" "H,L" "B" "I" "A" "A" "B" "L" "A" "E" "X" "A" "A" "B" "A" "A" "D" "A" "A" "E" "D" "A" "A" "B" "B" "L" "A" "N,M" "L" "B,C" "B,A" "H,L" "B" "A" "A" "S" "L" "A" "B" "A" "B" "D" "H,L" "A" "B" "H,L" "F" "B" "R" "A" "A" "A" "A" "A" "B" "E" "L" "B" "A" "A" "D" "A" "E" "A" "B" "A" "A" "B" "A" "A" "E" "E" "A" "O" "C" "A" "C" "B" "A" "H,L" "C" "A" "H,L" "A" "S" "A" "B" "A" "A" "B" "B" "B" "A" "A" "C" "B" "H,L" "A" "C" "A" "E" "C,B" "E" "H,L" "A" "A" "A" "B" "A" "O" "B" "E" "A" "F" "A" "B" "B" "B,A" "B" "R" "H,L" "A" "A" "A" "N" "B" "B" "G" "A" "A" "C,B" "A" "A" "B" "A" "I" "A" "H,L" "A" "B" "A" "B" "C" "B" "A" "A" "B" "E" "A" "A" "H,L" "H,L" "A" "B" "O" "A" "C" "D" "A" "B" "H,L" "C" "A" "A" "D" "A" "B" "B" "A" "B" "H,L" "B" "A" "B" "X" "C" "A" "B" "B" "A" "B" "A" "A" "A")
chains2=("A" "E" "H,I" "B" "B" "B" "A" "E" "B" "A" "B" "B" "C" "A" "A" "A" "H,L" "G" "A" "B" "I" "B" "A" "H" "B" "A" "H,L" "G" "C" "A" "D" "B" "A" "D" "C" "I" "A" "B" "C" "A" "A" "H" "B" "E" "H" "A" "D" "Y" "A" "B" "B" "R" "H" "B" "A" "H,L" "A" "A" "A" "H,L" "A" "G" "G" "A" "E" "B" "B" "B" "D" "B" "H,L" "I" "H" "A" "H,L" "H,L" "A" "B" "B,A" "I" "A" "E" "B" "A" "C" "C" "A" "A" "B" "H,L" "A" "B" "D" "A" "B" "A" "A" "B" "A" "C" "H,L" "B" "A" "B" "B" "A" "A" "A" "B" "C" "A,B" "A" "M" "B" "D" "H,L" "B" "A" "A" "G" "B" "B" "B" "A" "B" "T" "A" "D" "H,L" "R" "D" "A" "A" "D" "A" "B,A" "A" "B" "B" "B" "B,A" "A" "A" "H,L" "H,L" "B" "A" "I" "B" "A" "B" "D,C" "B" "G" "J" "A" "B" "A" "A" "A" "G" "B" "A" "I" "H,L" "H,L" "A" "S" "C" "A" "T" "C" "A" "A" "G" "A" "T" "A" "B" "C" "C" "B" "A" "A" "B" "A" "G" "A" "B" "A" "V,W" "D" "B" "D,C" "A" "B" "A" "I" "B" "B")
mut_res=("100H" "166F" "114G" "32A" "319A" "68A" "11B" "89D" "150A" "57B" "382A" "548F" "27H" "247B" "152B" "50B" "94A" "33H" "75B" "25I" "41A" "170A" "29B" "209L" "153A" "110E" "56X" "124A" "620A" "366B" "46A" "37A" "100D" "140A" "252A" "189E" "140D" "93A" "53A" "41B" "56B" "98L" "234A" "101N" "117L" "90C" "92A" "91L" "91B" "236A" "51A" "1010S" "122L" "105A" "69B" "634A" "59B" "34D" "106H" "118A" "976B" "92L" "88F" "522B" "288R" "256A" "391A" "187A" "314A" "40A" "379B" "189E" "120L" "70B" "270A" "162A" "563D" "14A" "72E" "54A" "670B" "41A" "119A" "444B" "37A" "518A" "106E" "355E" "375A" "121O" "34C" "293A" "132C" "107B" "387A" "32H" "529C" "45A" "32L" "360A" "61S" "41A" "113B" "367A" "181A" "23B" "156B" "710B" "293A" "67A" "11C" "28B" "58L" "291A" "150C" "19A" "691E" "94B" "169E" "59H" "97A" "170A" "210A" "43B" "1101A" "12O" "42B" "103E" "110A" "180F" "618A" "54B" "2063B" "57B" "109B" "59R" "27H" "611A" "158A" "25A" "27N" "3B" "103B" "74G" "678A" "365A" "102C" "41A" "66A" "41B" "150A" "242I" "1145A" "102H" "103A" "128B" "225A" "468B" "52C" "690B" "31A" "117A" "431B" "189E" "337A" "28A" "29H" "98H" "42A" "29B" "17O" "553A" "29C" "34D" "41A" "78B" "71L" "65C" "293A" "68A" "198D" "13A" "88B" "199B" "16A" "54B" "91L" "633B" "65A" "151B" "172X" "173C" "268A" "78B" "42B" "349A" "105B" "39A" "187A" "152A")

for i in {0..200}
do
    srun /PATH_TO_ROSETTA/source/bin/rosetta_scripts.default.linuxiccrelease -parser:protocol recovery.xml -ignore_unrecognized_res -out:file:score_only recover_phe.sc -s ${pdb_id[$i]}.pdb -parser:script_vars c1=${chains1[$i]} c2=${chains2[$i]} r=${mut_res[$i]} -out:no_nstruct_label -mute core.scoring.sc.ShapeIdentityCalculator -in:file:native ${pdb_id[$i]}.pdb -mute all
done
    
