#!/bin/bash
#SBATCH --nodes 1
#SBATCH --ntasks-per-node 1
#SBATCH --cpus-per-task 1
#SBATCH --mem 8192
#SBATCH --time 48:00:00
#SBATCH --partition serial
#SBATCH --output=./trp.%A_%a.out
#SBATCH --error=./trp.%A_%a.err

pdb_id=("4NP4_HL_A" "3RGV_A_B" "1CLV_A_I" "1X1X_A_D" "5W1K_DC_E" "2WWX_A_B" "2I25_N_L" "4I18_HL_C" "2L14_A_B" "4K5B_D_A" "4NE9_A_P" "2O3B_A_B" "3CX8_A_B" "3WA0_A_G" "3L89_ABC_M" "4U30_A_X" "2M5A_A_B" "5D71_HL_A" "4MP0_A_B" "4LGP_A_B" "4CJ2_B_C" "5W0D_BC_A" "3K2U_HL_A" "2KWJ_B_A" "2RA3_A_C" "3V3K_A_B" "4M62_HL_S" "3QHY_A_B" "4JW2_A_B" "1SY6_HL_A" "5DUM_HL_A" "5D71_HL_A" "3ONW_A_C" "5E95_B_A" "4P59_HL_A" "5F3B_AB_C" "3TSR_A_E" "3LEV_L_H" "3PNR_A_B" "5F96_HL_G" "5VIG_AB_G" "1ID5_H_L" "4HCR_HL_A" "4OKV_CD_E" "4ZGQ_A_B" "3R1G_HL_B" "2A6K_A_B" "3BRT_A_B" "4KVN_HL_A" "1ZTX_HL_E" "1RLB_ABCD_E" "2OMZ_A_B" "2XNS_B_D" "3VPJ_A_E" "5TL5_HL_A" "2W9E_HL_A" "2C1T_A_C" "3VEP_X_D" "3QUM_KM_Q" "5UCB_HL_B" "3WRY_A_C" "1NCB_HL_N" "2L0T_A_B" "3UZQ_A_B" "1HCF_AB_X" "4JE4_A_B" "4OII_HL_A" "3RO2_A_B" "4C9B_A_B" "1EFN_B_A" "4J4P_HL_A" "2ABZ_B_E" "3WKM_IM_B" "1RI8_A_B" "1KXQ_H_A" "4IJ3_CB_A" "1NVU_Q_S" "5KVE_HL_E" "4X33_A_B" "2IYB_A_E" "5J8H_A_B" "4GLV_A_B" "5TLK_HG_Y" "1X1W_A_D" "2LUH_A_B" "3E2L_A_C" "3G6J_E_F" "4DGE_A_C" "6CH7_QR_G" "1WPX_A_B" "3MA9_HL_A" "3UKZ_B_C" "1X1U_A_D" "3DA7_A_D" "1PJN_A_B" "5TZT_HL_C" "3V6O_CE_A" "6AYZ_RC_M" "1B3S_A_D" "4DAG_HL_A" "1RPQ_A_W" "2R0L_HL_A" "4ENE_EF_B" "5IXD_A_B" "3C9A_B_D" "4BZ1_HL_A" "5DMJ_A_B" "1MLC_AB_E" "2VOH_A_B" "1GHQ_A_B" "5D72_MN_B" "2XPX_A_B" "3BKY_H_L" "1X1Y_A_D" "1UAC_HL_Y" "3L9J_C_T" "5C3F_A_B" "2QC1_A_B" "1KLU_AB_D" "4C5G_A_B" "2LEH_A_B" "3N85_HL_A" "4W6X_A_B" "2WO3_A_B" "3SO3_CB_A" "4JB9_HL_G" "5O4O_BA_C" "3C4O_A_B" "4AG4_HL_A" "3NPS_BC_A" "4F2M_CD_F" "4CNI_HL_C" "5JSB_A_B" "1AZS_AB_C" "4X7S_H_L" "3SE9_HL_G" "1GPW_A_B" "1OGY_A_B" "1B2U_A_D" "5F9O_HL_G" "2IY1_A_B" "3C5T_A_B" "4AL8_HL_C" "2P8Q_A_B" "2VIS_AB_C" "2YGG_A_B" "4PGJ_A_B" "2Q5D_A_C" "4OD2_BA_S" "2AQ2_A_B" "5CTR_A_C" "1X1X_A_D" "5D70_HL_A" "5F9O_HL_G" "4AG4_HL_A" "2EIZ_BA_C" "2I3T_A_B" "3WLW_HL_B" "2M5B_A_B" "4GLA_A_D" "5BK1_CD_B" "5JZE_B_A" "3H8K_A_B" "5VCN_FE_A" "4EIG_A_B" "4X7S_H_L" "4JPV_HL_G" "1M5N_S_Q" "5D96_JI_D" "4XNZ_EF_D" "3BKY_H_L" "4G01_A_B" "1LDT_T_L" "1B27_A_D" "3B9K_HL_B" "4JPV_HL_G" "2RU4_A_B" "1JIW_P_I" "3UKX_B_C" "1NDM_BA_C" "5YOY_HE_C" "4HJ0_PQ_A" "4U6H_AB_E" "5VEB_AB_X" "4OLZ_HL_G" "4HFU_HL_A" "3S8V_A_X" "5JSN_A_B" "4TQ0_A_B" "1FE8_HL_A" "2RU4_A_B" "3UKW_B_C" "1AVA_A_C" "2XNS_B_D" "5T29_HL_O" "2X89_F_G" "5TIH_HL_A" "1BVK_DE_F" "3KJ1_A_B" "4RE1_A_D")
chains1=("H,L" "B" "I" "D" "E" "A" "L" "H,L" "B" "A" "P" "B" "A" "A" "M" "A" "B" "H,L" "B" "B" "B" "A" "A" "A" "A" "A" "S" "B" "B" "H,L" "H,L" "H,L" "A" "B" "H,L" "C" "E" "H" "A" "G" "A,B" "H" "H,L" "C,D" "A" "B" "B" "A" "A" "H,L" "E" "A" "D" "A" "A" "H,L" "A" "X" "Q" "H,L" "A" "N" "B" "A" "A,B" "B" "H,L" "B" "A" "A" "H,L" "E" "B" "A" "A" "A" "S" "H,L" "B" "A" "B" "B" "H,G" "D" "A" "C" "F" "A" "Q,R" "A" "A" "B" "D" "D" "B" "H,L" "C,E" "R,C" "D" "A" "A" "H,L" "E,F" "B" "D" "H,L" "A" "A,B" "A" "A" "M,N" "A" "L" "D" "H,L" "C" "A" "B" "D" "A" "B" "H,L" "B" "B" "C,B" "H,L" "B,A" "B" "H,L" "A" "C,D" "C" "A" "C" "H" "G" "B" "A" "D" "G" "A" "A" "H,L" "A" "A,B" "A" "B" "A" "B,A" "B" "C" "D" "A" "H,L" "H,L" "B,A" "A" "H,L" "A" "A" "B" "B" "B" "F,E" "A" "H" "H,L" "S" "D" "E,F" "H" "B" "T" "D" "H,L" "H,L" "B" "P" "B" "B,A" "H,E" "A" "A,B" "A,B" "H,L" "H,L" "X" "A" "B" "H,L" "A" "B" "C" "B" "O" "F" "H,L" "D,E" "A" "A")
chains2=("A" "A" "A" "A" "D,C" "B" "N" "C" "A" "D" "A" "A" "B" "G" "A,B,C" "X" "A" "A" "A" "A" "C" "B,C" "H,L" "B" "C" "B" "H,L" "A" "A" "A" "A" "A" "C" "A" "A" "A,B" "A" "L" "B" "H,L" "G" "L" "A" "E" "B" "H,L" "A" "B" "H,L" "E" "A,B,C,D" "B" "B" "E" "H,L" "A" "C" "D" "K,M" "B" "C" "H,L" "A" "B" "X" "A" "A" "A" "B" "B" "A" "B" "I,M" "B" "H" "C,B" "Q" "E" "A" "E" "A" "A" "Y" "A" "B" "A" "E" "C" "G" "B" "H,L" "C" "A" "A" "A" "C" "A" "M" "A" "H,L" "W" "A" "B" "A" "B" "A" "B" "E" "B" "B" "B" "B" "H" "A" "Y" "T" "B" "A" "A,B" "B" "A" "A" "A" "A" "A" "G" "C" "A" "A" "B,C" "F" "H,L" "B" "A,B" "L" "H,L" "A" "B" "A" "H,L" "B" "B" "C" "B" "C" "B" "A" "C" "S" "A" "A" "A" "H,L" "G" "A" "C" "B" "B" "B" "D" "C,D" "A" "A" "A" "B" "L" "G" "Q" "J,I" "D" "L" "A" "L" "A" "B" "G" "A" "I" "C" "C" "C" "P,Q" "E" "X" "G" "A" "A" "B" "A" "A" "B" "C" "A" "D" "H,L" "G" "A" "F" "B" "D")
mut_res=("102H" "95B" "505I" "44D" "134E" "62A" "63L" "108H" "23B" "122A" "72P" "76B" "233A" "258A" "116M" "215A" "114B" "33H" "401B" "103B" "62B" "153A" "237A" "358A" "215A" "340A" "120S" "53B" "91B" "90L" "94L" "91L" "211A" "75B" "99H" "31C" "259E" "103H" "210A" "96G" "32B" "207H" "50H" "33C" "107A" "331B" "47B" "739A" "366A" "33H" "67E" "387A" "534D" "130A" "13A" "90L" "363A" "50X" "20Q" "98H" "57A" "403N" "33B" "101A" "23A" "46B" "33H" "2007B" "263A" "119A" "111L" "42E" "242B" "99A" "59A" "69A" "729S" "33H" "294B" "23A" "99B" "90B" "34G" "38D" "122A" "162C" "103F" "121A" "67R" "312A" "50A" "142B" "38D" "39D" "399B" "101H" "94E" "102R" "39D" "284A" "87A" "50H" "90F" "257B" "61D" "33H" "109A" "94A" "86A" "113A" "33M" "104A" "90L" "44D" "94L" "149C" "261A" "187B" "47D" "657A" "34B" "33H" "115B" "112B" "94B" "54H" "106B" "150B" "91L" "215A" "94D" "157C" "261A" "281C" "48H" "96G" "123B" "197A" "45D" "96G" "534A" "39A" "33H" "472A" "52B" "663A" "108B" "430A" "106B" "102B" "54C" "38D" "13A" "94L" "33H" "94A" "120A" "33H" "125A" "62A" "340B" "121B" "573B" "52F" "22A" "106H" "50H" "342S" "72D" "50E" "107H" "64B" "215T" "45D" "52H" "47H" "149B" "217P" "399B" "94A" "94E" "39A" "33A" "100A" "47H" "99H" "206X" "144A" "13B" "52H" "107A" "184B" "162C" "211B" "120O" "95F" "33H" "52E" "261A" "276A")

for i in {0..200}
do
    srun /PATH_TO_ROSETTA/source/bin/rosetta_scripts.default.linuxiccrelease -parser:protocol recovery.xml -ignore_unrecognized_res -out:file:score_only recover_trp.sc -s ${pdb_id[$i]}.pdb -parser:script_vars c1=${chains1[$i]} c2=${chains2[$i]} r=${mut_res[$i]} -out:no_nstruct_label -mute core.scoring.sc.ShapeIdentityCalculator -in:file:native ${pdb_id[$i]}.pdb -mute all
done
    
